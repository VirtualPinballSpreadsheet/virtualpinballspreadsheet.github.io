import{H as ce}from"../chunks/control.f5b05b5f.js";import{q as ue,e as L,g as X,a as Y,S as me}from"../chunks/modeMapping.4f8164c9.js";import{s as J,e as D,i as v,r as G,d as S,M as he,o as ie,a9 as _e,f as z,g as H,h as I,j as T,k as fe,p as ge,l as R,a as W,m as C,c as A,I as y,n as Z,a2 as ae,q as x,E as de,D as $}from"../chunks/scheduler.e0583846.js";import{S as K,i as Q,b as N,d as U,m as j,a as E,g as O,c as q,t as M,e as P}from"../chunks/index.8521fb40.js";function ee(o,e){return new ce(o,e)}new TextEncoder;const pe=({params:o})=>{const{mode:e}=o;if(!e)throw ee(404,"Not found");const t=Object.entries(ue).find(([n,l])=>l.route===e);if(!t)throw ee(404,"Not found");return{mode:t[0],...t[1]}},Te=Object.freeze(Object.defineProperty({__proto__:null,load:pe},Symbol.toStringTag,{value:"Module"}));function te(o){let e;return{c(){e=z("div"),this.h()},l(t){e=H(t,"DIV",{id:!0,style:!0}),I(e).forEach(S),this.h()},h(){T(e,"id","svelte-infinite-scroll"),fe(e,"width","0")},m(t,n){v(t,e,n),o[11](e)},p:G,d(t){t&&S(e),o[11](null)}}}function be(o){let e,t=!o[1]&&!o[0]&&te(o);return{c(){t&&t.c(),e=D()},l(n){t&&t.l(n),e=D()},m(n,l){t&&t.m(n,l),v(n,e,l)},p(n,[l]){!n[1]&&!n[0]?t?t.p(n,l):(t=te(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&S(e),t&&t.d(n)}}}function Se(o,e,t){let{threshold:n=0}=e,{horizontal:l=!1}=e,{elementScroll:s=null}=e,{hasMore:f=!0}=e,{reverse:r=!1}=e,{window:a=!1}=e;const u=he();let _=!1,d,w,k,h;const m=i=>{if(!f)return;const p=i.target;B(p,r,l)<=n?(!_&&f&&(u("loadMore"),t(8,w=p.scrollHeight),t(9,k=p.scrollTop)),t(7,_=!0)):t(7,_=!1)},B=(i,p,g)=>{const b=i.documentElement?i.documentElement:i;return p?g?b.scrollLeft:b.scrollTop:g?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollHeight-b.clientHeight-b.scrollTop};ie(()=>{a?t(10,h=document):s?t(10,h=s):t(10,h=d.parentNode)}),_e(()=>{h&&(h.removeEventListener("scroll",m),h.removeEventListener("resize",m))});function c(i){ge[i?"unshift":"push"](()=>{d=i,t(2,d)})}return o.$$set=i=>{"threshold"in i&&t(3,n=i.threshold),"horizontal"in i&&t(4,l=i.horizontal),"elementScroll"in i&&t(0,s=i.elementScroll),"hasMore"in i&&t(5,f=i.hasMore),"reverse"in i&&t(6,r=i.reverse),"window"in i&&t(1,a=i.window)},o.$$.update=()=>{o.$$.dirty&1088&&h&&(r&&t(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",m),h.addEventListener("resize",m)),o.$$.dirty&1984&&_&&r&&t(10,h.scrollTop=h.scrollHeight-w+k,h)},[s,a,d,n,l,f,r,_,w,k,h,c]}class we extends K{constructor(e){super(),Q(this,e,Se,be,J,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function ne(o,e,t){const n=o.slice();return n[8]=e[t],n[10]=t,n}function le(o,e,t){const n=o.slice();return n[8]=e[t],n[12]=t,n}function F(o){const e=o.slice(),t=e[2][e[10]*e[3]+e[12]];return e[13]=t,e}function oe(o){let e,t,n;const l=[o[4](o[13])];var s=o[1];function f(r,a){let u={};if(a!==void 0&&a&28)u=X(l,[Y(r[4](r[13]))]);else for(let _=0;_<l.length;_+=1)u=de(u,l[_]);return{props:u}}return s&&(e=x(s,f(o))),{c(){e&&N(e.$$.fragment),t=D()},l(r){e&&U(e.$$.fragment,r),t=D()},m(r,a){e&&j(e,r,a),v(r,t,a),n=!0},p(r,a){if(a&2&&s!==(s=r[1])){if(e){O();const u=e;M(u.$$.fragment,1,0,()=>{P(u,1)}),q()}s?(e=x(s,f(r,a)),N(e.$$.fragment),E(e.$$.fragment,1),j(e,t.parentNode,t)):e=null}else if(s){const u=a&28?X(l,[Y(r[4](r[13]))]):{};e.$set(u)}},i(r){n||(e&&E(e.$$.fragment,r),n=!0)},o(r){e&&M(e.$$.fragment,r),n=!1},d(r){r&&S(t),e&&P(e,r)}}}function re(o){let e,t,n=o[2].length>o[10]*o[3]+o[12]&&oe(F(o));return{c(){n&&n.c(),e=D()},l(l){n&&n.l(l),e=D()},m(l,s){n&&n.m(l,s),v(l,e,s),t=!0},p(l,s){l[2].length>l[10]*l[3]+l[12]?n?(n.p(F(l),s),s&12&&E(n,1)):(n=oe(F(l)),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(O(),M(n,1,1,()=>{n=null}),q())},i(l){t||(E(n),t=!0)},o(l){M(n),t=!1},d(l){l&&S(e),n&&n.d(l)}}}function se(o){let e,t,n=L({length:o[3]}),l=[];for(let f=0;f<n.length;f+=1)l[f]=re(le(o,n,f));const s=f=>M(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=D()},l(f){for(let r=0;r<l.length;r+=1)l[r].l(f);e=D()},m(f,r){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(f,r);v(f,e,r),t=!0},p(f,r){if(r&30){n=L({length:f[3]});let a;for(a=0;a<n.length;a+=1){const u=le(f,n,a);l[a]?(l[a].p(u,r),E(l[a],1)):(l[a]=re(u),l[a].c(),E(l[a],1),l[a].m(e.parentNode,e))}for(O(),a=n.length;a<l.length;a+=1)s(a);q()}},i(f){if(!t){for(let r=0;r<n.length;r+=1)E(l[r]);t=!0}},o(f){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)M(l[r]);t=!1},d(f){f&&S(e),ae(l,f)}}}function Ee(o){let e,t,n,l,s,f=o[2].length+"",r,a,u,_,d,w,k,h=L({length:o[6]}),m=[];for(let c=0;c<h.length;c+=1)m[c]=se(ne(o,h,c));const B=c=>M(m[c],1,1,()=>{m[c]=null});return w=new we({props:{hasMore:o[5],elementScroll:document.getElementById("page"),threshold:100}}),w.$on("loadMore",o[7]),{c(){e=z("div"),t=z("h2"),n=R(o[0]),l=W(),s=z("p"),r=R(f),a=R(" results"),u=W(),_=z("div");for(let c=0;c<m.length;c+=1)m[c].c();d=W(),N(w.$$.fragment),this.h()},l(c){e=H(c,"DIV",{class:!0});var i=I(e);t=H(i,"H2",{class:!0});var p=I(t);n=C(p,o[0]),p.forEach(S),l=A(i),s=H(i,"P",{class:!0,style:!0});var g=I(s);r=C(g,f),a=C(g," results"),g.forEach(S),i.forEach(S),u=A(c),_=H(c,"DIV",{class:!0});var b=I(_);for(let V=0;V<m.length;V+=1)m[V].l(b);b.forEach(S),d=A(c),U(w.$$.fragment,c),this.h()},h(){T(t,"class","h2"),T(s,"class","font-bold"),fe(s,"line-height","1.6rem"),T(e,"class","pt-4 px-6 md:p-10 md:pb-0 flex items-end gap-4"),T(_,"class","grid layout gap-y-10 gap-x-4 p-6 md:gap-x-10 md:gap-y-20 md:p-10 svelte-m55lsa")},m(c,i){v(c,e,i),y(e,t),y(t,n),y(e,l),y(e,s),y(s,r),y(s,a),v(c,u,i),v(c,_,i);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(_,null);v(c,d,i),j(w,c,i),k=!0},p(c,[i]){if((!k||i&1)&&Z(n,c[0]),(!k||i&4)&&f!==(f=c[2].length+"")&&Z(r,f),i&94){h=L({length:c[6]});let g;for(g=0;g<h.length;g+=1){const b=ne(c,h,g);m[g]?(m[g].p(b,i),E(m[g],1)):(m[g]=se(b),m[g].c(),E(m[g],1),m[g].m(_,null))}for(O(),g=h.length;g<m.length;g+=1)B(g);q()}const p={};i&32&&(p.hasMore=c[5]),w.$set(p)},i(c){if(!k){for(let i=0;i<h.length;i+=1)E(m[i]);E(w.$$.fragment,c),k=!0}},o(c){m=m.filter(Boolean);for(let i=0;i<m.length;i+=1)M(m[i]);M(w.$$.fragment,c),k=!1},d(c){c&&(S(e),S(u),S(_),S(d)),ae(m,c),P(w,c)}}}function ke(o,e,t){let{title:n="???"}=e,{component:l}=e,{data:s=[]}=e,{pageSize:f=100}=e,{transformData:r=d=>d}=e,a=!0,u=2;const _=()=>{t(6,u++,u),u*f>s.length&&t(5,a=!1)};return o.$$set=d=>{"title"in d&&t(0,n=d.title),"component"in d&&t(1,l=d.component),"data"in d&&t(2,s=d.data),"pageSize"in d&&t(3,f=d.pageSize),"transformData"in d&&t(4,r=d.transformData)},o.$$.update=()=>{o.$$.dirty&4&&(t(6,u=1),t(5,a=!0))},[n,l,s,f,r,a,u,_]}class Me extends K{constructor(e){super(),Q(this,e,ke,Ee,J,{title:0,component:1,data:2,pageSize:3,transformData:4})}}function ve(o){let e,t;return e=new Me({props:{component:o[0].component,title:o[0].name,data:o[1],transformData:o[4]}}),{c(){N(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,l){j(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.component=n[0].component),l&1&&(s.title=n[0].name),l&2&&(s.data=n[1]),l&1&&(s.transformData=n[4]),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function De(o,e,t){let n,l,{data:s}=e;const{finalResultsStore:f,mode:r}=me;$(o,f,u=>t(1,l=u)),$(o,r,u=>t(5,n=u)),ie(()=>{n!==s.mode&&r.set(s.mode)});const a=u=>{var _;return{file:u,href:s.mode==="game"?`?game=${u.id}`:`?game=${(_=u.game)==null?void 0:_.id}&fileType=${s.route}&fileId=${u.id}`}};return o.$$set=u=>{"data"in u&&t(0,s=u.data)},[s,l,f,r,a]}class Le extends K{constructor(e){super(),Q(this,e,De,ve,J,{data:0})}}export{Le as component,Te as universal};
