import{e as X}from"../chunks/index.93323930.js";import{m as ce}from"../chunks/modeMapping.1d1358ad.js";import{s as J,e as y,i as v,r as G,d as S,L as me,o as ie,a8 as ue,f as z,g as T,h as H,j as I,k as fe,p as he,l as C,a as R,m as W,c as A,H as D,n as Y,a0 as ae,q as Z,D as _e,C as x}from"../chunks/scheduler.a4b5f5fa.js";import{S as K,i as Q,b as L,d as U,m as N,a as k,g as O,c as B,t as E,e as j}from"../chunks/index.2698e3a4.js";import{e as P}from"../chunks/index.58dbe865.js";import{g as $,a as ee}from"../chunks/spread.8a54911c.js";import{S as ge}from"../chunks/SearchStore.41832003.js";const de=({params:o})=>{const{mode:e}=o;if(!e)throw X(404,"Not found");const t=Object.entries(ce).find(([l,n])=>n.route===e);if(!t)throw X(404,"Not found");return{mode:t[0],...t[1]}},Ne=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function te(o){let e;return{c(){e=z("div"),this.h()},l(t){e=T(t,"DIV",{id:!0,style:!0}),H(e).forEach(S),this.h()},h(){I(e,"id","svelte-infinite-scroll"),fe(e,"width","0")},m(t,l){v(t,e,l),o[11](e)},p:G,d(t){t&&S(e),o[11](null)}}}function pe(o){let e,t=!o[1]&&!o[0]&&te(o);return{c(){t&&t.c(),e=y()},l(l){t&&t.l(l),e=y()},m(l,n){t&&t.m(l,n),v(l,e,n)},p(l,[n]){!l[1]&&!l[0]?t?t.p(l,n):(t=te(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(l){l&&S(e),t&&t.d(l)}}}function be(o,e,t){let{threshold:l=0}=e,{horizontal:n=!1}=e,{elementScroll:s=null}=e,{hasMore:f=!0}=e,{reverse:r=!1}=e,{window:a=!1}=e;const m=me();let _=!1,d,w,M,h;const u=i=>{if(!f)return;const p=i.target;V(p,r,n)<=l?(!_&&f&&(m("loadMore"),t(8,w=p.scrollHeight),t(9,M=p.scrollTop)),t(7,_=!0)):t(7,_=!1)},V=(i,p,g)=>{const b=i.documentElement?i.documentElement:i;return p?g?b.scrollLeft:b.scrollTop:g?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollHeight-b.clientHeight-b.scrollTop};ie(()=>{a?t(10,h=document):s?t(10,h=s):t(10,h=d.parentNode)}),ue(()=>{h&&(h.removeEventListener("scroll",u),h.removeEventListener("resize",u))});function c(i){he[i?"unshift":"push"](()=>{d=i,t(2,d)})}return o.$$set=i=>{"threshold"in i&&t(3,l=i.threshold),"horizontal"in i&&t(4,n=i.horizontal),"elementScroll"in i&&t(0,s=i.elementScroll),"hasMore"in i&&t(5,f=i.hasMore),"reverse"in i&&t(6,r=i.reverse),"window"in i&&t(1,a=i.window)},o.$$.update=()=>{o.$$.dirty&1088&&h&&(r&&t(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",u),h.addEventListener("resize",u)),o.$$.dirty&1984&&_&&r&&t(10,h.scrollTop=h.scrollHeight-w+M,h)},[s,a,d,l,n,f,r,_,w,M,h,c]}class Se extends K{constructor(e){super(),Q(this,e,be,pe,J,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function le(o,e,t){const l=o.slice();return l[8]=e[t],l[10]=t,l}function ne(o,e,t){const l=o.slice();return l[8]=e[t],l[12]=t,l}function F(o){const e=o.slice(),t=e[2][e[10]*e[3]+e[12]];return e[13]=t,e}function oe(o){let e,t,l;const n=[o[4](o[13])];var s=o[1];function f(r,a){let m={};if(a!==void 0&&a&28)m=$(n,[ee(r[4](r[13]))]);else for(let _=0;_<n.length;_+=1)m=_e(m,n[_]);return{props:m}}return s&&(e=Z(s,f(o))),{c(){e&&L(e.$$.fragment),t=y()},l(r){e&&U(e.$$.fragment,r),t=y()},m(r,a){e&&N(e,r,a),v(r,t,a),l=!0},p(r,a){if(a&2&&s!==(s=r[1])){if(e){O();const m=e;E(m.$$.fragment,1,0,()=>{j(m,1)}),B()}s?(e=Z(s,f(r,a)),L(e.$$.fragment),k(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else if(s){const m=a&28?$(n,[ee(r[4](r[13]))]):{};e.$set(m)}},i(r){l||(e&&k(e.$$.fragment,r),l=!0)},o(r){e&&E(e.$$.fragment,r),l=!1},d(r){r&&S(t),e&&j(e,r)}}}function re(o){let e,t,l=o[2].length>o[10]*o[3]+o[12]&&oe(F(o));return{c(){l&&l.c(),e=y()},l(n){l&&l.l(n),e=y()},m(n,s){l&&l.m(n,s),v(n,e,s),t=!0},p(n,s){n[2].length>n[10]*n[3]+n[12]?l?(l.p(F(n),s),s&12&&k(l,1)):(l=oe(F(n)),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(O(),E(l,1,1,()=>{l=null}),B())},i(n){t||(k(l),t=!0)},o(n){E(l),t=!1},d(n){n&&S(e),l&&l.d(n)}}}function se(o){let e,t,l=P({length:o[3]}),n=[];for(let f=0;f<l.length;f+=1)n[f]=re(ne(o,l,f));const s=f=>E(n[f],1,1,()=>{n[f]=null});return{c(){for(let f=0;f<n.length;f+=1)n[f].c();e=y()},l(f){for(let r=0;r<n.length;r+=1)n[r].l(f);e=y()},m(f,r){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(f,r);v(f,e,r),t=!0},p(f,r){if(r&30){l=P({length:f[3]});let a;for(a=0;a<l.length;a+=1){const m=ne(f,l,a);n[a]?(n[a].p(m,r),k(n[a],1)):(n[a]=re(m),n[a].c(),k(n[a],1),n[a].m(e.parentNode,e))}for(O(),a=l.length;a<n.length;a+=1)s(a);B()}},i(f){if(!t){for(let r=0;r<l.length;r+=1)k(n[r]);t=!0}},o(f){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)E(n[r]);t=!1},d(f){f&&S(e),ae(n,f)}}}function we(o){let e,t,l,n,s,f=o[2].length+"",r,a,m,_,d,w,M,h=P({length:o[6]}),u=[];for(let c=0;c<h.length;c+=1)u[c]=se(le(o,h,c));const V=c=>E(u[c],1,1,()=>{u[c]=null});return w=new Se({props:{hasMore:o[5],elementScroll:document.getElementById("page"),threshold:100}}),w.$on("loadMore",o[7]),{c(){e=z("div"),t=z("h2"),l=C(o[0]),n=R(),s=z("p"),r=C(f),a=C(" results"),m=R(),_=z("div");for(let c=0;c<u.length;c+=1)u[c].c();d=R(),L(w.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var i=H(e);t=T(i,"H2",{class:!0});var p=H(t);l=W(p,o[0]),p.forEach(S),n=A(i),s=T(i,"P",{class:!0,style:!0});var g=H(s);r=W(g,f),a=W(g," results"),g.forEach(S),i.forEach(S),m=A(c),_=T(c,"DIV",{class:!0});var b=H(_);for(let q=0;q<u.length;q+=1)u[q].l(b);b.forEach(S),d=A(c),U(w.$$.fragment,c),this.h()},h(){I(t,"class","h2"),I(s,"class","font-bold"),fe(s,"line-height","1.6rem"),I(e,"class","pt-4 px-6 md:p-10 md:pb-0 flex items-end gap-4"),I(_,"class","grid layout gap-y-10 gap-x-4 p-6 md:gap-x-10 md:gap-y-20 md:p-10 svelte-m55lsa")},m(c,i){v(c,e,i),D(e,t),D(t,l),D(e,n),D(e,s),D(s,r),D(s,a),v(c,m,i),v(c,_,i);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(_,null);v(c,d,i),N(w,c,i),M=!0},p(c,[i]){if((!M||i&1)&&Y(l,c[0]),(!M||i&4)&&f!==(f=c[2].length+"")&&Y(r,f),i&94){h=P({length:c[6]});let g;for(g=0;g<h.length;g+=1){const b=le(c,h,g);u[g]?(u[g].p(b,i),k(u[g],1)):(u[g]=se(b),u[g].c(),k(u[g],1),u[g].m(_,null))}for(O(),g=h.length;g<u.length;g+=1)V(g);B()}const p={};i&32&&(p.hasMore=c[5]),w.$set(p)},i(c){if(!M){for(let i=0;i<h.length;i+=1)k(u[i]);k(w.$$.fragment,c),M=!0}},o(c){u=u.filter(Boolean);for(let i=0;i<u.length;i+=1)E(u[i]);E(w.$$.fragment,c),M=!1},d(c){c&&(S(e),S(m),S(_),S(d)),ae(u,c),j(w,c)}}}function ke(o,e,t){let{title:l="???"}=e,{component:n}=e,{data:s=[]}=e,{pageSize:f=100}=e,{transformData:r=d=>d}=e,a=!0,m=2;const _=()=>{t(6,m++,m),m*f>s.length&&t(5,a=!1)};return o.$$set=d=>{"title"in d&&t(0,l=d.title),"component"in d&&t(1,n=d.component),"data"in d&&t(2,s=d.data),"pageSize"in d&&t(3,f=d.pageSize),"transformData"in d&&t(4,r=d.transformData)},o.$$.update=()=>{o.$$.dirty&4&&(t(6,m=1),t(5,a=!0))},[l,n,s,f,r,a,m,_]}class Me extends K{constructor(e){super(),Q(this,e,ke,we,J,{title:0,component:1,data:2,pageSize:3,transformData:4})}}function Ee(o){let e,t;return e=new Me({props:{component:o[0].component,title:o[0].name,data:o[1],transformData:o[4]}}),{c(){L(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){N(e,l,n),t=!0},p(l,[n]){const s={};n&1&&(s.component=l[0].component),n&1&&(s.title=l[0].name),n&2&&(s.data=l[1]),n&1&&(s.transformData=l[4]),e.$set(s)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function ve(o,e,t){let l,n,{data:s}=e;const{finalResultsStore:f,mode:r}=ge;x(o,f,m=>t(1,n=m)),x(o,r,m=>t(5,l=m)),ie(()=>{l!==s.mode&&r.set(s.mode)});const a=m=>{var _;return{file:m,fileType:s.mode,href:s.mode==="game"?`?game=${m.id}`:`?game=${(_=m.game)==null?void 0:_.id}&fileType=${s.route}&fileId=${m.id}`}};return o.$$set=m=>{"data"in m&&t(0,s=m.data)},[s,n,f,r,a]}class je extends K{constructor(e){super(),Q(this,e,ve,Ee,J,{data:0})}}export{je as component,Ne as universal};
