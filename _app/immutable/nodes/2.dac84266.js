import{s as ke,o as Sr,b as cr,n as Be,c as Tr,q as de,d as Mr,w as zt,v as hr,r as Or}from"../chunks/scheduler.53b6a842.js";import{S as Pe,i as Ae,g as A,m as te,s as L,r as se,h as x,j as W,n as re,f as O,c as Y,K as kr,u as he,k as E,l as G,a as ne,B as _,v as fe,o as ue,d as R,p as Me,b as Oe,t as X,w as ce,M as it,C as Ne,q as Wt,e as et,D as Xe,E as Je,N as $e,O as Ut}from"../chunks/index.7ba2143b.js";import{b as dr}from"../chunks/paths.221d21e0.js";import{F as _t,h as vr,e as ye,i as Pr,g as It,j as Vt,q as Lt}from"../chunks/index.0cc00faf.js";import{D as qe}from"../chunks/DbStore.4e20062f.js";import{d as mr}from"../chunks/index.8246a737.js";function Yt(r,e,t){const n=r.slice();n[16]=e[t],n[19]=t;const a=n[1].slice(n[19]*n[6],(n[19]+1)*n[6]);return n[17]=a,n}function Bt(r,e,t){const n=r.slice();return n[20]=e[t],n}function Nt(r,e,t){const n=r.slice();return n[20]=e[t],n}function qt(r){let e,t,n;const a=[r[20]];var i=r[2];function o(u,l){let f={};if(l!==void 0&&l&66)f=It(a,[Vt(u[20])]);else for(let s=0;s<a.length;s+=1)f=Tr(f,a[s]);return{props:f}}return i&&(e=Wt(i,o(r))),{c(){e&&se(e.$$.fragment),t=et()},l(u){e&&he(e.$$.fragment,u),t=et()},m(u,l){e&&fe(e,u,l),ne(u,t,l),n=!0},p(u,l){if(l&4&&i!==(i=u[2])){if(e){Me();const f=e;X(f.$$.fragment,1,0,()=>{ce(f,1)}),Oe()}i?(e=Wt(i,o(u,l)),se(e.$$.fragment),R(e.$$.fragment,1),fe(e,t.parentNode,t)):e=null}else if(i){const f=l&66?It(a,[Vt(u[20])]):{};e.$set(f)}},i(u){n||(e&&R(e.$$.fragment,u),n=!0)},o(u){e&&X(e.$$.fragment,u),n=!1},d(u){u&&O(t),e&&ce(e,u)}}}function Ht(r){let e,t=ye(new Array(r[6]-r[17].length).fill("")),n=[];for(let a=0;a<t.length;a+=1)n[a]=Rt(Bt(r,t,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=et()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=et()},m(a,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,i);ne(a,e,i)},p(a,i){if(i&66){t=ye(new Array(a[6]-a[17].length).fill(""));let o;for(o=0;o<t.length;o+=1){const u=Bt(a,t,o);n[o]?n[o].p(u,i):(n[o]=Rt(),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&O(e),it(n,a)}}}function Rt(r){let e;return{c(){e=A("div")},l(t){e=x(t,"DIV",{}),W(e).forEach(O)},m(t,n){ne(t,e,n)},p:Be,d(t){t&&O(e)}}}function jt(r){let e,t,n,a,i,o=ye(r[17]),u=[];for(let s=0;s<o.length;s+=1)u[s]=qt(Nt(r,o,s));const l=s=>X(u[s],1,1,()=>{u[s]=null});let f=r[17].length<r[6]&&Ht(r);return{c(){e=A("div");for(let s=0;s<u.length;s+=1)u[s].c();t=L(),f&&f.c(),n=L(),this.h()},l(s){e=x(s,"DIV",{class:!0,id:!0});var d=W(e);for(let c=0;c<u.length;c+=1)u[c].l(d);t=Y(d),f&&f.l(d),n=Y(d),d.forEach(O),this.h()},h(){E(e,"class","grid grid-flow-col auto-cols-fr gap-10"),E(e,"id",a=r[0]+r[19])},m(s,d){ne(s,e,d);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);_(e,t),f&&f.m(e,null),_(e,n),i=!0},p(s,d){if(d&70){o=ye(s[17]);let c;for(c=0;c<o.length;c+=1){const h=Nt(s,o,c);u[c]?(u[c].p(h,d),R(u[c],1)):(u[c]=qt(h),u[c].c(),R(u[c],1),u[c].m(e,t))}for(Me(),c=o.length;c<u.length;c+=1)l(c);Oe()}s[17].length<s[6]?f?f.p(s,d):(f=Ht(s),f.c(),f.m(e,n)):f&&(f.d(1),f=null),(!i||d&1&&a!==(a=s[0]+s[19]))&&E(e,"id",a)},i(s){if(!i){for(let d=0;d<o.length;d+=1)R(u[d]);i=!0}},o(s){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)X(u[d]);i=!1},d(s){s&&O(e),it(u,s),f&&f.d()}}}function Gt(r){let e,t,n,a,i;return t=new _t({props:{icon:vr,size:"lg"}}),{c(){e=A("button"),se(t.$$.fragment),this.h()},l(o){e=x(o,"BUTTON",{style:!0,class:!0});var u=W(e);he(t.$$.fragment,u),u.forEach(O),this.h()},h(){G(e,"width",r[4]+"rem"),E(e,"class","absolute right-0 top-0 h-full grid place-items-center text-xl bg-gradient-to-l from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(o,u){ne(o,e,u),fe(t,e,null),n=!0,a||(i=Ne(e,"click",r[13]),a=!0)},p(o,u){(!n||u&16)&&G(e,"width",o[4]+"rem")},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&O(e),ce(t),a=!1,i()}}}function Qt(r){let e,t,n,a,i;return t=new _t({props:{icon:Pr,size:"lg"}}),{c(){e=A("button"),se(t.$$.fragment),this.h()},l(o){e=x(o,"BUTTON",{style:!0,class:!0});var u=W(e);he(t.$$.fragment,u),u.forEach(O),this.h()},h(){G(e,"width",r[4]+"rem"),E(e,"class","absolute left-0 top-0 h-full grid place-items-center text-xl bg-gradient-to-r from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(o,u){ne(o,e,u),fe(t,e,null),n=!0,a||(i=Ne(e,"click",r[14]),a=!0)},p(o,u){(!n||u&16)&&G(e,"width",o[4]+"rem")},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&O(e),ce(t),a=!1,i()}}}function Ar(r){let e,t,n,a,i,o,u,l="Show All",f,s,d,c,h,v,p,y,w,g,m,b;s=new _t({props:{icon:vr,class:"-translate-x-14 transition-transform group-hover:translate-x-2 group-hover:text-primary-500 text-sm"}});let C=ye(r[8]),D=[];for(let F=0;F<C.length;F+=1)D[F]=jt(Yt(r,C,F));const P=F=>X(D[F],1,1,()=>{D[F]=null});let T=r[5]<r[8].length-1&&Gt(r),k=r[5]>0&&Qt(r);return{c(){e=A("div"),t=A("a"),n=A("h4"),a=te(r[0]),i=L(),o=A("div"),u=A("p"),u.textContent=l,f=L(),se(s.$$.fragment),d=L(),c=A("div"),h=A("div");for(let F=0;F<D.length;F+=1)D[F].c();v=L(),T&&T.c(),p=L(),k&&k.c(),y=L(),w=A("div"),g=L(),m=A("div"),this.h()},l(F){e=x(F,"DIV",{class:!0,style:!0});var M=W(e);t=x(M,"A",{href:!0,class:!0,style:!0});var S=W(t);n=x(S,"H4",{class:!0});var V=W(n);a=re(V,r[0]),V.forEach(O),i=Y(S),o=x(S,"DIV",{class:!0});var I=W(o);u=x(I,"P",{class:!0,"data-svelte-h":!0}),kr(u)!=="svelte-1r1s0xf"&&(u.textContent=l),f=Y(I),he(s.$$.fragment,I),I.forEach(O),S.forEach(O),d=Y(M),c=x(M,"DIV",{class:!0});var z=W(c);h=x(z,"DIV",{style:!0,class:!0});var q=W(h);for(let H=0;H<D.length;H+=1)D[H].l(q);q.forEach(O),v=Y(z),T&&T.l(z),p=Y(z),k&&k.l(z),y=Y(z),w=x(z,"DIV",{style:!0,class:!0}),W(w).forEach(O),g=Y(z),m=x(z,"DIV",{style:!0,class:!0}),W(m).forEach(O),z.forEach(O),M.forEach(O),this.h()},h(){E(n,"class","h4"),E(u,"class","text-primary-500 transition-all opacity-0 font-bold text-sm -translate-x-4 group-hover:opacity-100 group-hover:text-primary-500 group-hover:translate-x-0"),E(o,"class","flex items-center"),E(t,"href",r[3]),E(t,"class","flex items-center gap-2 transition-colors group"),G(t,"margin-left",r[4]+"rem"),G(h,"scroll-padding-inline",r[4]+"rem"),G(h,"padding","0 "+r[4]+"rem"),E(h,"class","scroller grid grid-flow-col gap-10 overflow-x-hidden w-full svelte-1o16yw2"),G(w,"width",r[4]+"rem"),E(w,"class","absolute left-0 top-0 h-full bg-surface-900/60 z-10"),G(m,"width",r[4]+"rem"),E(m,"class","absolute right-0 top-0 h-full bg-surface-900/60 z-10"),E(c,"class","relative w-full"),E(e,"class","flex flex-col gap-4 items-start -mx-10"),G(e,"width","calc(100% + 5rem)")},m(F,M){ne(F,e,M),_(e,t),_(t,n),_(n,a),_(t,i),_(t,o),_(o,u),_(o,f),fe(s,o,null),_(e,d),_(e,c),_(c,h);for(let S=0;S<D.length;S+=1)D[S]&&D[S].m(h,null);_(c,v),T&&T.m(c,null),_(c,p),k&&k.m(c,null),_(c,y),_(c,w),_(c,g),_(c,m),r[15](e),b=!0},p(F,[M]){if((!b||M&1)&&ue(a,F[0]),(!b||M&8)&&E(t,"href",F[3]),(!b||M&16)&&G(t,"margin-left",F[4]+"rem"),M&327){C=ye(F[8]);let S;for(S=0;S<C.length;S+=1){const V=Yt(F,C,S);D[S]?(D[S].p(V,M),R(D[S],1)):(D[S]=jt(V),D[S].c(),R(D[S],1),D[S].m(h,null))}for(Me(),S=C.length;S<D.length;S+=1)P(S);Oe()}(!b||M&16)&&G(h,"scroll-padding-inline",F[4]+"rem"),(!b||M&16)&&G(h,"padding","0 "+F[4]+"rem"),F[5]<F[8].length-1?T?(T.p(F,M),M&288&&R(T,1)):(T=Gt(F),T.c(),R(T,1),T.m(c,p)):T&&(Me(),X(T,1,1,()=>{T=null}),Oe()),F[5]>0?k?(k.p(F,M),M&32&&R(k,1)):(k=Qt(F),k.c(),R(k,1),k.m(c,y)):k&&(Me(),X(k,1,1,()=>{k=null}),Oe()),(!b||M&16)&&G(w,"width",F[4]+"rem"),(!b||M&16)&&G(m,"width",F[4]+"rem")},i(F){if(!b){R(s.$$.fragment,F);for(let M=0;M<C.length;M+=1)R(D[M]);R(T),R(k),b=!0}},o(F){X(s.$$.fragment,F),D=D.filter(Boolean);for(let M=0;M<D.length;M+=1)X(D[M]);X(T),X(k),b=!1},d(F){F&&O(e),ce(s),it(D,F),T&&T.d(),k&&k.d(),r[15](null)}}}function xr(r,e,t){let n,a,i,{title:o=""}=e,{data:u=[]}=e,{component:l}=e,{href:f=""}=e,{size:s=400}=e,{overflow:d=4}=e,c=window.innerWidth,h,v=0;Sr(()=>{const m=new ResizeObserver(b=>{const C=b.at(0);if(!C)return;const D=C.contentBoxSize[0].inlineSize;D!==c&&t(11,c=D)});return m.observe(h),()=>m.unobserve(h)});const p=m=>{const b=document.getElementById(o+m);b==null||b.scrollIntoView({behavior:"smooth",block:"nearest"}),t(5,v=m)},y=()=>p(v+1),w=()=>p(v-1);function g(m){cr[m?"unshift":"push"](()=>{h=m,t(7,h)})}return r.$$set=m=>{"title"in m&&t(0,o=m.title),"data"in m&&t(1,u=m.data),"component"in m&&t(2,l=m.component),"href"in m&&t(3,f=m.href),"size"in m&&t(10,s=m.size),"overflow"in m&&t(4,d=m.overflow)},r.$$.update=()=>{r.$$.dirty&3072&&t(12,n=Math.ceil(c/s)),r.$$.dirty&7168&&t(6,a=c/n<s?n:n+1),r.$$.dirty&32&&console.log(v),r.$$.dirty&66&&t(8,i=new Array(Math.ceil(u.length/a)).fill(""))},[o,u,l,f,d,v,a,h,i,p,s,c,n,y,w,g]}class Ue extends Pe{constructor(e){super(),Ae(this,e,xr,Ar,ke,{title:0,data:1,component:2,href:3,size:10,overflow:4})}}const Xt=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],gr={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},zr={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},Wr={authors:[],id:"",updatedAt:0,urls:[]},Ur={authors:[],id:"",updatedAt:0,urls:[]},Jt=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function Ir(r){var y,w;let e,t,n,a,i,o,u,l,f,s=((y=r[0].game)==null?void 0:y.name)+"",d,c,h,v=((w=r[0].authors)==null?void 0:w.join(", "))+"",p;return{c(){e=A("div"),t=A("img"),i=L(),o=A("hr"),u=L(),l=A("div"),f=A("h4"),d=te(s),c=L(),h=A("h4"),p=te(v),this.h()},l(g){e=x(g,"DIV",{class:!0});var m=W(e);t=x(m,"IMG",{src:!0,alt:!0,class:!0}),i=Y(m),o=x(m,"HR",{}),u=Y(m),l=x(m,"DIV",{class:!0});var b=W(l);f=x(b,"H4",{class:!0});var C=W(f);d=re(C,s),C.forEach(O),c=Y(b),h=x(b,"H4",{class:!0});var D=W(h);p=re(D,v),D.forEach(O),b.forEach(O),m.forEach(O),this.h()},h(){de(t.src,n=r[0].imgUrl||Jt)||E(t,"src",n),E(t,"alt",a=r[0].id),E(t,"class","card aspectTable svelte-1mrpffe"),E(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),E(h,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),E(l,"class","flex flex-col p-4"),E(e,"class","overflow-hidden flex flex-col")},m(g,m){ne(g,e,m),_(e,t),_(e,i),_(e,o),_(e,u),_(e,l),_(l,f),_(f,d),_(l,c),_(l,h),_(h,p)},p(g,[m]){var b,C;m&1&&!de(t.src,n=g[0].imgUrl||Jt)&&E(t,"src",n),m&1&&a!==(a=g[0].id)&&E(t,"alt",a),m&1&&s!==(s=((b=g[0].game)==null?void 0:b.name)+"")&&ue(d,s),m&1&&v!==(v=((C=g[0].authors)==null?void 0:C.join(", "))+"")&&ue(p,v)},i:Be,o:Be,d(g){g&&O(e)}}}function Vr(r,e,t){let{b2s:n=Wr}=e;return r.$$set=a=>{"b2s"in a&&t(0,n=a.b2s)},[n]}class Lr extends Pe{constructor(e){super(),Ae(this,e,Vr,Ir,ke,{b2s:0})}}function $t(r){let e,t=r[0].version+"",n;return{c(){e=A("span"),n=te(t),this.h()},l(a){e=x(a,"SPAN",{class:!0});var i=W(e);n=re(i,t),i.forEach(O),this.h()},h(){E(e,"class","opacity-40")},m(a,i){ne(a,e,i),_(e,n)},p(a,i){i&1&&t!==(t=a[0].version+"")&&ue(n,t)},d(a){a&&O(e)}}}function Yr(r){var d;let e,t,n,a=(((d=r[0].game)==null?void 0:d.name)||"???")+"",i,o,u,l,f,s=r[0].version&&$t(r);return{c(){e=A("div"),t=A("div"),n=A("span"),i=te(a),o=L(),s&&s.c(),u=L(),l=A("img"),this.h()},l(c){e=x(c,"DIV",{class:!0});var h=W(e);t=x(h,"DIV",{class:!0});var v=W(t);n=x(v,"SPAN",{class:!0});var p=W(n);i=re(p,a),p.forEach(O),o=Y(v),s&&s.l(v),v.forEach(O),u=Y(h),l=x(h,"IMG",{src:!0,class:!0,alt:!0}),h.forEach(O),this.h()},h(){E(n,"class","font-bold"),E(t,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),de(l.src,f=r[1])||E(l,"src",f),E(l,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),E(l,"alt",""),E(e,"class","card aspect relative overflow-hidden svelte-22xih4")},m(c,h){ne(c,e,h),_(e,t),_(t,n),_(n,i),_(t,o),s&&s.m(t,null),_(e,u),_(e,l)},p(c,[h]){var v;h&1&&a!==(a=(((v=c[0].game)==null?void 0:v.name)||"???")+"")&&ue(i,a),c[0].version?s?s.p(c,h):(s=$t(c),s.c(),s.m(t,null)):s&&(s.d(1),s=null),h&2&&!de(l.src,f=c[1])&&E(l,"src",f)},i:Be,o:Be,d(c){c&&O(e),s&&s.d()}}}function Br(r,e,t){let n;const{getGameImage:a}=qe;let{file:i=Ur}=e;return r.$$set=o=>{"file"in o&&t(0,i=o.file)},r.$$.update=()=>{var o;r.$$.dirty&1&&t(1,n=(o=i.game)!=null&&o.id?a(i.game.id):"")},[i,n]}class ft extends Pe{constructor(e){super(),Ae(this,e,Br,Yr,ke,{file:0})}}const Te=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function tt(r){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(r)}function Fe(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function oe(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function ve(r){oe(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||tt(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Nr(r,e){oe(2,arguments);var t=ve(r).getTime(),n=Fe(e);return new Date(t+n)}var qr={};function ot(){return qr}function Hr(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function Rr(r){return oe(1,arguments),r instanceof Date||tt(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function jr(r){if(oe(1,arguments),!Rr(r)&&typeof r!="number")return!1;var e=ve(r);return!isNaN(Number(e))}function Gr(r,e){oe(2,arguments);var t=Fe(e);return Nr(r,-t)}var Qr=864e5;function Xr(r){oe(1,arguments);var e=ve(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/Qr)+1}function rt(r){oe(1,arguments);var e=1,t=ve(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function pr(r){oe(1,arguments);var e=ve(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=rt(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=rt(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Jr(r){oe(1,arguments);var e=pr(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=rt(t);return n}var $r=6048e5;function Kr(r){oe(1,arguments);var e=ve(r),t=rt(e).getTime()-Jr(e).getTime();return Math.round(t/$r)+1}function nt(r,e){var t,n,a,i,o,u,l,f;oe(1,arguments);var s=ot(),d=Fe((t=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&a!==void 0?a:s.weekStartsOn)!==null&&n!==void 0?n:(l=s.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=ve(r),h=c.getUTCDay(),v=(h<d?7:0)+h-d;return c.setUTCDate(c.getUTCDate()-v),c.setUTCHours(0,0,0,0),c}function yr(r,e){var t,n,a,i,o,u,l,f;oe(1,arguments);var s=ve(r),d=s.getUTCFullYear(),c=ot(),h=Fe((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(d+1,0,h),v.setUTCHours(0,0,0,0);var p=nt(v,e),y=new Date(0);y.setUTCFullYear(d,0,h),y.setUTCHours(0,0,0,0);var w=nt(y,e);return s.getTime()>=p.getTime()?d+1:s.getTime()>=w.getTime()?d:d-1}function Zr(r,e){var t,n,a,i,o,u,l,f;oe(1,arguments);var s=ot(),d=Fe((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:s.firstWeekContainsDate)!==null&&n!==void 0?n:(l=s.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),c=yr(r,e),h=new Date(0);h.setUTCFullYear(c,0,d),h.setUTCHours(0,0,0,0);var v=nt(h,e);return v}var en=6048e5;function tn(r,e){oe(1,arguments);var t=ve(r),n=nt(t,e).getTime()-Zr(t,e).getTime();return Math.round(n/en)+1}function N(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var rn={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return N(t==="yy"?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):N(n+1,2)},d:function(e,t){return N(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return N(e.getUTCHours()%12||12,t.length)},H:function(e,t){return N(e.getUTCHours(),t.length)},m:function(e,t){return N(e.getUTCMinutes(),t.length)},s:function(e,t){return N(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return N(i,t.length)}};const pe=rn;var Ee={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nn={G:function(e,t,n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return pe.y(e,t)},Y:function(e,t,n,a){var i=yr(e,a),o=i>0?i:1-i;if(t==="YY"){var u=o%100;return N(u,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):N(o,t.length)},R:function(e,t){var n=pr(e);return N(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return N(n,t.length)},Q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return N(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return N(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return pe.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return N(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=tn(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):N(i,t.length)},I:function(e,t,n){var a=Kr(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):N(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):pe.d(e,t)},D:function(e,t,n){var a=Xr(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):N(a,t.length)},E:function(e,t,n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return N(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return N(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return N(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var a=e.getUTCHours(),i;switch(a===12?i=Ee.noon:a===0?i=Ee.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var a=e.getUTCHours(),i;switch(a>=17?i=Ee.evening:a>=12?i=Ee.afternoon:a>=4?i=Ee.morning:i=Ee.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return pe.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):pe.H(e,t)},K:function(e,t,n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):N(a,t.length)},k:function(e,t,n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):N(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):pe.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):pe.s(e,t)},S:function(e,t){return pe.S(e,t)},X:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Zt(o);case"XXXX":case"XX":return _e(o);case"XXXXX":case"XXX":default:return _e(o,":")}},x:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Zt(o);case"xxxx":case"xx":return _e(o);case"xxxxx":case"xxx":default:return _e(o,":")}},O:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kt(o,":");case"OOOO":default:return"GMT"+_e(o,":")}},z:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kt(o,":");case"zzzz":default:return"GMT"+_e(o,":")}},t:function(e,t,n,a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return N(o,t.length)},T:function(e,t,n,a){var i=a._originalDate||e,o=i.getTime();return N(o,t.length)}};function Kt(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+N(i,2)}function Zt(r,e){if(r%60===0){var t=r>0?"-":"+";return t+N(Math.abs(r)/60,2)}return _e(r,e)}function _e(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=N(Math.floor(a/60),2),o=N(a%60,2);return n+i+t+o}const an=nn;var er=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wr=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},on=function(e,t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return er(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",er(a,t)).replace("{{time}}",wr(i,t))},un={p:wr,P:on};const ln=un;var sn=["D","DD"],fn=["YY","YYYY"];function cn(r){return sn.indexOf(r)!==-1}function hn(r){return fn.indexOf(r)!==-1}function tr(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var dn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vn=function(e,t,n){var a,i=dn[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const mn=vn;function ct(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var gn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wn={date:ct({formats:gn,defaultWidth:"full"}),time:ct({formats:pn,defaultWidth:"full"}),dateTime:ct({formats:yn,defaultWidth:"full"})};const bn=wn;var _n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fn=function(e,t,n,a){return _n[e]};const Cn=Fn;function Ie(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{var u=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[u]}var f=r.argumentCallback?r.argumentCallback(e):e;return a[f]}}var Dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},En={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},On={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kn=function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pn={ordinalNumber:kn,era:Ie({values:Dn,defaultWidth:"wide"}),quarter:Ie({values:En,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ie({values:Sn,defaultWidth:"wide"}),day:Ie({values:Tn,defaultWidth:"wide"}),dayPeriod:Ie({values:Mn,defaultWidth:"wide",formattingValues:On,defaultFormattingWidth:"wide"})};const An=Pn;function Ve(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(u)?zn(u,function(d){return d.test(o)}):xn(u,function(d){return d.test(o)}),f;f=r.valueCallback?r.valueCallback(l):l,f=t.valueCallback?t.valueCallback(f):f;var s=e.slice(o.length);return{value:f,rest:s}}}function xn(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function zn(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function Wn(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var a=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var u=e.slice(a.length);return{value:o,rest:u}}}var Un=/^(\d+)(th|st|nd|rd)?/i,In=/\d+/i,Vn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ln={any:[/^b/i,/^(a|c)/i]},Yn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bn={any:[/1/i,/2/i,/3/i,/4/i]},Nn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qn={ordinalNumber:Wn({matchPattern:Un,parsePattern:In,valueCallback:function(e){return parseInt(e,10)}}),era:Ve({matchPatterns:Vn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any"}),quarter:Ve({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ve({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:qn,defaultParseWidth:"any"}),day:Ve({matchPatterns:Hn,defaultMatchWidth:"wide",parsePatterns:Rn,defaultParseWidth:"any"}),dayPeriod:Ve({matchPatterns:jn,defaultMatchWidth:"any",parsePatterns:Gn,defaultParseWidth:"any"})};const Xn=Qn;var Jn={code:"en-US",formatDistance:mn,formatLong:bn,formatRelative:Cn,localize:An,match:Xn,options:{weekStartsOn:0,firstWeekContainsDate:1}};const $n=Jn;var Kn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ea=/^'([^]*?)'?$/,ta=/''/g,ra=/[a-zA-Z]/;function na(r,e,t){var n,a,i,o,u,l,f,s,d,c,h,v,p,y,w,g,m,b;oe(2,arguments);var C=String(e),D=ot(),P=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:D.locale)!==null&&n!==void 0?n:$n,T=Fe((i=(o=(u=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(f=t.locale)===null||f===void 0||(s=f.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&u!==void 0?u:D.firstWeekContainsDate)!==null&&o!==void 0?o:(d=D.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Fe((h=(v=(p=(y=t==null?void 0:t.weekStartsOn)!==null&&y!==void 0?y:t==null||(w=t.locale)===null||w===void 0||(g=w.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&v!==void 0?v:(m=D.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var F=ve(r);if(!jr(F))throw new RangeError("Invalid time value");var M=Hr(F),S=Gr(F,M),V={firstWeekContainsDate:T,weekStartsOn:k,locale:P,_originalDate:F},I=C.match(Zn).map(function(z){var q=z[0];if(q==="p"||q==="P"){var H=ln[q];return H(z,P.formatLong)}return z}).join("").match(Kn).map(function(z){if(z==="''")return"'";var q=z[0];if(q==="'")return aa(z);var H=an[q];if(H)return!(t!=null&&t.useAdditionalWeekYearTokens)&&hn(z)&&tr(z,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&cn(z)&&tr(z,e,String(r)),H(S,z,P.localize,V);if(q.match(ra))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return z}).join("");return I}function aa(r){var e=r.match(ea);return e?e[1].replace(ta,"'"):r}const rr=r=>isNaN(new Date(r).getTime())?"??.??.????":na(new Date(r),"dd.MM.yyyy");function nr(r,e,t){const n=r.slice();return n[12]=e[t],n}function ar(r){let e,t=r[12].toUpperCase()+"",n;return{c(){e=A("div"),n=te(t),this.h()},l(a){e=x(a,"DIV",{class:!0});var i=W(e);n=re(i,t),i.forEach(O),this.h()},h(){E(e,"class","badge variant-filled-surface")},m(a,i){ne(a,e,i),_(e,n)},p(a,i){i&1&&t!==(t=a[12].toUpperCase()+"")&&ue(n,t)},d(a){a&&O(e)}}}function ia(r){var Et;let e,t,n,a,i,o,u,l,f,s,d,c,h=((Et=r[6])==null?void 0:Et.name)+"",v,p,y,w,g=r[6].manufacturer+"",m,b,C,D,P=r[6].year+"",T,k,F,M,S=r[0].authors.join(", ")+"",V,I,z,q,H,le,ae=r[0].tableFormat+"",He,ut,Ce,xe=rr(r[0].updatedAt)+"",Re,me,je,ge,ze,we,We,J,lt,Dt,De=ye(r[0].features||[]),Z=[];for(let B=0;B<De.length;B+=1)Z[B]=ar(nr(r,De,B));return{c(){e=A("div"),t=A("img"),o=L(),u=A("div"),l=A("img"),d=L(),c=A("p"),v=te(h),p=L(),y=A("div"),w=A("p"),m=te(g),b=L(),C=A("p"),D=te("("),T=te(P),k=te(")"),F=L(),M=A("p"),V=te(S),I=L(),z=A("div");for(let B=0;B<Z.length;B+=1)Z[B].c();q=L(),H=A("div"),le=A("div"),He=te(ae),ut=L(),Ce=A("p"),Re=te(xe),je=L(),ge=Xe("svg"),ze=Xe("defs"),we=Xe("clipPath"),We=Xe("path"),this.h()},l(B){e=x(B,"DIV",{style:!0,class:!0});var j=W(e);t=x(j,"IMG",{src:!0,alt:!0,class:!0}),o=Y(j),u=x(j,"DIV",{class:!0,style:!0});var $=W(u);l=x($,"IMG",{src:!0,alt:!0,style:!0,class:!0}),d=Y($),c=x($,"P",{class:!0});var ie=W(c);v=re(ie,h),ie.forEach(O),p=Y($),y=x($,"DIV",{class:!0});var be=W(y);w=x(be,"P",{});var St=W(w);m=re(St,g),St.forEach(O),b=Y(be),C=x(be,"P",{});var Ge=W(C);D=re(Ge,"("),T=re(Ge,P),k=re(Ge,")"),Ge.forEach(O),be.forEach(O),F=Y($),M=x($,"P",{class:!0});var Tt=W(M);V=re(Tt,S),Tt.forEach(O),I=Y($),z=x($,"DIV",{class:!0});var Mt=W(z);for(let st=0;st<Z.length;st+=1)Z[st].l(Mt);Mt.forEach(O),q=Y($),H=x($,"DIV",{class:!0});var Qe=W(H);le=x(Qe,"DIV",{class:!0});var Ot=W(le);He=re(Ot,ae),Ot.forEach(O),ut=Y(Qe),Ce=x(Qe,"P",{class:!0});var kt=W(Ce);Re=re(kt,xe),kt.forEach(O),Qe.forEach(O),$.forEach(O),j.forEach(O),je=Y(B),ge=Je(B,"svg",{width:!0,height:!0});var Pt=W(ge);ze=Je(Pt,"defs",{});var At=W(ze);we=Je(At,"clipPath",{id:!0,clipPathUnits:!0});var xt=W(we);We=Je(xt,"path",{d:!0}),W(We).forEach(O),xt.forEach(O),At.forEach(O),Pt.forEach(O),this.h()},h(){de(t.src,n=r[0].imgUrl||Te)||E(t,"src",n),E(t,"alt",a=r[0].id),E(t,"class","card pinImage bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1jmytst"),de(l.src,f=r[0].imgUrl||Te)||E(l,"src",f),E(l,"alt",s=r[0].id),G(l,"height","35%"),E(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-1jmytst"),E(c,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden text-lg"),E(y,"class","flex gap-1"),E(M,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),E(z,"class","flex gap-2 mt-4 flex-wrap"),E(le,"class","badge badge-glass"),E(Ce,"class","opacity-40"),E(H,"class","flex justify-between mt-auto"),E(u,"class","card !bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-20 -z-1 flex flex-col p-4 gap-0.5"),G(u,"padding-top","130%"),G(e,"left",r[1]+"px"),G(e,"top",r[2]+"px"),G(e,"width",r[4]+"px"),G(e,"height",r[3]+"px"),E(e,"class","popup fixed z-50"),E(We,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),E(we,"id","myCurve"),E(we,"clipPathUnits","objectBoundingBox"),E(ge,"width","0"),E(ge,"height","0")},m(B,j){ne(B,e,j),_(e,t),_(e,o),_(e,u),_(u,l),_(u,d),_(u,c),_(c,v),_(u,p),_(u,y),_(y,w),_(w,m),_(y,b),_(y,C),_(C,D),_(C,T),_(C,k),_(u,F),_(u,M),_(M,V),_(u,I),_(u,z);for(let $=0;$<Z.length;$+=1)Z[$]&&Z[$].m(z,null);_(u,q),_(u,H),_(H,le),_(le,He),_(H,ut),_(H,Ce),_(Ce,Re),ne(B,je,j),ne(B,ge,j),_(ge,ze),_(ze,we),_(we,We),J=!0,lt||(Dt=Ne(t,"outroend",function(){Mr(r[5])&&r[5].apply(this,arguments)}),lt=!0)},p(B,[j]){var $;if(r=B,(!J||j&1&&!de(t.src,n=r[0].imgUrl||Te))&&E(t,"src",n),(!J||j&1&&a!==(a=r[0].id))&&E(t,"alt",a),(!J||j&1&&!de(l.src,f=r[0].imgUrl||Te))&&E(l,"src",f),(!J||j&1&&s!==(s=r[0].id))&&E(l,"alt",s),(!J||j&64)&&h!==(h=(($=r[6])==null?void 0:$.name)+"")&&ue(v,h),(!J||j&64)&&g!==(g=r[6].manufacturer+"")&&ue(m,g),(!J||j&64)&&P!==(P=r[6].year+"")&&ue(T,P),(!J||j&1)&&S!==(S=r[0].authors.join(", ")+"")&&ue(V,S),j&1){De=ye(r[0].features||[]);let ie;for(ie=0;ie<De.length;ie+=1){const be=nr(r,De,ie);Z[ie]?Z[ie].p(be,j):(Z[ie]=ar(be),Z[ie].c(),Z[ie].m(z,null))}for(;ie<Z.length;ie+=1)Z[ie].d(1);Z.length=De.length}(!J||j&1)&&ae!==(ae=r[0].tableFormat+"")&&ue(He,ae),(!J||j&1)&&xe!==(xe=rr(r[0].updatedAt)+"")&&ue(Re,xe),(!J||j&2)&&G(e,"left",r[1]+"px"),(!J||j&4)&&G(e,"top",r[2]+"px"),(!J||j&16)&&G(e,"width",r[4]+"px"),(!J||j&8)&&G(e,"height",r[3]+"px")},i(B){J||(B&&zt(()=>{J&&(i||(i=$e(t,r[8],{duration:Ke},!0)),i.run(1))}),B&&zt(()=>{J&&(me||(me=$e(u,r[9],{duration:Ke},!0)),me.run(1))}),J=!0)},o(B){B&&(i||(i=$e(t,r[8],{duration:Ke},!1)),i.run(0)),B&&(me||(me=$e(u,r[9],{duration:Ke},!1)),me.run(0)),J=!1},d(B){B&&(O(e),O(je),O(ge)),B&&i&&i.end(),it(Z,B),B&&me&&me.end(),lt=!1,Dt()}}}const Ke=100;function oa(r,e,t){let n,a;const{dbStore:i}=qe;hr(r,i,v=>t(10,a=v));let{table:o=gr}=e,{left:u=0}=e,{top:l=0}=e,{height:f=0}=e,{width:s=0}=e,{onEnd:d=()=>{}}=e;const c=(v,{duration:p,delay:y})=>({duration:p,delay:y,css:w=>{const g=Lt(w);return`
					transform: scale(${1-g*.25}) translateY(${g*-10}rem);
					`}}),h=(v,{duration:p,delay:y})=>({duration:p,delay:y,css:w=>`
					transform: scale(${Lt(w)});
					`});return r.$$set=v=>{"table"in v&&t(0,o=v.table),"left"in v&&t(1,u=v.left),"top"in v&&t(2,l=v.top),"height"in v&&t(3,f=v.height),"width"in v&&t(4,s=v.width),"onEnd"in v&&t(5,d=v.onEnd)},r.$$.update=()=>{var v;r.$$.dirty&1025&&t(6,n=(v=o==null?void 0:o.game)!=null&&v.id?a[o.game.id]:zr)},[o,u,l,f,s,d,n,i,c,h,a]}class ua extends Pe{constructor(e){super(),Ae(this,e,oa,ia,ke,{table:0,left:1,top:2,height:3,width:4,onEnd:5})}}function ir(r){let e,t;return e=new ua({props:{table:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[11]}}),{c(){se(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,a){fe(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.table=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[11]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function la(r){var m;let e,t,n,a,i,o,u,l,f=((m=r[0].game)==null?void 0:m.name)+"",s,d,c,h=r[0].authors.join(", ")+"",v,p,y,w,g=r[7]&&ir(r);return{c(){e=A("a"),g&&g.c(),t=L(),n=A("img"),o=L(),u=A("div"),l=A("p"),s=te(f),d=L(),c=A("p"),v=te(h),this.h()},l(b){e=x(b,"A",{class:!0,href:!0});var C=W(e);g&&g.l(C),t=Y(C),n=x(C,"IMG",{src:!0,alt:!0,class:!0}),o=Y(C),u=x(C,"DIV",{class:!0});var D=W(u);l=x(D,"P",{class:!0});var P=W(l);s=re(P,f),P.forEach(O),d=Y(D),c=x(D,"P",{class:!0});var T=W(c);v=re(T,h),T.forEach(O),D.forEach(O),C.forEach(O),this.h()},h(){de(n.src,a=r[0].imgUrl||Te)||E(n,"src",a),E(n,"alt",i=r[0].id),E(n,"class","card pinImage bg-surface-600 svelte-134rv7p"),Ut(n,"hide",r[7]||r[8]),E(l,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),E(c,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),E(u,"class","flex flex-col p-4"),E(e,"class","wrapper"),E(e,"href",r[1])},m(b,C){ne(b,e,C),g&&g.m(e,null),_(e,t),_(e,n),r[12](n),_(e,o),_(e,u),_(u,l),_(l,s),_(u,d),_(u,c),_(c,v),p=!0,y||(w=[Ne(e,"mouseenter",r[9]),Ne(e,"mouseleave",r[10])],y=!0)},p(b,[C]){var D;b[7]?g?(g.p(b,C),C&128&&R(g,1)):(g=ir(b),g.c(),R(g,1),g.m(e,t)):g&&(Me(),X(g,1,1,()=>{g=null}),Oe()),(!p||C&1&&!de(n.src,a=b[0].imgUrl||Te))&&E(n,"src",a),(!p||C&1&&i!==(i=b[0].id))&&E(n,"alt",i),(!p||C&384)&&Ut(n,"hide",b[7]||b[8]),(!p||C&1)&&f!==(f=((D=b[0].game)==null?void 0:D.name)+"")&&ue(s,f),(!p||C&1)&&h!==(h=b[0].authors.join(", ")+"")&&ue(v,h),(!p||C&2)&&E(e,"href",b[1])},i(b){p||(R(g),p=!0)},o(b){X(g),p=!1},d(b){b&&O(e),g&&g.d(),r[12](null),y=!1,Or(w)}}}const sa=200;function fa(r,e,t){let{table:n=gr}=e,{href:a=""}=e,i,o=0,u=0,l=0,f=0,s=!1,d=!1,c;const h=()=>{const w=i.getBoundingClientRect();t(3,o=w.left),t(4,u=w.top),t(6,f=w.width),t(5,l=w.height),c=setTimeout(()=>{t(7,s=!0),c=void 0},sa)},v=()=>{t(7,s=!1),c?clearTimeout(c):t(8,d=!0)},p=()=>t(8,d=!1);function y(w){cr[w?"unshift":"push"](()=>{i=w,t(2,i)})}return r.$$set=w=>{"table"in w&&t(0,n=w.table),"href"in w&&t(1,a=w.href)},[n,a,i,o,u,l,f,s,d,h,v,p,y]}class ca extends Pe{constructor(e){super(),Ae(this,e,fa,la,ke,{table:0,href:1})}}var Q=function(){return Q=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Q.apply(this,arguments)};function ha(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function u(s){try{f(n.next(s))}catch(d){o(d)}}function l(s){try{f(n.throw(s))}catch(d){o(d)}}function f(s){s.done?i(s.value):a(s.value).then(u,l)}f((n=n.apply(r,e||[])).next())})}function da(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(s){return l([f,s])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(s){f=[6,s],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function U(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){o={error:u}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}var va="ENTRIES",br="KEYS",_r="VALUES",ee="",ht=function(){function r(e,t){var n=e._tree,a=Array.from(n.keys());this.set=e,this._type=t,this._path=a.length>0?[{node:n,keys:a}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=Se(this._path),t=e.node,n=e.keys;if(Se(n)===ee)return{done:!1,value:this.result()};var a=t.get(Se(n));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=Se(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return Se(t)}).filter(function(e){return e!==ee}).join("")},r.prototype.value=function(){return Se(this._path).node.get(ee)},r.prototype.result=function(){switch(this._type){case _r:return this.value();case br:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),Se=function(r){return r[r.length-1]},ma=function(r,e,t){var n=new Map;if(e===void 0)return n;for(var a=e.length+1,i=a+t,o=new Uint8Array(i*a).fill(t+1),u=0;u<a;++u)o[u]=u;for(var l=1;l<i;++l)o[l*a]=l;return Fr(r,e,t,n,o,1,a,""),n},Fr=function(r,e,t,n,a,i,o,u){var l,f,s=i*o;try{e:for(var d=U(r.keys()),c=d.next();!c.done;c=d.next()){var h=c.value;if(h===ee){var v=a[s-1];v<=t&&n.set(u,[r.get(h),v])}else{for(var p=i,y=0;y<h.length;++y,++p){for(var w=h[y],g=o*p,m=g-o,b=a[g],C=Math.max(0,p-t-1),D=Math.min(o-1,p+t),P=C;P<D;++P){var T=w!==e[P],k=a[m+P]+ +T,F=a[m+P+1]+1,M=a[g+P]+1,S=a[g+P+1]=Math.min(k,F,M);S<b&&(b=S)}if(b>t)continue e}Fr(r.get(h),e,t,n,a,p,o,u+h)}}}catch(V){l={error:V}}finally{try{c&&!c.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}},dt=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var a=K(at(this._tree,e.slice(this._prefix.length)),2),i=a[0],o=a[1];if(i===void 0){var u=K(Ft(o),2),l=u[0],f=u[1];try{for(var s=U(l.keys()),d=s.next();!d.done;d=s.next()){var c=d.value;if(c!==ee&&c.startsWith(f)){var h=new Map;return h.set(c.slice(f.length),l.get(c)),new r(h,e)}}}catch(v){t={error:v}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,ga(this._tree,e)},r.prototype.entries=function(){return new ht(this,va)},r.prototype.forEach=function(e){var t,n;try{for(var a=U(this),i=a.next();!i.done;i=a.next()){var o=K(i.value,2),u=o[0],l=o[1];e(u,l,this)}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return ma(this._tree,e,t)},r.prototype.get=function(e){var t=yt(this._tree,e);return t!==void 0?t.get(ee):void 0},r.prototype.has=function(e){var t=yt(this._tree,e);return t!==void 0&&t.has(ee)},r.prototype.keys=function(){return new ht(this,br)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=vt(this._tree,e);return n.set(ee,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=vt(this._tree,e);return n.set(ee,t(n.get(ee))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=vt(this._tree,e),a=n.get(ee);return a===void 0&&n.set(ee,a=t()),a},r.prototype.values=function(){return new ht(this,_r)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,n,a=new r;try{for(var i=U(e),o=i.next();!o.done;o=i.next()){var u=K(o.value,2),l=u[0],f=u[1];a.set(l,f)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),at=function(r,e,t){var n,a;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=U(r.keys()),o=i.next();!o.done;o=i.next()){var u=o.value;if(u!==ee&&e.startsWith(u))return t.push([r,u]),at(r.get(u),e.slice(u.length),t)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return t.push([r,e]),at(void 0,"",t)},yt=function(r,e){var t,n;if(e.length===0||r==null)return r;try{for(var a=U(r.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;if(o!==ee&&e.startsWith(o))return yt(r.get(o),e.slice(o.length))}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},vt=function(r,e){var t,n,a=e.length;e:for(var i=0;r&&i<a;){try{for(var o=(t=void 0,U(r.keys())),u=o.next();!u.done;u=o.next()){var l=u.value;if(l!==ee&&e[i]===l[0]){for(var f=Math.min(a-i,l.length),s=1;s<f&&e[i+s]===l[s];)++s;var d=r.get(l);if(s===l.length)r=d;else{var c=new Map;c.set(l.slice(s),d),r.set(e.slice(i,i+s),c),r.delete(l),r=c}i+=s;continue e}}}catch(v){t={error:v}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var h=new Map;return r.set(e.slice(i),h),h}return r},ga=function(r,e){var t=K(at(r,e),2),n=t[0],a=t[1];if(n!==void 0){if(n.delete(ee),n.size===0)Cr(a);else if(n.size===1){var i=K(n.entries().next().value,2),o=i[0],u=i[1];Dr(a,o,u)}}},Cr=function(r){if(r.length!==0){var e=K(Ft(r),2),t=e[0],n=e[1];if(t.delete(n),t.size===0)Cr(r.slice(0,-1));else if(t.size===1){var a=K(t.entries().next().value,2),i=a[0],o=a[1];i!==ee&&Dr(r.slice(0,-1),i,o)}}},Dr=function(r,e,t){if(r.length!==0){var n=K(Ft(r),2),a=n[0],i=n[1];a.set(i+e,t),a.delete(i)}},Ft=function(r){return r[r.length-1]},Le,Ct="or",Er="and",pa="and_not",ya=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?pt:e.autoVacuum;this._options=Q(Q(Q({},gt),e),{autoVacuum:t,searchOptions:Q(Q({},or),e.searchOptions||{}),autoSuggestOptions:Q(Q({},Ca),e.autoSuggestOptions||{})}),this._index=new dt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=bt,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,n,a,i,o,u,l=this._options,f=l.extractField,s=l.tokenize,d=l.processTerm,c=l.fields,h=l.idField,v=f(e,h);if(v==null)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));if(this._idToShortId.has(v))throw new Error("MiniSearch: duplicate ID ".concat(v));var p=this.addDocumentId(v);this.saveStoredFields(p,e);try{for(var y=U(c),w=y.next();!w.done;w=y.next()){var g=w.value,m=f(e,g);if(m!=null){var b=s(m.toString(),g),C=this._fieldIds[g],D=new Set(b).size;this.addFieldLength(p,C,this._documentCount-1,D);try{for(var P=(a=void 0,U(b)),T=P.next();!T.done;T=P.next()){var k=T.value,F=d(k,g);if(Array.isArray(F))try{for(var M=(o=void 0,U(F)),S=M.next();!S.done;S=M.next()){var V=S.value;this.addTerm(C,p,V)}}catch(I){o={error:I}}finally{try{S&&!S.done&&(u=M.return)&&u.call(M)}finally{if(o)throw o.error}}else F&&this.addTerm(C,p,F)}}catch(I){a={error:I}}finally{try{T&&!T.done&&(i=P.return)&&i.call(P)}finally{if(a)throw a.error}}}}}catch(I){t={error:I}}finally{try{w&&!w.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,n;try{for(var a=U(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.add(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var a=t.chunkSize,i=a===void 0?10:a,o={chunk:[],promise:Promise.resolve()},u=e.reduce(function(s,d,c){var h=s.chunk,v=s.promise;return h.push(d),(c+1)%i===0?{chunk:[],promise:v.then(function(){return new Promise(function(p){return setTimeout(p,0)})}).then(function(){return n.addAll(h)})}:{chunk:h,promise:v}},o),l=u.chunk,f=u.promise;return f.then(function(){return n.addAll(l)})},r.prototype.remove=function(e){var t,n,a,i,o,u,l=this._options,f=l.tokenize,s=l.processTerm,d=l.extractField,c=l.fields,h=l.idField,v=d(e,h);if(v==null)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));var p=this._idToShortId.get(v);if(p==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(v,": it is not in the index"));try{for(var y=U(c),w=y.next();!w.done;w=y.next()){var g=w.value,m=d(e,g);if(m!=null){var b=f(m.toString(),g),C=this._fieldIds[g],D=new Set(b).size;this.removeFieldLength(p,C,this._documentCount,D);try{for(var P=(a=void 0,U(b)),T=P.next();!T.done;T=P.next()){var k=T.value,F=s(k,g);if(Array.isArray(F))try{for(var M=(o=void 0,U(F)),S=M.next();!S.done;S=M.next()){var V=S.value;this.removeTerm(C,p,V)}}catch(I){o={error:I}}finally{try{S&&!S.done&&(u=M.return)&&u.call(M)}finally{if(o)throw o.error}}else F&&this.removeTerm(C,p,F)}}catch(I){a={error:I}}finally{try{T&&!T.done&&(i=P.return)&&i.call(P)}finally{if(a)throw a.error}}}}}catch(I){t={error:I}}finally{try{w&&!w.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}this._storedFields.delete(p),this._documentIds.delete(p),this._idToShortId.delete(v),this._fieldLength.delete(p),this._documentCount-=1},r.prototype.removeAll=function(e){var t,n;if(e)try{for(var a=U(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.remove(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new dt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(a,i){t.removeFieldLength(n,i,t._documentCount,a)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,a=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:a,batchWait:i},{minDirtCount:n,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,n,a=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=U(e),o=i.next();!o.done;o=i.next()){var u=o.value;this.discard(u)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=a}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,n=t.idField,a=t.extractField,i=a(e,n);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var a=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=bt,n.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return ha(this,void 0,void 0,function(){var n,a,i,o,u,l,f,s,d,c,h,v,p,y,w,g,m,b,C,D,P,T,k,F,M;return da(this,function(S){switch(S.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];a=e.batchSize||wt.batchSize,i=e.batchWait||wt.batchWait,o=1,S.label=1;case 1:S.trys.push([1,7,8,9]),u=U(this._index),l=u.next(),S.label=2;case 2:if(l.done)return[3,6];f=K(l.value,2),s=f[0],d=f[1];try{for(c=(T=void 0,U(d)),h=c.next();!h.done;h=c.next()){v=K(h.value,2),p=v[0],y=v[1];try{for(w=(F=void 0,U(y)),g=w.next();!g.done;g=w.next())m=K(g.value,1),b=m[0],!this._documentIds.has(b)&&(y.size<=1?d.delete(p):y.delete(b))}catch(V){F={error:V}}finally{try{g&&!g.done&&(M=w.return)&&M.call(w)}finally{if(F)throw F.error}}}}catch(V){T={error:V}}finally{try{h&&!h.done&&(k=c.return)&&k.call(c)}finally{if(T)throw T.error}}return this._index.get(s).size===0&&this._index.delete(s),o%a!==0?[3,4]:[4,new Promise(function(V){return setTimeout(V,i)})];case 3:S.sent(),S.label=4;case 4:o+=1,S.label=5;case 5:return l=u.next(),[3,2];case 6:return[3,9];case 7:return C=S.sent(),D={error:C},[3,9];case 8:try{l&&!l.done&&(P=u.return)&&P.call(u)}finally{if(D)throw D.error}return[7];case 9:this._dirtCount-=n,S.label=10;case 10:return[4,null];case 11:return S.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||pt.minDirtCount,n=n||pt.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var n,a;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var u=U(i),l=u.next();!l.done;l=u.next()){var f=K(l.value,2),s=f[0],d=f[1],c=d.score,h=d.terms,v=d.match,p=h.length,y={id:this._documentIds.get(s),score:c*p,terms:Object.keys(v),match:v};Object.assign(y,this._storedFields.get(s)),(t.filter==null||t.filter(y))&&o.push(y)}}catch(w){n={error:w}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return o.sort(lr),o},r.prototype.autoSuggest=function(e,t){var n,a,i,o;t===void 0&&(t={}),t=Q(Q({},this._options.autoSuggestOptions),t);var u=new Map;try{for(var l=U(this.search(e,t)),f=l.next();!f.done;f=l.next()){var s=f.value,d=s.score,c=s.terms,h=c.join(" "),v=u.get(h);v!=null?(v.score+=d,v.count+=1):u.set(h,{score:d,terms:c,count:1})}}catch(C){n={error:C}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}var p=[];try{for(var y=U(u),w=y.next();!w.done;w=y.next()){var g=K(w.value,2),v=g[0],m=g[1],d=m.score,c=m.terms,b=m.count;p.push({suggestion:v,terms:c,score:d/b})}}catch(C){i={error:C}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}return p.sort(lr),p},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(gt.hasOwnProperty(e))return mt(gt,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var n,a,i,o,u,l,f=e.index,s=e.documentCount,d=e.nextId,c=e.documentIds,h=e.fieldIds,v=e.fieldLength,p=e.averageFieldLength,y=e.storedFields,w=e.dirtCount,g=e.serializationVersion;if(g!==1&&g!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var m=new r(t);m._documentCount=s,m._nextId=d,m._documentIds=Ze(c),m._idToShortId=new Map,m._fieldIds=h,m._fieldLength=Ze(v),m._avgFieldLength=p,m._storedFields=Ze(y),m._dirtCount=w||0,m._index=new dt;try{for(var b=U(m._documentIds),C=b.next();!C.done;C=b.next()){var D=K(C.value,2),P=D[0],T=D[1];m._idToShortId.set(T,P)}}catch(ae){n={error:ae}}finally{try{C&&!C.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}try{for(var k=U(f),F=k.next();!F.done;F=k.next()){var M=K(F.value,2),S=M[0],V=M[1],I=new Map;try{for(var z=(u=void 0,U(Object.keys(V))),q=z.next();!q.done;q=z.next()){var H=q.value,le=V[H];g===1&&(le=le.ds),I.set(parseInt(H,10),Ze(le))}}catch(ae){u={error:ae}}finally{try{q&&!q.done&&(l=z.return)&&l.call(z)}finally{if(u)throw u.error}}m._index.set(S,I)}}catch(ae){i={error:ae}}finally{try{F&&!F.done&&(o=k.return)&&o.call(k)}finally{if(i)throw i.error}}return m},r.prototype.executeQuery=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e!="string"){var a=Q(Q(Q({},t),e),{queries:void 0}),i=e.queries.map(function(y){return n.executeQuery(y,a)});return this.combineResults(i,a.combineWith)}var o=this._options,u=o.tokenize,l=o.processTerm,f=o.searchOptions,s=Q(Q({tokenize:u,processTerm:l},f),t),d=s.tokenize,c=s.processTerm,h=d(e).flatMap(function(y){return c(y)}).filter(function(y){return!!y}),v=h.map(Fa(s)),p=v.map(function(y){return n.executeQuerySpec(y,s)});return this.combineResults(p,s.combineWith)},r.prototype.executeQuerySpec=function(e,t){var n,a,i,o,u=Q(Q({},this._options.searchOptions),t),l=(u.fields||this._options.fields).reduce(function(H,le){var ae;return Q(Q({},H),(ae={},ae[le]=mt(u.boost,le)||1,ae))},{}),f=u.boostDocument,s=u.weights,d=u.maxFuzzy,c=u.bm25,h=Q(Q({},or.weights),s),v=h.fuzzy,p=h.prefix,y=this._index.get(e.term),w=this.termResults(e.term,e.term,1,y,l,f,c),g,m;if(e.prefix&&(g=this._index.atPrefix(e.term)),e.fuzzy){var b=e.fuzzy===!0?.2:e.fuzzy,C=b<1?Math.min(d,Math.round(e.term.length*b)):b;C&&(m=this._index.fuzzyGet(e.term,C))}if(g)try{for(var D=U(g),P=D.next();!P.done;P=D.next()){var T=K(P.value,2),k=T[0],F=T[1],M=k.length-e.term.length;if(M){m==null||m.delete(k);var S=p*k.length/(k.length+.3*M);this.termResults(e.term,k,S,F,l,f,c,w)}}}catch(H){n={error:H}}finally{try{P&&!P.done&&(a=D.return)&&a.call(D)}finally{if(n)throw n.error}}if(m)try{for(var V=U(m.keys()),I=V.next();!I.done;I=V.next()){var k=I.value,z=K(m.get(k),2),q=z[0],M=z[1];if(M){var S=v*k.length/(k.length+M);this.termResults(e.term,k,S,q,l,f,c,w)}}}catch(H){i={error:H}}finally{try{I&&!I.done&&(o=V.return)&&o.call(V)}finally{if(i)throw i.error}}return w},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=Ct),e.length===0)return new Map;var n=t.toLowerCase();return e.reduce(wa[n])||new Map},r.prototype.toJSON=function(){var e,t,n,a,i=[];try{for(var o=U(this._index),u=o.next();!u.done;u=o.next()){var l=K(u.value,2),f=l[0],s=l[1],d={};try{for(var c=(n=void 0,U(s)),h=c.next();!h.done;h=c.next()){var v=K(h.value,2),p=v[0],y=v[1];d[p]=Object.fromEntries(y)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}i.push([f,d])}}catch(w){e={error:w}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,n,a,i,o,u,l){var f,s,d,c,h;if(l===void 0&&(l=new Map),a==null)return l;try{for(var v=U(Object.keys(i)),p=v.next();!p.done;p=v.next()){var y=p.value,w=i[y],g=this._fieldIds[y],m=a.get(g);if(m!=null){var b=m.size,C=this._avgFieldLength[g];try{for(var D=(d=void 0,U(m.keys())),P=D.next();!P.done;P=D.next()){var T=P.value;if(!this._documentIds.has(T)){this.removeTerm(g,T,t),b-=1;continue}var k=o?o(this._documentIds.get(T),t,this._storedFields.get(T)):1;if(k){var F=m.get(T),M=this._fieldLength.get(T)[g],S=_a(F,b,this._documentCount,M,C,u),V=n*w*k*S,I=l.get(T);if(I){I.score+=V,Da(I.terms,e);var z=mt(I.match,t);z?z.push(y):I.match[t]=[y]}else l.set(T,{score:V,terms:[e],match:(h={},h[t]=[y],h)})}}}catch(q){d={error:q}}finally{try{P&&!P.done&&(c=D.return)&&c.call(D)}finally{if(d)throw d.error}}}}}catch(q){f={error:q}}finally{try{p&&!p.done&&(s=v.return)&&s.call(v)}finally{if(f)throw f.error}}return l},r.prototype.addTerm=function(e,t,n){var a=this._index.fetch(n,sr),i=a.get(e);if(i==null)i=new Map,i.set(t,1),a.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}var a=this._index.fetch(n,sr),i=a.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?a.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(e,t,n){var a,i;try{for(var o=U(Object.keys(this._fieldIds)),u=o.next();!u.done;u=o.next()){var l=u.value;if(this._fieldIds[l]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,n,a){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=a;var o=this._avgFieldLength[t]||0,u=o*n+a;this._avgFieldLength[t]=u/(n+1)},r.prototype.removeFieldLength=function(e,t,n,a){if(n===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*n-a;this._avgFieldLength[t]=i/(n-1)},r.prototype.saveStoredFields=function(e,t){var n,a,i=this._options,o=i.storeFields,u=i.extractField;if(!(o==null||o.length===0)){var l=this._storedFields.get(e);l==null&&this._storedFields.set(e,l={});try{for(var f=U(o),s=f.next();!s.done;s=f.next()){var d=s.value,c=u(t,d);c!==void 0&&(l[d]=c)}}catch(h){n={error:h}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}},r}(),mt=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},wa=(Le={},Le[Ct]=function(r,e){var t,n;try{for(var a=U(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value,u=r.get(o);if(u==null)r.set(o,e.get(o));else{var l=e.get(o),f=l.score,s=l.terms,d=l.match;u.score=u.score+f,u.match=Object.assign(u.match,d),ur(u.terms,s)}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Le[Er]=function(r,e){var t,n,a=new Map;try{for(var i=U(e.keys()),o=i.next();!o.done;o=i.next()){var u=o.value,l=r.get(u);if(l!=null){var f=e.get(u),s=f.score,d=f.terms,c=f.match;ur(l.terms,d),a.set(u,{score:l.score+s,terms:l.terms,match:Object.assign(l.match,c)})}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},Le[pa]=function(r,e){var t,n;try{for(var a=U(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;r.delete(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Le),ba={k:1.2,b:.7,d:.5},_a=function(r,e,t,n,a,i){var o=i.k,u=i.b,l=i.d,f=Math.log(1+(t-e+.5)/(e+.5));return f*(l+r*(o+1)/(r+o*(1-u+u*n/a)))},Fa=function(r){return function(e,t,n){var a=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0;return{term:e,fuzzy:a,prefix:i}}},gt={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(Ea)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},or={combineWith:Ct,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:ba},Ca={combineWith:Er,prefix:function(r,e,t){return e===t.length-1}},wt={batchSize:1e3,batchWait:10},bt={minDirtFactor:.1,minDirtCount:20},pt=Q(Q({},wt),bt),Da=function(r,e){r.includes(e)||r.push(e)},ur=function(r,e){var t,n;try{for(var a=U(e),i=a.next();!i.done;i=a.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},lr=function(r,e){var t=r.score,n=e.score;return n-t},sr=function(){return new Map},Ze=function(r){var e,t,n=new Map;try{for(var a=U(Object.keys(r)),i=a.next();!i.done;i=a.next()){var o=i.value;n.set(parseInt(o,10),r[o])}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},Ea=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const fr=new ya({fields:["name","manufacturer","year","tableFiles","b2sFiles","theme","designers","features"],extractField:(r,e)=>{var t;if(["tableFiles","b2sFiles"].includes(e)){const n=(t=r[e])==null?void 0:t.reduce((a,i)=>[...a,...i.authors||[]],[]);return(n==null?void 0:n.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});qe.dbStore.subscribe(r=>{fr.removeAll(),fr.addAll(Object.values(r))});const Sa=mr(qe.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),Ta=mr(qe.dbStore,r=>{const e=Object.values(r),t={};for(const n of Xt)t[n]=[];for(const n of e)for(const a of Xt){const i=n[a];Array.isArray(i)&&(t[a]=(t[a]||[]).concat(i.map(o=>({...o,game:{id:n.id,name:n.name}}))))}return Object.entries(t).forEach(([n,a])=>{t[n]=a.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),Ma={sortedDbStore:Sa,sortedFilesStore:Ta};function Oa(r){let e,t,n,a,i,o,u,l,f,s,d;return t=new Ue({props:{title:"Tables",component:ca,data:r[4],href:dr+"/tables/"}}),a=new Ue({props:{title:"Backglasses",component:Lr,data:r[3],size:250}}),o=new Ue({props:{title:"PuP Packs",component:ft,data:r[2],size:250}}),l=new Ue({props:{title:"Roms",component:ft,data:r[1],size:250}}),s=new Ue({props:{title:"Topper",component:ft,data:r[0],size:250}}),{c(){e=A("div"),se(t.$$.fragment),n=L(),se(a.$$.fragment),i=L(),se(o.$$.fragment),u=L(),se(l.$$.fragment),f=L(),se(s.$$.fragment),this.h()},l(c){e=x(c,"DIV",{class:!0});var h=W(e);he(t.$$.fragment,h),n=Y(h),he(a.$$.fragment,h),i=Y(h),he(o.$$.fragment,h),u=Y(h),he(l.$$.fragment,h),f=Y(h),he(s.$$.fragment,h),h.forEach(O),this.h()},h(){E(e,"class","h-full flex flex-col p-10 gap-20")},m(c,h){ne(c,e,h),fe(t,e,null),_(e,n),fe(a,e,null),_(e,i),fe(o,e,null),_(e,u),fe(l,e,null),_(e,f),fe(s,e,null),d=!0},p(c,[h]){const v={};h&16&&(v.data=c[4]),t.$set(v);const p={};h&8&&(p.data=c[3]),a.$set(p);const y={};h&4&&(y.data=c[2]),o.$set(y);const w={};h&2&&(w.data=c[1]),l.$set(w);const g={};h&1&&(g.data=c[0]),s.$set(g)},i(c){d||(R(t.$$.fragment,c),R(a.$$.fragment,c),R(o.$$.fragment,c),R(l.$$.fragment,c),R(s.$$.fragment,c),d=!0)},o(c){X(t.$$.fragment,c),X(a.$$.fragment,c),X(o.$$.fragment,c),X(l.$$.fragment,c),X(s.$$.fragment,c),d=!1},d(c){c&&O(e),ce(t),ce(a),ce(o),ce(l),ce(s)}}}const Ye=20;function ka(r,e,t){let n,a,i,o,u,l;const{sortedFilesStore:f}=Ma;return hr(r,f,s=>t(6,l=s)),r.$$.update=()=>{r.$$.dirty&64&&t(4,n=((l==null?void 0:l.tableFiles)||[]).slice(0,Ye).map(s=>{var d;return{table:s,href:`${dr}/tables/${(d=s.game)==null?void 0:d.id}/`}})),r.$$.dirty&64&&t(3,a=((l==null?void 0:l.b2sFiles)||[]).slice(0,Ye).map(s=>({b2s:s}))),r.$$.dirty&64&&t(2,i=((l==null?void 0:l.pupPackFiles)||[]).slice(0,Ye).map(s=>({file:s}))),r.$$.dirty&64&&t(1,o=((l==null?void 0:l.romFiles)||[]).slice(0,Ye).map(s=>({file:s}))),r.$$.dirty&64&&t(0,u=((l==null?void 0:l.topperFiles)||[]).slice(0,Ye).map(s=>({file:s})))},[u,o,i,a,n,f,l]}class Ia extends Pe{constructor(e){super(),Ae(this,e,ka,Oa,ke,{})}}export{Ia as component};
