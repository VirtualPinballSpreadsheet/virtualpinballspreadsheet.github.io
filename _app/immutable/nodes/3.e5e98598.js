import{a8 as Qt,a9 as Xt,aa as Je,ab as Yt,s as xe,f as _,l as G,a as S,g as p,h as I,m as q,d as m,c as U,Z as Ke,j as u,k as Z,T as Re,i as X,G as c,n as fe,$ as Se,B as vt,o as xt,H as Qe,p as el,q as It,I as tl,e as Xe,r as Ie,C as ll,R as we}from"../chunks/scheduler.3343ecfc.js";import{g as ze,t as W,c as Te,a as B,S as et,i as tt,b as ie,d as ue,m as oe,e as ce}from"../chunks/index.30a43d8b.js";import{F as lt,r as qt,e as se,s as rl}from"../chunks/index.92627f02.js";import{b as Jt}from"../chunks/paths.6d575009.js";import{g as Et,a as Vt}from"../chunks/spread.8a54911c.js";import{a as al,g as sl,P as Dt,T as nl,m as yt}from"../chunks/modeMapping.4a1ccd96.js";import{D as il}from"../chunks/DbStore.e6e0ab2b.js";import{F as gt}from"../chunks/FileIcons.2ee64772.js";import{f as Ze}from"../chunks/formatDate.b9410829.js";import{a as ol}from"../chunks/index.c16d8701.js";import{S as cl}from"../chunks/SearchStore.dd05515f.js";function fl(r,e){const t=e.token={};function l(a,n,s,i){if(e.token!==t)return;e.resolved=i;let E=e.ctx;s!==void 0&&(E=E.slice(),E[s]=i);const h=a&&(e.current=a)(E);let o=!1;e.block&&(e.blocks?e.blocks.forEach((f,g)=>{g!==n&&f&&(ze(),W(f,1,1,()=>{e.blocks[g]===f&&(e.blocks[g]=null)}),Te())}):e.block.d(1),h.c(),B(h,1),h.m(e.mount(),e.anchor),o=!0),e.block=h,e.blocks&&(e.blocks[n]=h),o&&Yt()}if(Qt(r)){const a=Xt();if(r.then(n=>{Je(a),l(e.then,1,e.value,n),Je(null)},n=>{if(Je(a),l(e.catch,2,e.error,n),Je(null),!e.hasCatch)throw n}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function ul(r,e,t){const l=e.slice(),{resolved:a}=r;r.current===r.then&&(l[r.value]=a),r.current===r.catch&&(l[r.error]=a),r.block.p(l,t)}function $t(r,e,t){const l=r.slice();l[24]=e[t],l[27]=t;const a=l[1].slice(l[27]*l[7],(l[27]+1)*l[7]);return l[25]=a,l}function Ct(r,e,t){const l=r.slice();return l[28]=e[t],l}function zt(r,e,t){const l=r.slice();return l[28]=e[t],l}function Tt(r,e,t){const l=r.slice();return l[24]=e[t],l[27]=t,l}function St(r){let e,t;return{c(){e=_("h4"),t=G(r[6]),this.h()},l(l){e=p(l,"H4",{class:!0});var a=I(e);t=q(a,r[6]),a.forEach(m),this.h()},h(){u(e,"class","opacity-40")},m(l,a){X(l,e,a),c(e,t)},p(l,a){a[0]&64&&fe(t,l[6])},d(l){l&&m(e)}}}function Ut(r){let e,t;return{c(){e=_("div"),this.h()},l(l){e=p(l,"DIV",{class:!0}),I(e).forEach(m),this.h()},h(){u(e,"class",t="h-0.5 bg-surface-900-50-token flex-1 "+(r[9]===r[27]?"":"opacity-20"))},m(l,a){X(l,e,a)},p(l,a){a[0]&512&&t!==(t="h-0.5 bg-surface-900-50-token flex-1 "+(l[9]===l[27]?"":"opacity-20"))&&u(e,"class",t)},d(l){l&&m(e)}}}function Mt(r){let e,t,l,a,n;const s=[r[28]];var i=r[2];function E(h,o){let f={};if(o!==void 0&&o[0]&130)f=Et(s,[Vt(h[28])]);else for(let g=0;g<s.length;g+=1)f=ll(f,s[g]);return{props:f}}return i&&(t=It(i,E(r))),{c(){e=_("div"),t&&ie(t.$$.fragment)},l(h){e=p(h,"DIV",{});var o=I(e);t&&ue(t.$$.fragment,o),o.forEach(m)},m(h,o){X(h,e,o),t&&oe(t,e,null),l=!0,a||(n=[Qe(e,"mouseenter",r[15]),Qe(e,"mouseleave",r[16])],a=!0)},p(h,o){if(o[0]&4&&i!==(i=h[2])){if(t){ze();const f=t;W(f.$$.fragment,1,0,()=>{ce(f,1)}),Te()}i?(t=It(i,E(h,o)),ie(t.$$.fragment),B(t.$$.fragment,1),oe(t,e,null)):t=null}else if(i){const f=o[0]&130?Et(s,[Vt(h[28])]):{};t.$set(f)}},i(h){l||(t&&B(t.$$.fragment,h),l=!0)},o(h){t&&W(t.$$.fragment,h),l=!1},d(h){h&&m(e),t&&ce(t),a=!1,tl(n)}}}function At(r){let e,t=se(new Array(r[7]-r[25].length).fill("")),l=[];for(let a=0;a<t.length;a+=1)l[a]=Bt(Ct(r,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Xe()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=Xe()},m(a,n){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,n);X(a,e,n)},p(a,n){if(n[0]&130){t=se(new Array(a[7]-a[25].length).fill(""));let s;for(s=0;s<t.length;s+=1){const i=Ct(a,t,s);l[s]?l[s].p(i,n):(l[s]=Bt(),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(a){a&&m(e),Se(l,a)}}}function Bt(r){let e;return{c(){e=_("div")},l(t){e=p(t,"DIV",{}),I(e).forEach(m)},m(t,l){X(t,e,l)},p:Ie,d(t){t&&m(e)}}}function Ft(r){let e,t,l,a,n,s=se(r[25]),i=[];for(let o=0;o<s.length;o+=1)i[o]=Mt(zt(r,s,o));const E=o=>W(i[o],1,1,()=>{i[o]=null});let h=r[25].length<r[7]&&At(r);return{c(){e=_("div");for(let o=0;o<i.length;o+=1)i[o].c();t=S(),h&&h.c(),l=S(),this.h()},l(o){e=p(o,"DIV",{class:!0,style:!0,id:!0});var f=I(e);for(let g=0;g<i.length;g+=1)i[g].l(f);t=U(f),h&&h.l(f),l=U(f),f.forEach(m),this.h()},h(){u(e,"class","grid grid-flow-col auto-cols-fr select-none"),Z(e,"gap",(r[13].mobile?r[5]/2:r[5])+"rem"),u(e,"id",a=r[0]+r[27])},m(o,f){X(o,e,f);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);c(e,t),h&&h.m(e,null),c(e,l),n=!0},p(o,f){if(f[0]&98438){s=se(o[25]);let g;for(g=0;g<s.length;g+=1){const P=zt(o,s,g);i[g]?(i[g].p(P,f),B(i[g],1)):(i[g]=Mt(P),i[g].c(),B(i[g],1),i[g].m(e,t))}for(ze(),g=s.length;g<i.length;g+=1)E(g);Te()}o[25].length<o[7]?h?h.p(o,f):(h=At(o),h.c(),h.m(e,l)):h&&(h.d(1),h=null),(!n||f[0]&8224)&&Z(e,"gap",(o[13].mobile?o[5]/2:o[5])+"rem"),(!n||f[0]&1&&a!==(a=o[0]+o[27]))&&u(e,"id",a)},i(o){if(!n){for(let f=0;f<s.length;f+=1)B(i[f]);n=!0}},o(o){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)W(i[f]);n=!1},d(o){o&&m(e),Se(i,o),h&&h.d()}}}function Pt(r){let e,t,l,a,n;return t=new lt({props:{icon:qt,size:"lg"}}),{c(){e=_("button"),ie(t.$$.fragment),this.h()},l(s){e=p(s,"BUTTON",{style:!0,class:!0});var i=I(e);ue(t.$$.fragment,i),i.forEach(m),this.h()},h(){Z(e,"width",r[4]+"rem"),u(e,"class","absolute right-0 top-0 h-full hidden md:grid place-items-center text-xl bg-gradient-to-l from-slate-100 dark:from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(s,i){X(s,e,i),oe(t,e,null),l=!0,a||(n=Qe(e,"click",r[20]),a=!0)},p(s,i){(!l||i[0]&16)&&Z(e,"width",s[4]+"rem")},i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){W(t.$$.fragment,s),l=!1},d(s){s&&m(e),ce(t),a=!1,n()}}}function Wt(r){let e,t,l,a,n;return t=new lt({props:{icon:rl,size:"lg"}}),{c(){e=_("button"),ie(t.$$.fragment),this.h()},l(s){e=p(s,"BUTTON",{style:!0,class:!0});var i=I(e);ue(t.$$.fragment,i),i.forEach(m),this.h()},h(){Z(e,"width",r[4]+"rem"),u(e,"class","absolute left-0 top-0 h-full hidden md:grid place-items-center text-xl bg-gradient-to-r from-slate-100 dark:from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(s,i){X(s,e,i),oe(t,e,null),l=!0,a||(n=Qe(e,"click",r[21]),a=!0)},p(s,i){(!l||i[0]&16)&&Z(e,"width",s[4]+"rem")},i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){W(t.$$.fragment,s),l=!1},d(s){s&&m(e),ce(t),a=!1,n()}}}function hl(r){let e,t,l,a,n,s,i,E,h,o="Show All",f,g,P,v,$,b,T,D,C,O,L,ee,H,J,ae,N,V=r[6]!==void 0&&St(r);g=new lt({props:{icon:qt,class:"-translate-x-14 transition-transform group-hover:translate-x-2 group-hover:text-primary-500 text-sm"}});let te=se(r[12]),M=[];for(let d=0;d<te.length;d+=1)M[d]=Ut(Tt(r,te,d));let Q=se(r[12]),F=[];for(let d=0;d<Q.length;d+=1)F[d]=Ft($t(r,Q,d));const Ue=d=>W(F[d],1,1,()=>{F[d]=null});let j=r[9]<r[12].length-1&&Pt(r),A=r[9]>0&&Wt(r);return{c(){e=_("div"),t=_("div"),l=_("a"),a=_("h4"),n=G(r[0]),s=S(),V&&V.c(),i=S(),E=_("div"),h=_("p"),h.textContent=o,f=S(),ie(g.$$.fragment),P=S(),v=_("div");for(let d=0;d<M.length;d+=1)M[d].c();$=S(),b=_("div"),T=_("div");for(let d=0;d<F.length;d+=1)F[d].c();D=S(),j&&j.c(),C=S(),A&&A.c(),O=S(),L=_("div"),H=S(),J=_("div"),this.h()},l(d){e=p(d,"DIV",{class:!0,style:!0});var z=I(e);t=p(z,"DIV",{class:!0});var y=I(t);l=p(y,"A",{href:!0,class:!0,style:!0});var le=I(l);a=p(le,"H4",{class:!0});var Ee=I(a);n=q(Ee,r[0]),Ee.forEach(m),s=U(le),V&&V.l(le),i=U(le),E=p(le,"DIV",{class:!0});var he=I(E);h=p(he,"P",{class:!0,"data-svelte-h":!0}),Ke(h)!=="svelte-124o8r7"&&(h.textContent=o),f=U(he),ue(g.$$.fragment,he),he.forEach(m),le.forEach(m),P=U(y),v=p(y,"DIV",{class:!0,style:!0});var Me=I(v);for(let de=0;de<M.length;de+=1)M[de].l(Me);Me.forEach(m),y.forEach(m),$=U(z),b=p(z,"DIV",{class:!0});var K=I(b);T=p(K,"DIV",{style:!0,class:!0});var me=I(T);for(let de=0;de<F.length;de+=1)F[de].l(me);me.forEach(m),D=U(K),j&&j.l(K),C=U(K),A&&A.l(K),O=U(K),L=p(K,"DIV",{style:!0,class:!0}),I(L).forEach(m),H=U(K),J=p(K,"DIV",{style:!0,class:!0}),I(J).forEach(m),K.forEach(m),z.forEach(m),this.h()},h(){u(a,"class","h4"),u(h,"class","text-primary-500 transition-all opacity-0 font-bold text-sm -translate-x-4 group-hover:opacity-100 group-hover:text-primary-500 group-hover:translate-x-0"),u(E,"class","flex items-center mb-0.5"),u(l,"href",r[3]),u(l,"class","flex items-end gap-2 transition-colors group"),Z(l,"margin-left",r[4]+"rem"),u(v,"class","hidden md:flex gap-px opacity-0 dots transition-opacity w-20 svelte-1nknccb"),Z(v,"margin-right",r[4]+"rem"),u(t,"class","flex justify-between items-center w-full"),Z(T,"scroll-padding-inline",r[4]+"rem"),Z(T,"padding","1rem "+r[4]+"rem"),Z(T,"gap",(r[13].mobile?r[5]/2:r[5])+"rem"),u(T,"class","scroller grid grid-flow-col overflow-x-scroll md:overflow-x-hidden w-full hide-scrollbar svelte-1nknccb"),Re(T,"hovered",r[11]),Z(L,"width",r[4]-r[5]+2.5+"rem"),u(L,"class",ee="blur-lg absolute -left-10 -top-4 h-full bg-surface-50-900-token transition-opacity opacity-"+(r[9]===0?0:60)+" z-10"),Z(J,"width",r[4]-r[5]+2.5+"rem"),u(J,"class",ae="blur-lg absolute -right-10 -top-4 h-full bg-surface-50-900-token opacity-"+(r[9]<r[12].length-1?60:0)+" transition-opacity z-10"),u(b,"class","relative w-full"),u(e,"class","flex flex-col items-start -mx-10 wrapper svelte-1nknccb"),Z(e,"width","calc(100% + 5rem)"),Re(e,"pointer-events-none",r[10])},m(d,z){X(d,e,z),c(e,t),c(t,l),c(l,a),c(a,n),c(l,s),V&&V.m(l,null),c(l,i),c(l,E),c(E,h),c(E,f),oe(g,E,null),c(t,P),c(t,v);for(let y=0;y<M.length;y+=1)M[y]&&M[y].m(v,null);c(e,$),c(e,b),c(b,T);for(let y=0;y<F.length;y+=1)F[y]&&F[y].m(T,null);c(b,D),j&&j.m(b,null),c(b,C),A&&A.m(b,null),c(b,O),c(b,L),c(b,H),c(b,J),r[22](e),N=!0},p(d,z){if((!N||z[0]&1)&&fe(n,d[0]),d[6]!==void 0?V?V.p(d,z):(V=St(d),V.c(),V.m(l,i)):V&&(V.d(1),V=null),(!N||z[0]&8)&&u(l,"href",d[3]),(!N||z[0]&16)&&Z(l,"margin-left",d[4]+"rem"),z[0]&4608){te=se(d[12]);let y;for(y=0;y<te.length;y+=1){const le=Tt(d,te,y);M[y]?M[y].p(le,z):(M[y]=Ut(le),M[y].c(),M[y].m(v,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=te.length}if((!N||z[0]&16)&&Z(v,"margin-right",d[4]+"rem"),z[0]&110759){Q=se(d[12]);let y;for(y=0;y<Q.length;y+=1){const le=$t(d,Q,y);F[y]?(F[y].p(le,z),B(F[y],1)):(F[y]=Ft(le),F[y].c(),B(F[y],1),F[y].m(T,null))}for(ze(),y=Q.length;y<F.length;y+=1)Ue(y);Te()}(!N||z[0]&16)&&Z(T,"scroll-padding-inline",d[4]+"rem"),(!N||z[0]&16)&&Z(T,"padding","1rem "+d[4]+"rem"),(!N||z[0]&8224)&&Z(T,"gap",(d[13].mobile?d[5]/2:d[5])+"rem"),(!N||z[0]&2048)&&Re(T,"hovered",d[11]),d[9]<d[12].length-1?j?(j.p(d,z),z[0]&4608&&B(j,1)):(j=Pt(d),j.c(),B(j,1),j.m(b,C)):j&&(ze(),W(j,1,1,()=>{j=null}),Te()),d[9]>0?A?(A.p(d,z),z[0]&512&&B(A,1)):(A=Wt(d),A.c(),B(A,1),A.m(b,O)):A&&(ze(),W(A,1,1,()=>{A=null}),Te()),(!N||z[0]&48)&&Z(L,"width",d[4]-d[5]+2.5+"rem"),(!N||z[0]&512&&ee!==(ee="blur-lg absolute -left-10 -top-4 h-full bg-surface-50-900-token transition-opacity opacity-"+(d[9]===0?0:60)+" z-10"))&&u(L,"class",ee),(!N||z[0]&48)&&Z(J,"width",d[4]-d[5]+2.5+"rem"),(!N||z[0]&4608&&ae!==(ae="blur-lg absolute -right-10 -top-4 h-full bg-surface-50-900-token opacity-"+(d[9]<d[12].length-1?60:0)+" transition-opacity z-10"))&&u(J,"class",ae),(!N||z[0]&1024)&&Re(e,"pointer-events-none",d[10])},i(d){if(!N){B(g.$$.fragment,d);for(let z=0;z<Q.length;z+=1)B(F[z]);B(j),B(A),N=!0}},o(d){W(g.$$.fragment,d),F=F.filter(Boolean);for(let z=0;z<F.length;z+=1)W(F[z]);W(j),W(A),N=!1},d(d){d&&m(e),V&&V.d(),ce(g),Se(M,d),Se(F,d),j&&j.d(),A&&A.d(),r[22](null)}}}function dl(r,e,t){let l,a,n,s;vt(r,al,V=>t(13,s=V));let{title:i=""}=e,{data:E=[]}=e,{component:h}=e,{href:o=""}=e,{size:f=250}=e,{overflow:g=4}=e,{gap:P=1.5}=e,{num:v=void 0}=e,$=window.innerWidth,b,T=0,D=!1,C=!1,O=0;xt(()=>{const V=new ResizeObserver(te=>{const M=te.at(0);if(!M)return;const Q=M.contentBoxSize[0].inlineSize;Q!==$&&t(18,$=Q)});return V.observe(b),()=>V.unobserve(b)});const L=V=>{const te=document.getElementById(i+V);t(10,D=!0),te==null||te.scrollIntoView({behavior:"smooth",block:"nearest"}),t(9,T=V),setTimeout(()=>t(10,D=!1),1e3)},ee=()=>{clearTimeout(O),t(11,C=!0)},H=()=>{O=setTimeout(()=>{t(11,C=!1)},100)},J=()=>L(T+1),ae=()=>L(T-1);function N(V){el[V?"unshift":"push"](()=>{b=V,t(8,b)})}return r.$$set=V=>{"title"in V&&t(0,i=V.title),"data"in V&&t(1,E=V.data),"component"in V&&t(2,h=V.component),"href"in V&&t(3,o=V.href),"size"in V&&t(17,f=V.size),"overflow"in V&&t(4,g=V.overflow),"gap"in V&&t(5,P=V.gap),"num"in V&&t(6,v=V.num)},r.$$.update=()=>{r.$$.dirty[0]&393216&&t(19,l=Math.ceil($/f)),r.$$.dirty[0]&917504&&t(7,a=$/l<f?l:l+1),r.$$.dirty[0]&130&&t(12,n=new Array(Math.ceil(E.length/a)).fill(""))},[i,E,h,o,g,P,v,a,b,T,D,C,n,s,L,ee,H,f,$,l,J,ae,N]}class Zt extends et{constructor(e){super(),tt(this,e,dl,hl,xe,{title:0,data:1,component:2,href:3,size:17,overflow:4,gap:5,num:6},null,[-1,-1])}}const Ye=r=>r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function Rt(r,e,t){const l=r.slice();return l[7]=e[t],l[9]=t,l}function jt(r,e,t){const l=r.slice();return l[7]=e[t],l[9]=t,l}function Ot(r){let e,t=r[0].notes+"",l;return{c(){e=_("div"),l=G(t),this.h()},l(a){e=p(a,"DIV",{class:!0});var n=I(e);l=q(n,t),n.forEach(m),this.h()},h(){u(e,"class","italic")},m(a,n){X(a,e,n),c(e,l)},p(a,n){n&1&&t!==(t=a[0].notes+"")&&fe(l,t)},d(a){a&&m(e)}}}function Lt(r){let e,t,l,a,n,s,i=Ye(r[7].score)+"",E,h,o,f=r[7].username+"",g,P,v,$=r[9]+1+"",b,T;return{c(){e=_("div"),t=_("img"),a=S(),n=_("div"),s=_("div"),E=G(i),h=S(),o=_("div"),g=G(f),P=S(),v=_("div"),b=G($),T=S(),this.h()},l(D){e=p(D,"DIV",{class:!0});var C=I(e);t=p(C,"IMG",{src:!0,class:!0}),a=U(C),n=p(C,"DIV",{class:!0});var O=I(n);s=p(O,"DIV",{class:!0});var L=I(s);E=q(L,i),L.forEach(m),h=U(O),o=p(O,"DIV",{class:!0});var ee=I(o);g=q(ee,f),ee.forEach(m),O.forEach(m),P=U(C),v=p(C,"DIV",{class:!0});var H=I(v);b=q(H,$),H.forEach(m),T=U(C),C.forEach(m),this.h()},h(){we(t.src,l=r[7].userAvatarUrl)||u(t,"src",l),u(t,"class","rounded w-10 h-10"),u(s,"class","font-bold"),u(o,"class","opacity-60"),u(n,"class","flex flex-col flex-1"),u(v,"class","opacity-20 text-right"),u(e,"class","flex gap-4 items-center bg-surface-50 dark:bg-surface-700 px-2 py-1 rounded-md"),Re(e,"border",r[9]===0),Re(e,"border-primary-400",r[9]===0)},m(D,C){X(D,e,C),c(e,t),c(e,a),c(e,n),c(n,s),c(s,E),c(n,h),c(n,o),c(o,g),c(e,P),c(e,v),c(v,b),c(e,T)},p(D,C){C&4&&!we(t.src,l=D[7].userAvatarUrl)&&u(t,"src",l),C&4&&i!==(i=Ye(D[7].score)+"")&&fe(E,i),C&4&&f!==(f=D[7].username+"")&&fe(g,f)},d(D){D&&m(e)}}}function Nt(r){let e,t,l,a,n,s,i=Ye(r[7].score)+"",E,h,o,f=r[7].username+"",g,P,v,$=r[9]+6+"",b,T;return{c(){e=_("div"),t=_("img"),a=S(),n=_("div"),s=_("div"),E=G(i),h=S(),o=_("div"),g=G(f),P=S(),v=_("div"),b=G($),T=S(),this.h()},l(D){e=p(D,"DIV",{class:!0});var C=I(e);t=p(C,"IMG",{src:!0,class:!0}),a=U(C),n=p(C,"DIV",{class:!0});var O=I(n);s=p(O,"DIV",{class:!0});var L=I(s);E=q(L,i),L.forEach(m),h=U(O),o=p(O,"DIV",{class:!0});var ee=I(o);g=q(ee,f),ee.forEach(m),O.forEach(m),P=U(C),v=p(C,"DIV",{class:!0});var H=I(v);b=q(H,$),H.forEach(m),T=U(C),C.forEach(m),this.h()},h(){we(t.src,l=r[7].userAvatarUrl)||u(t,"src",l),u(t,"class","rounded w-10 h-10"),u(s,"class","font-bold"),u(o,"class","opacity-60"),u(n,"class","flex flex-col flex-1"),u(v,"class","opacity-20 text-right"),u(e,"class","flex gap-4 items-center bg-surface-50 dark:bg-surface-700 px-2 py-1 rounded-md")},m(D,C){X(D,e,C),c(e,t),c(e,a),c(e,n),c(n,s),c(s,E),c(n,h),c(n,o),c(o,g),c(e,P),c(e,v),c(v,b),c(e,T)},p(D,C){C&4&&!we(t.src,l=D[7].userAvatarUrl)&&u(t,"src",l),C&4&&i!==(i=Ye(D[7].score)+"")&&fe(E,i),C&4&&f!==(f=D[7].username+"")&&fe(g,f)},d(D){D&&m(e)}}}function ml(r){let e,t,l,a="VPC Weekly Challenge",n,s,i=r[1].name+"",E,h,o,f,g,P=r[0].currentSeasonWeekNumber+"",v,$,b,T=Ze(r[0].periodStart)+"",D,C,O=Ze(r[0].periodEnd)+"",L,ee,H,J,ae,N,V,te,M,Q,F,Ue,j,A,d,z,y,le,Ee,he,Me,K,me,de="Join the VPC weekly challenge on discord to compete with others on the table of the week!",rt,ge,Ve,at,st,De,nt,ye,it,Ae,ve,_e,pe,je,ot,$e,_t='<div class="speaker bg-slate-900 dark:bg-black aspect-square rounded-full border border-slate-700 svelte-57otg6"></div> <div class="my-2 bg-slate-900 dark:bg-black flex-1 border border-slate-700 flex"><div class="flex-1 m-1 border border-orange-500 flex items-center justify-center font-mono text-orange-500">INSERT COIN</div></div> <div class="speaker bg-slate-900 dark:bg-black aspect-square rounded-full border border-slate-700 svelte-57otg6"></div>',ct,Be,be,Oe,ne;ae=new gt({props:{fileType:"tableFiles"}}),Q=new gt({props:{fileType:"b2sFiles"}}),d=new gt({props:{fileType:"romFiles"}});let re=r[0].notes&&Ot(r);Ve=new lt({props:{icon:ol}});let Fe=se(r[2].slice(0,5)),Y=[];for(let k=0;k<Fe.length;k+=1)Y[k]=Lt(jt(r,Fe,k));let Pe=se(r[2].slice(5,10)),x=[];for(let k=0;k<Pe.length;k+=1)x[k]=Nt(Rt(r,Pe,k));return{c(){e=_("div"),t=_("div"),l=_("div"),l.textContent=a,n=S(),s=_("div"),E=G(i),h=S(),o=_("div"),f=_("div"),g=G("W"),v=G(P),$=S(),b=_("div"),D=G(T),C=G(` -\r
				`),L=G(O),ee=S(),H=_("div"),J=_("a"),ie(ae.$$.fragment),N=G("Table"),te=S(),M=_("a"),ie(Q.$$.fragment),F=G("B2S"),j=S(),A=_("a"),ie(d.$$.fragment),z=G("ROM"),le=S(),re&&re.c(),Ee=S(),he=_("div"),Me=S(),K=_("div"),me=_("div"),me.textContent=de,rt=S(),ge=_("a"),ie(Ve.$$.fragment),at=G(" Join the discord"),st=S(),De=_("div");for(let k=0;k<Y.length;k+=1)Y[k].c();nt=S(),ye=_("div");for(let k=0;k<x.length;k+=1)x[k].c();it=S(),Ae=_("div"),ve=_("div"),_e=_("div"),pe=_("img"),ot=S(),$e=_("div"),$e.innerHTML=_t,ct=S(),Be=_("div"),be=_("img"),this.h()},l(k){e=p(k,"DIV",{class:!0});var R=I(e);t=p(R,"DIV",{class:!0});var w=I(t);l=p(w,"DIV",{class:!0,"data-svelte-h":!0}),Ke(l)!=="svelte-p6t6h"&&(l.textContent=a),n=U(w),s=p(w,"DIV",{class:!0});var ke=I(s);E=q(ke,i),ke.forEach(m),h=U(w),o=p(w,"DIV",{class:!0});var Le=I(o);f=p(Le,"DIV",{class:!0});var ft=I(f);g=q(ft,"W"),v=q(ft,P),ft.forEach(m),$=U(Le),b=p(Le,"DIV",{class:!0});var Ne=I(b);D=q(Ne,T),C=q(Ne,` -\r
				`),L=q(Ne,O),Ne.forEach(m),Le.forEach(m),ee=U(w),H=p(w,"DIV",{class:!0});var We=I(H);J=p(We,"A",{class:!0,href:!0,target:!0});var ut=I(J);ue(ae.$$.fragment,ut),N=q(ut,"Table"),ut.forEach(m),te=U(We),M=p(We,"A",{class:!0,href:!0,target:!0});var ht=I(M);ue(Q.$$.fragment,ht),F=q(ht,"B2S"),ht.forEach(m),j=U(We),A=p(We,"A",{class:!0,href:!0,target:!0});var dt=I(A);ue(d.$$.fragment,dt),z=q(dt,"ROM"),dt.forEach(m),We.forEach(m),le=U(w),re&&re.l(w),Ee=U(w),he=p(w,"DIV",{class:!0}),I(he).forEach(m),Me=U(w),K=p(w,"DIV",{class:!0});var He=I(K);me=p(He,"DIV",{"data-svelte-h":!0}),Ke(me)!=="svelte-ijt7r0"&&(me.textContent=de),rt=U(He),ge=p(He,"A",{class:!0,href:!0,target:!0});var mt=I(ge);ue(Ve.$$.fragment,mt),at=q(mt," Join the discord"),mt.forEach(m),He.forEach(m),w.forEach(m),st=U(R),De=p(R,"DIV",{class:!0});var pt=I(De);for(let Ce=0;Ce<Y.length;Ce+=1)Y[Ce].l(pt);pt.forEach(m),nt=U(R),ye=p(R,"DIV",{class:!0});var bt=I(ye);for(let Ce=0;Ce<x.length;Ce+=1)x[Ce].l(bt);bt.forEach(m),it=U(R),Ae=p(R,"DIV",{class:!0});var kt=I(Ae);ve=p(kt,"DIV",{class:!0});var Ge=I(ve);_e=p(Ge,"DIV",{class:!0});var qe=I(_e);pe=p(qe,"IMG",{src:!0,class:!0}),ot=U(qe),$e=p(qe,"DIV",{class:!0,"data-svelte-h":!0}),Ke($e)!=="svelte-1eyvw56"&&($e.innerHTML=_t),qe.forEach(m),ct=U(Ge),Be=p(Ge,"DIV",{class:!0});var wt=I(Be);be=p(wt,"IMG",{src:!0,class:!0}),wt.forEach(m),Ge.forEach(m),kt.forEach(m),R.forEach(m),this.h()},h(){u(l,"class","text-sm opacity-40 font-bold uppercase"),u(s,"class","text-2xl font-bold"),u(f,"class","badge p-0 leading-3"),u(b,"class","badge p-0 m-0 leading-3"),u(o,"class","flex gap-2 p-2 items-center rounded bg-surface-200 dark:bg-surface-800 mr-auto mt-2"),u(J,"class","chip variant-soft-primary hover:variant-filled-primary flex items-center gap-2"),u(J,"href",V=r[0].tableUrl),u(J,"target","_blank"),u(M,"class","chip variant-soft-secondary hover:variant-filled-secondary flex items-center gap-2"),u(M,"href",Ue=r[0].b2sUrl),u(M,"target","_blank"),u(A,"class","chip variant-soft-tertiary hover:variant-filled-tertiary flex items-center gap-2"),u(A,"href",y=r[0].romUrl),u(A,"target","_blank"),u(H,"class","flex gap-2 my-4"),u(he,"class","flex-1 w-full h-full"),u(ge,"class","btn variant-filled-primary mr-auto flex gap-2"),u(ge,"href","https://discord.gg/MAB82JU4Cz"),u(ge,"target","_blank"),u(K,"class","bg-surface-200 dark:bg-surface-900 p-4 rounded flex flex-col gap-4"),u(t,"class","flex flex-col flex-1"),u(De,"class","flex flex-col flex-1 gap-3 mt-3 md:mt-0"),u(ye,"class","flex flex-col flex-1 gap-3 mt-3 md:mt-0 w-full"),we(pe.src,je=r[4])||u(pe,"src",je),u(pe,"class","w-full [aspect-ratio:4/3] border border-slate-700"),u($e,"class","flex gap-2 flex-1"),u(_e,"class","absolute top-0 w-72 h-72 p-2 bg-slate-500 dark:bg-slate-900 shadow-md border border-slate-700 flex flex-col gap-2"),we(be.src,Oe=r[3])||u(be,"src",Oe),u(be,"class","w-full [aspect-ratio:9/16"),u(Be,"class","absolute top-[4.6rem] w-72 tablevpc bg-slate-500 dark:bg-slate-900 border border-slate-700 p-2 svelte-57otg6"),u(ve,"class","relative [perspective:600px] h-[15em] w-72"),u(Ae,"class","h-[20rem] md:h-[unset] w-[25rem] max-w-full flex flex-col items-center mt-8 md:mt-0"),u(e,"class","flex flex-col md:flex-row px-16 py-16 gap-0 md:gap-12 items-stretch overflow-clip")},m(k,R){X(k,e,R),c(e,t),c(t,l),c(t,n),c(t,s),c(s,E),c(t,h),c(t,o),c(o,f),c(f,g),c(f,v),c(o,$),c(o,b),c(b,D),c(b,C),c(b,L),c(t,ee),c(t,H),c(H,J),oe(ae,J,null),c(J,N),c(H,te),c(H,M),oe(Q,M,null),c(M,F),c(H,j),c(H,A),oe(d,A,null),c(A,z),c(t,le),re&&re.m(t,null),c(t,Ee),c(t,he),c(t,Me),c(t,K),c(K,me),c(K,rt),c(K,ge),oe(Ve,ge,null),c(ge,at),c(e,st),c(e,De);for(let w=0;w<Y.length;w+=1)Y[w]&&Y[w].m(De,null);c(e,nt),c(e,ye);for(let w=0;w<x.length;w+=1)x[w]&&x[w].m(ye,null);c(e,it),c(e,Ae),c(Ae,ve),c(ve,_e),c(_e,pe),c(_e,ot),c(_e,$e),c(ve,ct),c(ve,Be),c(Be,be),ne=!0},p(k,[R]){if((!ne||R&2)&&i!==(i=k[1].name+"")&&fe(E,i),(!ne||R&1)&&P!==(P=k[0].currentSeasonWeekNumber+"")&&fe(v,P),(!ne||R&1)&&T!==(T=Ze(k[0].periodStart)+"")&&fe(D,T),(!ne||R&1)&&O!==(O=Ze(k[0].periodEnd)+"")&&fe(L,O),(!ne||R&1&&V!==(V=k[0].tableUrl))&&u(J,"href",V),(!ne||R&1&&Ue!==(Ue=k[0].b2sUrl))&&u(M,"href",Ue),(!ne||R&1&&y!==(y=k[0].romUrl))&&u(A,"href",y),k[0].notes?re?re.p(k,R):(re=Ot(k),re.c(),re.m(t,Ee)):re&&(re.d(1),re=null),R&4){Fe=se(k[2].slice(0,5));let w;for(w=0;w<Fe.length;w+=1){const ke=jt(k,Fe,w);Y[w]?Y[w].p(ke,R):(Y[w]=Lt(ke),Y[w].c(),Y[w].m(De,null))}for(;w<Y.length;w+=1)Y[w].d(1);Y.length=Fe.length}if(R&4){Pe=se(k[2].slice(5,10));let w;for(w=0;w<Pe.length;w+=1){const ke=Rt(k,Pe,w);x[w]?x[w].p(ke,R):(x[w]=Nt(ke),x[w].c(),x[w].m(ye,null))}for(;w<x.length;w+=1)x[w].d(1);x.length=Pe.length}(!ne||R&16&&!we(pe.src,je=k[4]))&&u(pe,"src",je),(!ne||R&8&&!we(be.src,Oe=k[3]))&&u(be,"src",Oe)},i(k){ne||(B(ae.$$.fragment,k),B(Q.$$.fragment,k),B(d.$$.fragment,k),B(Ve.$$.fragment,k),ne=!0)},o(k){W(ae.$$.fragment,k),W(Q.$$.fragment,k),W(d.$$.fragment,k),W(Ve.$$.fragment,k),ne=!1},d(k){k&&m(e),ce(ae),ce(Q),ce(d),re&&re.d(),ce(Ve),Se(Y,k),Se(x,k)}}}function gl(r,e,t){let l,a,n,s,{data:i}=e;const E=(o,f)=>{if(!(o!=null&&o.tableFiles)||!f)return Dt;for(let g of o.tableFiles)if(g.id===f)return g.imgUrl;return Dt},{getGame:h}=il;return r.$$set=o=>{"data"in o&&t(0,i=o.data)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=h(i.vpsId)),r.$$.dirty&2&&t(4,a=sl(l)),r.$$.dirty&3&&t(3,n=E(l,i.vpsId)),r.$$.dirty&1&&t(2,s=i.scores.slice(0,10).sort((o,f)=>f.score-o.score))},[i,l,s,n,a]}class vl extends et{constructor(e){super(),tt(this,e,gl,ml,xe,{data:0})}}function _l(r){let e;return{c(){e=G("Theres been an error fetching the VPC weekly challenge SpeechRecognitionResultList.")},l(t){e=q(t,"Theres been an error fetching the VPC weekly challenge SpeechRecognitionResultList.")},m(t,l){X(t,e,l)},p:Ie,i:Ie,o:Ie,d(t){t&&m(e)}}}function pl(r){let e,t;return e=new vl({props:{data:r[2]}}),{c(){ie(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p:Ie,i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function bl(r){let e;return{c(){e=G("Loading VPC Weekly challenge...")},l(t){e=q(t,"Loading VPC Weekly challenge...")},m(t,l){X(t,e,l)},p:Ie,i:Ie,o:Ie,d(t){t&&m(e)}}}function kl(r){let e,t,l,a={ctx:r,current:null,token:null,hasCatch:!0,pending:bl,then:pl,catch:_l,value:2,error:3,blocks:[,,,]};return fl(r[0],a),{c(){e=_("div"),t=_("div"),a.block.c(),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=I(e);t=p(s,"DIV",{class:!0});var i=I(t);a.block.l(i),i.forEach(m),s.forEach(m),this.h()},h(){u(t,"class","max-w-screen-2xl w-full"),u(e,"class","min-h-96 bg-surface-100 dark:bg-surface-600 -m-10 flex justify-center")},m(n,s){X(n,e,s),c(e,t),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null,l=!0},p(n,[s]){r=n,ul(a,r,s)},i(n){l||(B(a.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const i=a.blocks[s];W(i)}l=!1},d(n){n&&m(e),a.block.d(),a.token=null,a=null}}}function wl(r){return[(async()=>await(await fetch("https://virtualpinballchat.com:6080/api/v1/currentWeek?channelName=competition-corner")).json())()]}class Il extends et{constructor(e){super(),tt(this,e,wl,kl,xe,{})}}function Ht(r,e,t){var n;const l=r.slice();l[6]=e[t][0],l[7]=e[t][1];const a=(((n=l[0])==null?void 0:n[l[6]])||[]).slice(0,Kt).map(function(...i){return r[5](l[6],...i)});return l[8]=a,l}function El(r){var l;let e,t;return e=new Zt({props:{href:Jt+"/"+r[7].route+"/",title:r[7].name,component:r[7].component,num:(((l=r[0])==null?void 0:l[r[6]])||[]).length,data:r[8]}}),{c(){ie(e.$$.fragment)},l(a){ue(e.$$.fragment,a)},m(a,n){oe(e,a,n),t=!0},p(a,n){var i;const s={};n&1&&(s.num=(((i=a[0])==null?void 0:i[a[6]])||[]).length),n&1&&(s.data=a[8]),e.$set(s)},i(a){t||(B(e.$$.fragment,a),t=!0)},o(a){W(e.$$.fragment,a),t=!1},d(a){ce(e,a)}}}function Gt(r){let e=!["tableFiles","game"].includes(r[6]),t,l,a=e&&El(r);return{c(){a&&a.c(),t=Xe()},l(n){a&&a.l(n),t=Xe()},m(n,s){a&&a.m(n,s),X(n,t,s),l=!0},p(n,s){e&&a.p(n,s)},i(n){l||(B(a),l=!0)},o(n){W(a),l=!1},d(n){n&&m(t),a&&a.d(n)}}}function Vl(r){var P;let e,t=r[2].options.length+"",l,a,n,s,i,E,h;n=new Zt({props:{title:"Tables",component:nl,data:r[1],size:400,gap:2.5,num:(((P=r[0])==null?void 0:P.tableFiles)||[]).length,href:Jt+"/tables/"}});let o=se(Object.entries(yt)),f=[];for(let v=0;v<o.length;v+=1)f[v]=Gt(Ht(r,o,v));const g=v=>W(f[v],1,1,()=>{f[v]=null});return E=new Il({}),{c(){e=_("div"),l=G(t),a=S(),ie(n.$$.fragment),s=S();for(let v=0;v<f.length;v+=1)f[v].c();i=S(),ie(E.$$.fragment),this.h()},l(v){e=p(v,"DIV",{class:!0});var $=I(e);l=q($,t),a=U($),ue(n.$$.fragment,$),s=U($);for(let b=0;b<f.length;b+=1)f[b].l($);i=U($),ue(E.$$.fragment,$),$.forEach(m),this.h()},h(){u(e,"class","h-full flex flex-col py-4 md:p-10 gap-10 md:gap-20 relative z-0")},m(v,$){X(v,e,$),c(e,l),c(e,a),oe(n,e,null),c(e,s);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(e,null);c(e,i),oe(E,e,null),h=!0},p(v,[$]){var T;(!h||$&4)&&t!==(t=v[2].options.length+"")&&fe(l,t);const b={};if($&2&&(b.data=v[1]),$&1&&(b.num=(((T=v[0])==null?void 0:T.tableFiles)||[]).length),n.$set(b),$&1){o=se(Object.entries(yt));let D;for(D=0;D<o.length;D+=1){const C=Ht(v,o,D);f[D]?(f[D].p(C,$),B(f[D],1)):(f[D]=Gt(C),f[D].c(),B(f[D],1),f[D].m(e,i))}for(ze(),D=o.length;D<f.length;D+=1)g(D);Te()}},i(v){if(!h){B(n.$$.fragment,v);for(let $=0;$<o.length;$+=1)B(f[$]);B(E.$$.fragment,v),h=!0}},o(v){W(n.$$.fragment,v),f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)W(f[$]);W(E.$$.fragment,v),h=!1},d(v){v&&m(e),ce(n),Se(f,v),ce(E)}}}const Kt=20;function Dl(r,e,t){let l,a,n;const{sortedFilesStore:s,author:i}=cl;vt(r,s,h=>t(0,a=h)),vt(r,i,h=>t(2,n=h));const E=(h,o)=>{var f;return{file:o,href:`?game=${(f=o.game)==null?void 0:f.id}&fileType=${h}&fileId=${o.id}`,fileType:h}};return r.$$.update=()=>{r.$$.dirty&1&&t(1,l=((a==null?void 0:a.tableFiles)||[]).slice(0,Kt).map(h=>{var o;return{file:h,href:`?game=${(o=h.game)==null?void 0:o.id}&fileType=table&fileId=${h.id}`}}))},[a,l,n,s,i,E]}class Pl extends et{constructor(e){super(),tt(this,e,Dl,Vl,xe,{})}}export{Pl as component};
