import{H as ce}from"../chunks/control.f5b05b5f.js";import{m as me}from"../chunks/modeMapping.b2d691ab.js";import{s as F,e as y,i as v,r as A,d as S,K as ue,o as ie,a8 as he,f as z,g as T,h as H,j as I,k as fe,p as _e,l as C,a as R,m as W,c as G,G as D,n as X,$ as ae,q as Y,C as ge,B as Z}from"../chunks/scheduler.a453f4b8.js";import{S as J,i as Q,b as L,d as U,m as N,a as k,g as B,c as O,t as M,e as j}from"../chunks/index.fa05b556.js";import{e as P}from"../chunks/each.013e569e.js";import{g as x,a as $}from"../chunks/spread.8a54911c.js";import{S as de}from"../chunks/SearchStore.d396ed50.js";function ee(o,e){return new ce(o,e)}new TextEncoder;const pe=({params:o})=>{const{mode:e}=o;if(!e)throw ee(404,"Not found");const t=Object.entries(me).find(([n,l])=>l.route===e);if(!t)throw ee(404,"Not found");return{mode:t[0],...t[1]}},je=Object.freeze(Object.defineProperty({__proto__:null,load:pe},Symbol.toStringTag,{value:"Module"}));function te(o){let e;return{c(){e=z("div"),this.h()},l(t){e=T(t,"DIV",{id:!0,style:!0}),H(e).forEach(S),this.h()},h(){I(e,"id","svelte-infinite-scroll"),fe(e,"width","0")},m(t,n){v(t,e,n),o[11](e)},p:A,d(t){t&&S(e),o[11](null)}}}function be(o){let e,t=!o[1]&&!o[0]&&te(o);return{c(){t&&t.c(),e=y()},l(n){t&&t.l(n),e=y()},m(n,l){t&&t.m(n,l),v(n,e,l)},p(n,[l]){!n[1]&&!n[0]?t?t.p(n,l):(t=te(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:A,o:A,d(n){n&&S(e),t&&t.d(n)}}}function Se(o,e,t){let{threshold:n=0}=e,{horizontal:l=!1}=e,{elementScroll:s=null}=e,{hasMore:f=!0}=e,{reverse:r=!1}=e,{window:a=!1}=e;const m=ue();let _=!1,d,w,E,h;const u=i=>{if(!f)return;const p=i.target;V(p,r,l)<=n?(!_&&f&&(m("loadMore"),t(8,w=p.scrollHeight),t(9,E=p.scrollTop)),t(7,_=!0)):t(7,_=!1)},V=(i,p,g)=>{const b=i.documentElement?i.documentElement:i;return p?g?b.scrollLeft:b.scrollTop:g?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollHeight-b.clientHeight-b.scrollTop};ie(()=>{a?t(10,h=document):s?t(10,h=s):t(10,h=d.parentNode)}),he(()=>{h&&(h.removeEventListener("scroll",u),h.removeEventListener("resize",u))});function c(i){_e[i?"unshift":"push"](()=>{d=i,t(2,d)})}return o.$$set=i=>{"threshold"in i&&t(3,n=i.threshold),"horizontal"in i&&t(4,l=i.horizontal),"elementScroll"in i&&t(0,s=i.elementScroll),"hasMore"in i&&t(5,f=i.hasMore),"reverse"in i&&t(6,r=i.reverse),"window"in i&&t(1,a=i.window)},o.$$.update=()=>{o.$$.dirty&1088&&h&&(r&&t(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",u),h.addEventListener("resize",u)),o.$$.dirty&1984&&_&&r&&t(10,h.scrollTop=h.scrollHeight-w+E,h)},[s,a,d,n,l,f,r,_,w,E,h,c]}class we extends J{constructor(e){super(),Q(this,e,Se,be,F,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function ne(o,e,t){const n=o.slice();return n[8]=e[t],n[10]=t,n}function le(o,e,t){const n=o.slice();return n[8]=e[t],n[12]=t,n}function K(o){const e=o.slice(),t=e[2][e[10]*e[3]+e[12]];return e[13]=t,e}function oe(o){let e,t,n;const l=[o[4](o[13])];var s=o[1];function f(r,a){let m={};if(a!==void 0&&a&28)m=x(l,[$(r[4](r[13]))]);else for(let _=0;_<l.length;_+=1)m=ge(m,l[_]);return{props:m}}return s&&(e=Y(s,f(o))),{c(){e&&L(e.$$.fragment),t=y()},l(r){e&&U(e.$$.fragment,r),t=y()},m(r,a){e&&N(e,r,a),v(r,t,a),n=!0},p(r,a){if(a&2&&s!==(s=r[1])){if(e){B();const m=e;M(m.$$.fragment,1,0,()=>{j(m,1)}),O()}s?(e=Y(s,f(r,a)),L(e.$$.fragment),k(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else if(s){const m=a&28?x(l,[$(r[4](r[13]))]):{};e.$set(m)}},i(r){n||(e&&k(e.$$.fragment,r),n=!0)},o(r){e&&M(e.$$.fragment,r),n=!1},d(r){r&&S(t),e&&j(e,r)}}}function re(o){let e,t,n=o[2].length>o[10]*o[3]+o[12]&&oe(K(o));return{c(){n&&n.c(),e=y()},l(l){n&&n.l(l),e=y()},m(l,s){n&&n.m(l,s),v(l,e,s),t=!0},p(l,s){l[2].length>l[10]*l[3]+l[12]?n?(n.p(K(l),s),s&12&&k(n,1)):(n=oe(K(l)),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(B(),M(n,1,1,()=>{n=null}),O())},i(l){t||(k(n),t=!0)},o(l){M(n),t=!1},d(l){l&&S(e),n&&n.d(l)}}}function se(o){let e,t,n=P({length:o[3]}),l=[];for(let f=0;f<n.length;f+=1)l[f]=re(le(o,n,f));const s=f=>M(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=y()},l(f){for(let r=0;r<l.length;r+=1)l[r].l(f);e=y()},m(f,r){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(f,r);v(f,e,r),t=!0},p(f,r){if(r&30){n=P({length:f[3]});let a;for(a=0;a<n.length;a+=1){const m=le(f,n,a);l[a]?(l[a].p(m,r),k(l[a],1)):(l[a]=re(m),l[a].c(),k(l[a],1),l[a].m(e.parentNode,e))}for(B(),a=n.length;a<l.length;a+=1)s(a);O()}},i(f){if(!t){for(let r=0;r<n.length;r+=1)k(l[r]);t=!0}},o(f){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)M(l[r]);t=!1},d(f){f&&S(e),ae(l,f)}}}function ke(o){let e,t,n,l,s,f=o[2].length+"",r,a,m,_,d,w,E,h=P({length:o[6]}),u=[];for(let c=0;c<h.length;c+=1)u[c]=se(ne(o,h,c));const V=c=>M(u[c],1,1,()=>{u[c]=null});return w=new we({props:{hasMore:o[5],elementScroll:document.getElementById("page"),threshold:100}}),w.$on("loadMore",o[7]),{c(){e=z("div"),t=z("h2"),n=C(o[0]),l=R(),s=z("p"),r=C(f),a=C(" results"),m=R(),_=z("div");for(let c=0;c<u.length;c+=1)u[c].c();d=R(),L(w.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var i=H(e);t=T(i,"H2",{class:!0});var p=H(t);n=W(p,o[0]),p.forEach(S),l=G(i),s=T(i,"P",{class:!0,style:!0});var g=H(s);r=W(g,f),a=W(g," results"),g.forEach(S),i.forEach(S),m=G(c),_=T(c,"DIV",{class:!0});var b=H(_);for(let q=0;q<u.length;q+=1)u[q].l(b);b.forEach(S),d=G(c),U(w.$$.fragment,c),this.h()},h(){I(t,"class","h2"),I(s,"class","font-bold"),fe(s,"line-height","1.6rem"),I(e,"class","pt-4 px-6 md:p-10 md:pb-0 flex items-end gap-4"),I(_,"class","grid layout gap-y-10 gap-x-4 p-6 md:gap-x-10 md:gap-y-20 md:p-10 svelte-m55lsa")},m(c,i){v(c,e,i),D(e,t),D(t,n),D(e,l),D(e,s),D(s,r),D(s,a),v(c,m,i),v(c,_,i);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(_,null);v(c,d,i),N(w,c,i),E=!0},p(c,[i]){if((!E||i&1)&&X(n,c[0]),(!E||i&4)&&f!==(f=c[2].length+"")&&X(r,f),i&94){h=P({length:c[6]});let g;for(g=0;g<h.length;g+=1){const b=ne(c,h,g);u[g]?(u[g].p(b,i),k(u[g],1)):(u[g]=se(b),u[g].c(),k(u[g],1),u[g].m(_,null))}for(B(),g=h.length;g<u.length;g+=1)V(g);O()}const p={};i&32&&(p.hasMore=c[5]),w.$set(p)},i(c){if(!E){for(let i=0;i<h.length;i+=1)k(u[i]);k(w.$$.fragment,c),E=!0}},o(c){u=u.filter(Boolean);for(let i=0;i<u.length;i+=1)M(u[i]);M(w.$$.fragment,c),E=!1},d(c){c&&(S(e),S(m),S(_),S(d)),ae(u,c),j(w,c)}}}function Ee(o,e,t){let{title:n="???"}=e,{component:l}=e,{data:s=[]}=e,{pageSize:f=100}=e,{transformData:r=d=>d}=e,a=!0,m=2;const _=()=>{t(6,m++,m),m*f>s.length&&t(5,a=!1)};return o.$$set=d=>{"title"in d&&t(0,n=d.title),"component"in d&&t(1,l=d.component),"data"in d&&t(2,s=d.data),"pageSize"in d&&t(3,f=d.pageSize),"transformData"in d&&t(4,r=d.transformData)},o.$$.update=()=>{o.$$.dirty&4&&(t(6,m=1),t(5,a=!0))},[n,l,s,f,r,a,m,_]}class Me extends J{constructor(e){super(),Q(this,e,Ee,ke,F,{title:0,component:1,data:2,pageSize:3,transformData:4})}}function ve(o){let e,t;return e=new Me({props:{component:o[0].component,title:o[0].name,data:o[1],transformData:o[4]}}),{c(){L(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,l){N(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.component=n[0].component),l&1&&(s.title=n[0].name),l&2&&(s.data=n[1]),l&1&&(s.transformData=n[4]),e.$set(s)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ye(o,e,t){let n,l,{data:s}=e;const{finalResultsStore:f,mode:r}=de;Z(o,f,m=>t(1,l=m)),Z(o,r,m=>t(5,n=m)),ie(()=>{n!==s.mode&&r.set(s.mode)});const a=m=>{var _;return{file:m,fileType:s.mode,href:s.mode==="game"?`?game=${m.id}`:`?game=${(_=m.game)==null?void 0:_.id}&fileType=${s.route}&fileId=${m.id}`}};return o.$$set=m=>{"data"in m&&t(0,s=m.data)},[s,l,f,r,a]}class Pe extends J{constructor(e){super(),Q(this,e,ye,ve,F,{data:0})}}export{Pe as component,je as universal};
