import{H as ue}from"../chunks/control.f5b05b5f.js";import{m as he}from"../chunks/modeMapping.75732967.js";import{s as F,f as R,g as E,h as I,d as p,j as S,k as T,i as C,G as v,o as ae,a8 as de,q as Z,a as A,c as N,p as x,C as ge,l as O,m as Y,n as $,B as ee}from"../chunks/scheduler.a453f4b8.js";import{S as J,i as K,g as le,c as fe,a as j,t as P,b as L,d as Q,m as W,e as B}from"../chunks/index.d5b56548.js";import{e as te,u as _e,o as pe}from"../chunks/each.e32f5f5a.js";import{g as ne,a as se}from"../chunks/spread.8a54911c.js";import{S as we}from"../chunks/SearchStore.138a10d6.js";function oe(o,n){return new ue(o,n)}new TextEncoder;const be=({params:o})=>{const{mode:n}=o;if(!n)throw oe(404,"Not found");const e=Object.entries(he).find(([t,c])=>c.route===n);if(!e)throw oe(404,"Not found");return{mode:e[0],...e[1]}},qe=Object.freeze(Object.defineProperty({__proto__:null,load:be},Symbol.toStringTag,{value:"Module"}));function re(o,n,e){const t=o.slice();return t[24]=n[e],t[26]=e,t}function ie(o,n){let e,t,c,r;const m=[n[1](n[24])];var l=n[0];function a(s,i){let u={};if(i!==void 0&&i&10)u=ne(m,[se(s[1](s[24]))]);else for(let g=0;g<m.length;g+=1)u=ge(u,m[g]);return{props:u}}return l&&(t=Z(l,a(n))),{key:o,first:null,c(){e=R("div"),t&&L(t.$$.fragment),c=A(),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=I(e);t&&Q(t.$$.fragment,i),c=N(i),i.forEach(p),this.h()},h(){S(e,"class","virtual-item svelte-1foei0i"),this.first=e},m(s,i){C(s,e,i),t&&W(t,e,null),v(e,c),r=!0},p(s,i){if(n=s,i&1&&l!==(l=n[0])){if(t){le();const u=t;P(u.$$.fragment,1,0,()=>{B(u,1)}),fe()}l?(t=Z(l,a(n,i)),L(t.$$.fragment),j(t.$$.fragment,1),W(t,e,c)):t=null}else if(l){const u=i&10?ne(m,[se(n[1](n[24]))]):{};t.$set(u)}},i(s){r||(t&&j(t.$$.fragment,s),r=!0)},o(s){t&&P(t.$$.fragment,s),r=!1},d(s){s&&p(e),t&&B(t)}}}function ye(o){let n,e,t=[],c=new Map,r,m=te(o[3]);const l=a=>a[4]+a[26];for(let a=0;a<m.length;a+=1){let s=re(o,m,a),i=l(s);c.set(i,t[a]=ie(i,s))}return{c(){n=R("div"),e=R("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){n=E(a,"DIV",{class:!0,style:!0});var s=I(n);e=E(s,"DIV",{class:!0,style:!0});var i=I(e);for(let u=0;u<t.length;u+=1)t[u].l(i);i.forEach(p),s.forEach(p),this.h()},h(){S(e,"class","grid layout gap-y-10 gap-x-4 md:gap-x-10 md:gap-y-20 svelte-1foei0i"),T(e,"transform","translateY("+o[6]+"px)"),T(e,"will-change","transform"),S(n,"class","virtual-container svelte-1foei0i"),T(n,"min-height",o[7]+"px")},m(a,s){C(a,n,s),v(n,e);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);o[19](e),o[20](n),r=!0},p(a,[s]){s&27&&(m=te(a[3]),le(),t=_e(t,s,l,1,a,m,c,e,pe,ie,null,re),fe()),(!r||s&64)&&T(e,"transform","translateY("+a[6]+"px)"),(!r||s&128)&&T(n,"min-height",a[7]+"px")},i(a){if(!r){for(let s=0;s<m.length;s+=1)j(t[s]);r=!0}},o(a){for(let s=0;s<t.length;s+=1)P(t[s]);r=!1},d(a){a&&p(n);for(let s=0;s<t.length;s+=1)t[s].d();o[19](null),o[20](null)}}}function De(o,n,e){let t,c,r,m,l,a,{items:s=[]}=n,{component:i}=n,{transformData:u=h=>h}=n,{bufferRows:g=3}=n,f=null,d=null,_=null,y=0,b=380,k=1,H=0,q=10,M=!1;const G=()=>{f&&e(11,y=f.scrollTop)},z=()=>{!d||M||requestAnimationFrame(()=>{const h=d==null?void 0:d.querySelectorAll(".virtual-item");if(h&&h.length>=k){let D=0;for(let w=0;w<Math.min(k,h.length);w++){const V=h[w].getBoundingClientRect();D=Math.max(D,V.height)}if(D>0){const V=window.innerWidth>=768?80:40;e(12,b=D+V),e(16,M=!0)}}})},U=()=>{e(16,M=!1),setTimeout(z,100)};ae(()=>{e(10,f=document.getElementById("page")),f&&(f.addEventListener("scroll",G,{passive:!0}),G()),setTimeout(z,200),window.addEventListener("resize",U)}),de(()=>{f&&f.removeEventListener("scroll",G),window.removeEventListener("resize",U)});function ce(h){x[h?"unshift":"push"](()=>{d=h,e(5,d)})}function me(h){x[h?"unshift":"push"](()=>{_=h,e(2,_)})}return o.$$set=h=>{"items"in h&&e(8,s=h.items),"component"in h&&e(0,i=h.component),"transformData"in h&&e(1,u=h.transformData),"bufferRows"in h&&e(9,g=h.bufferRows)},o.$$.update=()=>{if(o.$$.dirty&4&&_&&(()=>{const D=(_==null?void 0:_.clientWidth)||0,w=window.innerWidth>=768,V=w?200:120,X=w?40:16;e(13,k=Math.max(1,Math.floor((D+X)/(V+X))))})(),o.$$.dirty&8448&&e(17,t=Math.ceil(s.length/k)),o.$$.dirty&132352&&s&&(e(14,H=0),e(15,q=Math.min(10,t)),e(16,M=!1),f&&(e(10,f.scrollTop=0,f),e(11,y=0)),setTimeout(z,200)),o.$$.dirty&204288&&f&&M){const h=f.clientHeight,D=Math.ceil(h/b),w=Math.floor(y/b);e(14,H=Math.max(0,w-g)),e(15,q=Math.min(t,w+D+g))}o.$$.dirty&24576&&e(4,c=H*k),o.$$.dirty&41216&&e(18,r=Math.min(s.length,q*k)),o.$$.dirty&262416&&e(3,m=s.slice(c,r)),o.$$.dirty&135168&&e(7,l=t*b),o.$$.dirty&20480&&e(6,a=H*b),o.$$.dirty&65544&&m&&!M&&z()},[i,u,_,m,c,d,a,l,s,g,f,y,b,k,H,q,M,t,r,ce,me]}class ve extends J{constructor(n){super(),K(this,n,De,ye,F,{items:8,component:0,transformData:1,bufferRows:9})}}function ke(o){let n,e,t,c,r,m=o[2].length+"",l,a,s,i,u,g;return u=new ve({props:{items:o[2],component:o[1],transformData:o[3],bufferRows:3}}),{c(){n=R("div"),e=R("h2"),t=O(o[0]),c=A(),r=R("p"),l=O(m),a=O(" results"),s=A(),i=R("div"),L(u.$$.fragment),this.h()},l(f){n=E(f,"DIV",{class:!0});var d=I(n);e=E(d,"H2",{class:!0});var _=I(e);t=Y(_,o[0]),_.forEach(p),c=N(d),r=E(d,"P",{class:!0,style:!0});var y=I(r);l=Y(y,m),a=Y(y," results"),y.forEach(p),d.forEach(p),s=N(f),i=E(f,"DIV",{class:!0});var b=I(i);Q(u.$$.fragment,b),b.forEach(p),this.h()},h(){S(e,"class","h2"),S(r,"class","font-bold"),T(r,"line-height","1.6rem"),S(n,"class","pt-4 px-6 md:p-10 md:pb-0 flex items-end gap-4"),S(i,"class","p-6 md:p-10")},m(f,d){C(f,n,d),v(n,e),v(e,t),v(n,c),v(n,r),v(r,l),v(r,a),C(f,s,d),C(f,i,d),W(u,i,null),g=!0},p(f,[d]){(!g||d&1)&&$(t,f[0]),(!g||d&4)&&m!==(m=f[2].length+"")&&$(l,m);const _={};d&4&&(_.items=f[2]),d&2&&(_.component=f[1]),d&8&&(_.transformData=f[3]),u.$set(_)},i(f){g||(j(u.$$.fragment,f),g=!0)},o(f){P(u.$$.fragment,f),g=!1},d(f){f&&(p(n),p(s),p(i)),B(u)}}}function Me(o,n,e){let{title:t="???"}=n,{component:c}=n,{data:r=[]}=n,{transformData:m=l=>l}=n;return o.$$set=l=>{"title"in l&&e(0,t=l.title),"component"in l&&e(1,c=l.component),"data"in l&&e(2,r=l.data),"transformData"in l&&e(3,m=l.transformData)},[t,c,r,m]}class Re extends J{constructor(n){super(),K(this,n,Me,ke,F,{title:0,component:1,data:2,transformData:3})}}function Ee(o){let n,e;return n=new Re({props:{component:o[0].component,title:o[0].name,data:o[1],transformData:o[4]}}),{c(){L(n.$$.fragment)},l(t){Q(n.$$.fragment,t)},m(t,c){W(n,t,c),e=!0},p(t,[c]){const r={};c&1&&(r.component=t[0].component),c&1&&(r.title=t[0].name),c&2&&(r.data=t[1]),c&1&&(r.transformData=t[4]),n.$set(r)},i(t){e||(j(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ie(o,n,e){let t,c,{data:r}=n;const{finalResultsStore:m,mode:l}=we;ee(o,m,s=>e(1,c=s)),ee(o,l,s=>e(5,t=s)),ae(()=>{t!==r.mode&&l.set(r.mode)});const a=s=>{var i;return{file:s,fileType:r.mode,href:r.mode==="game"?`?game=${s.id}`:`?game=${(i=s.game)==null?void 0:i.id}&fileType=${r.route}&fileId=${s.id}`}};return o.$$set=s=>{"data"in s&&e(0,r=s.data)},[r,c,m,l,a]}class ze extends J{constructor(n){super(),K(this,n,Ie,Ee,F,{data:0})}}export{ze as component,qe as universal};
