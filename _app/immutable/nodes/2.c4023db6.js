import{s as Pe,o as cr,b as Jt,n as ke,c as hr,q as ge,r as dr,v as Kt,w as _t}from"../chunks/scheduler.53b6a842.js";import{S as ze,i as We,g as A,m as te,s as Y,r as se,h as P,j as I,n as re,f as k,c as N,K as vr,u as de,k as O,l as H,a as ue,B as b,v as fe,o as oe,d as $,p as De,b as Ee,t as X,w as ce,M as Xe,C as Ae,q as Ft,e as $e,N as Ye,O as Ne}from"../chunks/index.d97ef2e0.js";import{b as Zt}from"../chunks/paths.4b1e9009.js";import{F as ct,h as er,e as pe,i as mr,g as Ct,j as Dt,q as Et}from"../chunks/index.c4ebf1f5.js";import{D as Ue}from"../chunks/DbStore.4e20062f.js";import{d as tr}from"../chunks/index.8246a737.js";function St(r,e,t){const n=r.slice();n[16]=e[t],n[19]=t;const a=n[1].slice(n[19]*n[6],(n[19]+1)*n[6]);return n[17]=a,n}function Tt(r,e,t){const n=r.slice();return n[20]=e[t],n}function Mt(r,e,t){const n=r.slice();return n[20]=e[t],n}function Ot(r){let e,t,n;const a=[r[20]];var i=r[2];function o(u,l){let f={};if(l!==void 0&&l&66)f=Ct(a,[Dt(u[20])]);else for(let s=0;s<a.length;s+=1)f=hr(f,a[s]);return{props:f}}return i&&(e=Ft(i,o(r))),{c(){e&&se(e.$$.fragment),t=$e()},l(u){e&&de(e.$$.fragment,u),t=$e()},m(u,l){e&&fe(e,u,l),ue(u,t,l),n=!0},p(u,l){if(l&4&&i!==(i=u[2])){if(e){De();const f=e;X(f.$$.fragment,1,0,()=>{ce(f,1)}),Ee()}i?(e=Ft(i,o(u,l)),se(e.$$.fragment),$(e.$$.fragment,1),fe(e,t.parentNode,t)):e=null}else if(i){const f=l&66?Ct(a,[Dt(u[20])]):{};e.$set(f)}},i(u){n||(e&&$(e.$$.fragment,u),n=!0)},o(u){e&&X(e.$$.fragment,u),n=!1},d(u){u&&k(t),e&&ce(e,u)}}}function xt(r){let e,t=pe(new Array(r[6]-r[17].length).fill("")),n=[];for(let a=0;a<t.length;a+=1)n[a]=kt(Tt(r,t,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=$e()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=$e()},m(a,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,i);ue(a,e,i)},p(a,i){if(i&66){t=pe(new Array(a[6]-a[17].length).fill(""));let o;for(o=0;o<t.length;o+=1){const u=Tt(a,t,o);n[o]?n[o].p(u,i):(n[o]=kt(),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&k(e),Xe(n,a)}}}function kt(r){let e;return{c(){e=A("div")},l(t){e=P(t,"DIV",{}),I(e).forEach(k)},m(t,n){ue(t,e,n)},p:ke,d(t){t&&k(e)}}}function At(r){let e,t,n,a,i,o=pe(r[17]),u=[];for(let s=0;s<o.length;s+=1)u[s]=Ot(Mt(r,o,s));const l=s=>X(u[s],1,1,()=>{u[s]=null});let f=r[17].length<r[6]&&xt(r);return{c(){e=A("div");for(let s=0;s<u.length;s+=1)u[s].c();t=Y(),f&&f.c(),n=Y(),this.h()},l(s){e=P(s,"DIV",{class:!0,id:!0});var d=I(e);for(let c=0;c<u.length;c+=1)u[c].l(d);t=N(d),f&&f.l(d),n=N(d),d.forEach(k),this.h()},h(){O(e,"class","grid grid-flow-col auto-cols-fr gap-2"),O(e,"id",a=r[0]+r[19])},m(s,d){ue(s,e,d);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(e,null);b(e,t),f&&f.m(e,null),b(e,n),i=!0},p(s,d){if(d&70){o=pe(s[17]);let c;for(c=0;c<o.length;c+=1){const h=Mt(s,o,c);u[c]?(u[c].p(h,d),$(u[c],1)):(u[c]=Ot(h),u[c].c(),$(u[c],1),u[c].m(e,t))}for(De(),c=o.length;c<u.length;c+=1)l(c);Ee()}s[17].length<s[6]?f?f.p(s,d):(f=xt(s),f.c(),f.m(e,n)):f&&(f.d(1),f=null),(!i||d&1&&a!==(a=s[0]+s[19]))&&O(e,"id",a)},i(s){if(!i){for(let d=0;d<o.length;d+=1)$(u[d]);i=!0}},o(s){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)X(u[d]);i=!1},d(s){s&&k(e),Xe(u,s),f&&f.d()}}}function Pt(r){let e,t,n,a,i;return t=new ct({props:{icon:er,size:"lg"}}),{c(){e=A("button"),se(t.$$.fragment),this.h()},l(o){e=P(o,"BUTTON",{style:!0,class:!0});var u=I(e);de(t.$$.fragment,u),u.forEach(k),this.h()},h(){H(e,"width",r[4]+"rem"),O(e,"class","absolute right-0 top-0 h-full grid place-items-center text-xl bg-gradient-to-l from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(o,u){ue(o,e,u),fe(t,e,null),n=!0,a||(i=Ae(e,"click",r[13]),a=!0)},p(o,u){(!n||u&16)&&H(e,"width",o[4]+"rem")},i(o){n||($(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&k(e),ce(t),a=!1,i()}}}function zt(r){let e,t,n,a,i;return t=new ct({props:{icon:mr,size:"lg"}}),{c(){e=A("button"),se(t.$$.fragment),this.h()},l(o){e=P(o,"BUTTON",{style:!0,class:!0});var u=I(e);de(t.$$.fragment,u),u.forEach(k),this.h()},h(){H(e,"width",r[4]+"rem"),O(e,"class","absolute left-0 top-0 h-full grid place-items-center text-xl bg-gradient-to-r from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(o,u){ue(o,e,u),fe(t,e,null),n=!0,a||(i=Ae(e,"click",r[14]),a=!0)},p(o,u){(!n||u&16)&&H(e,"width",o[4]+"rem")},i(o){n||($(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&k(e),ce(t),a=!1,i()}}}function gr(r){let e,t,n,a,i,o,u,l="Show All",f,s,d,c,h,m,y,w,_,C,v,E;s=new ct({props:{icon:er,class:"-translate-x-14 transition-transform group-hover:translate-x-2 group-hover:text-primary-500 text-sm"}});let g=pe(r[8]),p=[];for(let F=0;F<g.length;F+=1)p[F]=At(St(r,g,F));const M=F=>X(p[F],1,1,()=>{p[F]=null});let D=r[5]<r[8].length-1&&Pt(r),x=r[5]>0&&zt(r);return{c(){e=A("div"),t=A("a"),n=A("h4"),a=te(r[0]),i=Y(),o=A("div"),u=A("p"),u.textContent=l,f=Y(),se(s.$$.fragment),d=Y(),c=A("div"),h=A("div");for(let F=0;F<p.length;F+=1)p[F].c();m=Y(),D&&D.c(),y=Y(),x&&x.c(),w=Y(),_=A("div"),C=Y(),v=A("div"),this.h()},l(F){e=P(F,"DIV",{class:!0,style:!0});var T=I(e);t=P(T,"A",{href:!0,class:!0,style:!0});var S=I(t);n=P(S,"H4",{class:!0});var U=I(n);a=re(U,r[0]),U.forEach(k),i=N(S),o=P(S,"DIV",{class:!0});var W=I(o);u=P(W,"P",{class:!0,"data-svelte-h":!0}),vr(u)!=="svelte-1r1s0xf"&&(u.textContent=l),f=N(W),de(s.$$.fragment,W),W.forEach(k),S.forEach(k),d=N(T),c=P(T,"DIV",{class:!0});var z=I(c);h=P(z,"DIV",{style:!0,class:!0});var B=I(h);for(let Q=0;Q<p.length;Q+=1)p[Q].l(B);B.forEach(k),m=N(z),D&&D.l(z),y=N(z),x&&x.l(z),w=N(z),_=P(z,"DIV",{style:!0,class:!0}),I(_).forEach(k),C=N(z),v=P(z,"DIV",{style:!0,class:!0}),I(v).forEach(k),z.forEach(k),T.forEach(k),this.h()},h(){O(n,"class","h4"),O(u,"class","text-primary-500 transition-all opacity-0 font-bold text-sm -translate-x-4 group-hover:opacity-100 group-hover:text-primary-500 group-hover:translate-x-0"),O(o,"class","flex items-center"),O(t,"href",r[3]),O(t,"class","flex items-center gap-2 transition-colors group"),H(t,"margin-left",r[4]+"rem"),H(h,"scroll-padding-inline",r[4]+"rem"),H(h,"padding","0 "+r[4]+"rem"),O(h,"class","scroller grid grid-flow-col gap-2 overflow-x-hidden w-full svelte-1o16yw2"),H(_,"width",r[4]+"rem"),O(_,"class","absolute left-0 top-0 h-full bg-surface-900/60 z-10"),H(v,"width",r[4]+"rem"),O(v,"class","absolute right-0 top-0 h-full bg-surface-900/60 z-10"),O(c,"class","relative w-full"),O(e,"class","flex flex-col gap-4 items-start -mx-10"),H(e,"width","calc(100% + 5rem)")},m(F,T){ue(F,e,T),b(e,t),b(t,n),b(n,a),b(t,i),b(t,o),b(o,u),b(o,f),fe(s,o,null),b(e,d),b(e,c),b(c,h);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(h,null);b(c,m),D&&D.m(c,null),b(c,y),x&&x.m(c,null),b(c,w),b(c,_),b(c,C),b(c,v),r[15](e),E=!0},p(F,[T]){if((!E||T&1)&&oe(a,F[0]),(!E||T&8)&&O(t,"href",F[3]),(!E||T&16)&&H(t,"margin-left",F[4]+"rem"),T&327){g=pe(F[8]);let S;for(S=0;S<g.length;S+=1){const U=St(F,g,S);p[S]?(p[S].p(U,T),$(p[S],1)):(p[S]=At(U),p[S].c(),$(p[S],1),p[S].m(h,null))}for(De(),S=g.length;S<p.length;S+=1)M(S);Ee()}(!E||T&16)&&H(h,"scroll-padding-inline",F[4]+"rem"),(!E||T&16)&&H(h,"padding","0 "+F[4]+"rem"),F[5]<F[8].length-1?D?(D.p(F,T),T&288&&$(D,1)):(D=Pt(F),D.c(),$(D,1),D.m(c,y)):D&&(De(),X(D,1,1,()=>{D=null}),Ee()),F[5]>0?x?(x.p(F,T),T&32&&$(x,1)):(x=zt(F),x.c(),$(x,1),x.m(c,w)):x&&(De(),X(x,1,1,()=>{x=null}),Ee()),(!E||T&16)&&H(_,"width",F[4]+"rem"),(!E||T&16)&&H(v,"width",F[4]+"rem")},i(F){if(!E){$(s.$$.fragment,F);for(let T=0;T<g.length;T+=1)$(p[T]);$(D),$(x),E=!0}},o(F){X(s.$$.fragment,F),p=p.filter(Boolean);for(let T=0;T<p.length;T+=1)X(p[T]);X(D),X(x),E=!1},d(F){F&&k(e),ce(s),Xe(p,F),D&&D.d(),x&&x.d(),r[15](null)}}}function pr(r,e,t){let n,a,i,{title:o=""}=e,{data:u=[]}=e,{component:l}=e,{href:f=""}=e,{size:s=400}=e,{overflow:d=4}=e,c=window.innerWidth,h,m=0;cr(()=>{const v=new ResizeObserver(E=>{const g=E.at(0);if(!g)return;const p=g.contentBoxSize[0].inlineSize;p!==c&&t(11,c=p)});return v.observe(h),()=>v.unobserve(h)});const y=v=>{const E=document.getElementById(o+v);E==null||E.scrollIntoView({behavior:"smooth",block:"nearest"}),t(5,m=v)},w=()=>y(m+1),_=()=>y(m-1);function C(v){Jt[v?"unshift":"push"](()=>{h=v,t(7,h)})}return r.$$set=v=>{"title"in v&&t(0,o=v.title),"data"in v&&t(1,u=v.data),"component"in v&&t(2,l=v.component),"href"in v&&t(3,f=v.href),"size"in v&&t(10,s=v.size),"overflow"in v&&t(4,d=v.overflow)},r.$$.update=()=>{r.$$.dirty&3072&&t(12,n=Math.ceil(c/s)),r.$$.dirty&7168&&t(6,a=c/n<s?n:n+1),r.$$.dirty&32&&console.log(m),r.$$.dirty&66&&t(8,i=new Array(Math.ceil(u.length/a)).fill(""))},[o,u,l,f,d,m,a,h,i,y,s,c,n,w,_,C]}class Se extends ze{constructor(e){super(),We(this,e,pr,gr,Pe,{title:0,data:1,component:2,href:3,size:10,overflow:4})}}const Wt=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],yr={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},wr={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},br={authors:[],id:"",updatedAt:0,urls:[]},_r={authors:[],id:"",updatedAt:0,urls:[]},Ut=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function Fr(r){var w,_;let e,t,n,a,i,o,u,l,f,s=((w=r[0].game)==null?void 0:w.name)+"",d,c,h,m=((_=r[0].authors)==null?void 0:_.join(", "))+"",y;return{c(){e=A("div"),t=A("img"),i=Y(),o=A("hr"),u=Y(),l=A("div"),f=A("h4"),d=te(s),c=Y(),h=A("h4"),y=te(m),this.h()},l(C){e=P(C,"DIV",{class:!0});var v=I(e);t=P(v,"IMG",{src:!0,alt:!0,class:!0}),i=N(v),o=P(v,"HR",{}),u=N(v),l=P(v,"DIV",{class:!0});var E=I(l);f=P(E,"H4",{class:!0});var g=I(f);d=re(g,s),g.forEach(k),c=N(E),h=P(E,"H4",{class:!0});var p=I(h);y=re(p,m),p.forEach(k),E.forEach(k),v.forEach(k),this.h()},h(){ge(t.src,n=r[0].imgUrl||Ut)||O(t,"src",n),O(t,"alt",a=r[0].id),O(t,"class","card aspectTable svelte-1mrpffe"),O(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),O(h,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),O(l,"class","flex flex-col p-4"),O(e,"class","overflow-hidden flex flex-col")},m(C,v){ue(C,e,v),b(e,t),b(e,i),b(e,o),b(e,u),b(e,l),b(l,f),b(f,d),b(l,c),b(l,h),b(h,y)},p(C,[v]){var E,g;v&1&&!ge(t.src,n=C[0].imgUrl||Ut)&&O(t,"src",n),v&1&&a!==(a=C[0].id)&&O(t,"alt",a),v&1&&s!==(s=((E=C[0].game)==null?void 0:E.name)+"")&&oe(d,s),v&1&&m!==(m=((g=C[0].authors)==null?void 0:g.join(", "))+"")&&oe(y,m)},i:ke,o:ke,d(C){C&&k(e)}}}function Cr(r,e,t){let{b2s:n=br}=e;return r.$$set=a=>{"b2s"in a&&t(0,n=a.b2s)},[n]}class Dr extends ze{constructor(e){super(),We(this,e,Cr,Fr,Pe,{b2s:0})}}function Vt(r){let e,t=r[0].version+"",n;return{c(){e=A("span"),n=te(t),this.h()},l(a){e=P(a,"SPAN",{class:!0});var i=I(e);n=re(i,t),i.forEach(k),this.h()},h(){O(e,"class","opacity-40")},m(a,i){ue(a,e,i),b(e,n)},p(a,i){i&1&&t!==(t=a[0].version+"")&&oe(n,t)},d(a){a&&k(e)}}}function Er(r){var d;let e,t,n,a=(((d=r[0].game)==null?void 0:d.name)||"???")+"",i,o,u,l,f,s=r[0].version&&Vt(r);return{c(){e=A("div"),t=A("div"),n=A("span"),i=te(a),o=Y(),s&&s.c(),u=Y(),l=A("img"),this.h()},l(c){e=P(c,"DIV",{class:!0});var h=I(e);t=P(h,"DIV",{class:!0});var m=I(t);n=P(m,"SPAN",{class:!0});var y=I(n);i=re(y,a),y.forEach(k),o=N(m),s&&s.l(m),m.forEach(k),u=N(h),l=P(h,"IMG",{src:!0,class:!0,alt:!0}),h.forEach(k),this.h()},h(){O(n,"class","font-bold"),O(t,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),ge(l.src,f=r[1])||O(l,"src",f),O(l,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),O(l,"alt",""),O(e,"class","card aspect relative overflow-hidden svelte-22xih4")},m(c,h){ue(c,e,h),b(e,t),b(t,n),b(n,i),b(t,o),s&&s.m(t,null),b(e,u),b(e,l)},p(c,[h]){var m;h&1&&a!==(a=(((m=c[0].game)==null?void 0:m.name)||"???")+"")&&oe(i,a),c[0].version?s?s.p(c,h):(s=Vt(c),s.c(),s.m(t,null)):s&&(s.d(1),s=null),h&2&&!ge(l.src,f=c[1])&&O(l,"src",f)},i:ke,o:ke,d(c){c&&k(e),s&&s.d()}}}function Sr(r,e,t){let n;const{getGameImage:a}=Ue;let{file:i=_r}=e;return r.$$set=o=>{"file"in o&&t(0,i=o.file)},r.$$.update=()=>{var o;r.$$.dirty&1&&t(1,n=(o=i.game)!=null&&o.id?a(i.game.id):"")},[i,n]}class et extends ze{constructor(e){super(),We(this,e,Sr,Er,Pe,{file:0})}}const Re=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function He(r){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(r)}function be(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ie(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function he(r){ie(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||He(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Tr(r,e){ie(2,arguments);var t=he(r).getTime(),n=be(e);return new Date(t+n)}var Mr={};function Je(){return Mr}function Or(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function xr(r){return ie(1,arguments),r instanceof Date||He(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function kr(r){if(ie(1,arguments),!xr(r)&&typeof r!="number")return!1;var e=he(r);return!isNaN(Number(e))}function Ar(r,e){ie(2,arguments);var t=be(e);return Tr(r,-t)}var Pr=864e5;function zr(r){ie(1,arguments);var e=he(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/Pr)+1}function Qe(r){ie(1,arguments);var e=1,t=he(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function rr(r){ie(1,arguments);var e=he(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=Qe(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Qe(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Wr(r){ie(1,arguments);var e=rr(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Qe(t);return n}var Ur=6048e5;function Vr(r){ie(1,arguments);var e=he(r),t=Qe(e).getTime()-Wr(e).getTime();return Math.round(t/Ur)+1}function je(r,e){var t,n,a,i,o,u,l,f;ie(1,arguments);var s=Je(),d=be((t=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&a!==void 0?a:s.weekStartsOn)!==null&&n!==void 0?n:(l=s.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=he(r),h=c.getUTCDay(),m=(h<d?7:0)+h-d;return c.setUTCDate(c.getUTCDate()-m),c.setUTCHours(0,0,0,0),c}function nr(r,e){var t,n,a,i,o,u,l,f;ie(1,arguments);var s=he(r),d=s.getUTCFullYear(),c=Je(),h=be((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,h),m.setUTCHours(0,0,0,0);var y=je(m,e),w=new Date(0);w.setUTCFullYear(d,0,h),w.setUTCHours(0,0,0,0);var _=je(w,e);return s.getTime()>=y.getTime()?d+1:s.getTime()>=_.getTime()?d:d-1}function Ir(r,e){var t,n,a,i,o,u,l,f;ie(1,arguments);var s=Je(),d=be((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(u=o.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:s.firstWeekContainsDate)!==null&&n!==void 0?n:(l=s.locale)===null||l===void 0||(f=l.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),c=nr(r,e),h=new Date(0);h.setUTCFullYear(c,0,d),h.setUTCHours(0,0,0,0);var m=je(h,e);return m}var Lr=6048e5;function Yr(r,e){ie(1,arguments);var t=he(r),n=je(t,e).getTime()-Ir(t,e).getTime();return Math.round(n/Lr)+1}function L(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var Nr={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return L(t==="yy"?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):L(n+1,2)},d:function(e,t){return L(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return L(e.getUTCHours()%12||12,t.length)},H:function(e,t){return L(e.getUTCHours(),t.length)},m:function(e,t){return L(e.getUTCMinutes(),t.length)},s:function(e,t){return L(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return L(i,t.length)}};const me=Nr;var Fe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Br={G:function(e,t,n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return me.y(e,t)},Y:function(e,t,n,a){var i=nr(e,a),o=i>0?i:1-i;if(t==="YY"){var u=o%100;return L(u,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):L(o,t.length)},R:function(e,t){var n=rr(e);return L(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return L(n,t.length)},Q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return L(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return L(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return me.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return L(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=Yr(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):L(i,t.length)},I:function(e,t,n){var a=Vr(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):L(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):me.d(e,t)},D:function(e,t,n){var a=zr(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):L(a,t.length)},E:function(e,t,n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return L(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return L(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return L(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var a=e.getUTCHours(),i;switch(a===12?i=Fe.noon:a===0?i=Fe.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var a=e.getUTCHours(),i;switch(a>=17?i=Fe.evening:a>=12?i=Fe.afternoon:a>=4?i=Fe.morning:i=Fe.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return me.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):me.H(e,t)},K:function(e,t,n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):L(a,t.length)},k:function(e,t,n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):L(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):me.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):me.s(e,t)},S:function(e,t){return me.S(e,t)},X:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Lt(o);case"XXXX":case"XX":return we(o);case"XXXXX":case"XXX":default:return we(o,":")}},x:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Lt(o);case"xxxx":case"xx":return we(o);case"xxxxx":case"xxx":default:return we(o,":")}},O:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+It(o,":");case"OOOO":default:return"GMT"+we(o,":")}},z:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+It(o,":");case"zzzz":default:return"GMT"+we(o,":")}},t:function(e,t,n,a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return L(o,t.length)},T:function(e,t,n,a){var i=a._originalDate||e,o=i.getTime();return L(o,t.length)}};function It(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+L(i,2)}function Lt(r,e){if(r%60===0){var t=r>0?"-":"+";return t+L(Math.abs(r)/60,2)}return we(r,e)}function we(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=L(Math.floor(a/60),2),o=L(a%60,2);return n+i+t+o}const qr=Br;var Yt=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ar=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$r=function(e,t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Yt(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Yt(a,t)).replace("{{time}}",ar(i,t))},Rr={p:ar,P:$r};const Hr=Rr;var Qr=["D","DD"],jr=["YY","YYYY"];function Gr(r){return Qr.indexOf(r)!==-1}function Xr(r){return jr.indexOf(r)!==-1}function Nt(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kr=function(e,t,n){var a,i=Jr[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Zr=Kr;function tt(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var en={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nn={date:tt({formats:en,defaultWidth:"full"}),time:tt({formats:tn,defaultWidth:"full"}),dateTime:tt({formats:rn,defaultWidth:"full"})};const an=nn;var on={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},un=function(e,t,n,a){return on[e]};const ln=un;function Te(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{var u=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[u]}var f=r.argumentCallback?r.argumentCallback(e):e;return a[f]}}var sn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mn=function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gn={ordinalNumber:mn,era:Te({values:sn,defaultWidth:"wide"}),quarter:Te({values:fn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Te({values:cn,defaultWidth:"wide"}),day:Te({values:hn,defaultWidth:"wide"}),dayPeriod:Te({values:dn,defaultWidth:"wide",formattingValues:vn,defaultFormattingWidth:"wide"})};const pn=gn;function Me(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(u)?wn(u,function(d){return d.test(o)}):yn(u,function(d){return d.test(o)}),f;f=r.valueCallback?r.valueCallback(l):l,f=t.valueCallback?t.valueCallback(f):f;var s=e.slice(o.length);return{value:f,rest:s}}}function yn(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function wn(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function bn(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var a=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var u=e.slice(a.length);return{value:o,rest:u}}}var _n=/^(\d+)(th|st|nd|rd)?/i,Fn=/\d+/i,Cn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dn={any:[/^b/i,/^(a|c)/i]},En={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sn={any:[/1/i,/2/i,/3/i,/4/i]},Tn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},On={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},An={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pn={ordinalNumber:bn({matchPattern:_n,parsePattern:Fn,valueCallback:function(e){return parseInt(e,10)}}),era:Me({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:Dn,defaultParseWidth:"any"}),quarter:Me({matchPatterns:En,defaultMatchWidth:"wide",parsePatterns:Sn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Me({matchPatterns:Tn,defaultMatchWidth:"wide",parsePatterns:Mn,defaultParseWidth:"any"}),day:Me({matchPatterns:On,defaultMatchWidth:"wide",parsePatterns:xn,defaultParseWidth:"any"}),dayPeriod:Me({matchPatterns:kn,defaultMatchWidth:"any",parsePatterns:An,defaultParseWidth:"any"})};const zn=Pn;var Wn={code:"en-US",formatDistance:Zr,formatLong:an,formatRelative:ln,localize:pn,match:zn,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Un=Wn;var Vn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,In=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ln=/^'([^]*?)'?$/,Yn=/''/g,Nn=/[a-zA-Z]/;function Bn(r,e,t){var n,a,i,o,u,l,f,s,d,c,h,m,y,w,_,C,v,E;ie(2,arguments);var g=String(e),p=Je(),M=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:p.locale)!==null&&n!==void 0?n:Un,D=be((i=(o=(u=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(f=t.locale)===null||f===void 0||(s=f.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&u!==void 0?u:p.firstWeekContainsDate)!==null&&o!==void 0?o:(d=p.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=be((h=(m=(y=(w=t==null?void 0:t.weekStartsOn)!==null&&w!==void 0?w:t==null||(_=t.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&y!==void 0?y:p.weekStartsOn)!==null&&m!==void 0?m:(v=p.locale)===null||v===void 0||(E=v.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&h!==void 0?h:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var F=he(r);if(!kr(F))throw new RangeError("Invalid time value");var T=Or(F),S=Ar(F,T),U={firstWeekContainsDate:D,weekStartsOn:x,locale:M,_originalDate:F},W=g.match(In).map(function(z){var B=z[0];if(B==="p"||B==="P"){var Q=Hr[B];return Q(z,M.formatLong)}return z}).join("").match(Vn).map(function(z){if(z==="''")return"'";var B=z[0];if(B==="'")return qn(z);var Q=qr[B];if(Q)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Xr(z)&&Nt(z,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Gr(z)&&Nt(z,e,String(r)),Q(S,z,M.localize,U);if(B.match(Nn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return z}).join("");return W}function qn(r){var e=r.match(Ln);return e?e[1].replace(Yn,"'"):r}const Bt=r=>isNaN(new Date(r).getTime())?"??.??.????":Bn(new Date(r),"dd.MM.yyyy");function qt(r,e,t){const n=r.slice();return n[18]=e[t],n}function $t(r){var mt;let e,t,n,a,i,o,u,l,f=((mt=r[9])==null?void 0:mt.name)+"",s,d,c,h,m=r[9].manufacturer+"",y,w,_,C,v=r[9].year+"",E,g,p,M,D=r[0].authors.join(", ")+"",x,F,T,S,U,W,z=r[0].tableFormat+"",B,Q,le,ne=Bt(r[0].updatedAt)+"",Ve,ve,J,Ke,vt,_e=pe(r[0].features||[]),Z=[];for(let q=0;q<_e.length;q+=1)Z[q]=Rt(qt(r,_e,q));return{c(){e=A("div"),t=A("img"),o=Y(),u=A("div"),l=A("p"),s=te(f),d=Y(),c=A("div"),h=A("p"),y=te(m),w=Y(),_=A("p"),C=te("("),E=te(v),g=te(")"),p=Y(),M=A("p"),x=te(D),F=Y(),T=A("div");for(let q=0;q<Z.length;q+=1)Z[q].c();S=Y(),U=A("div"),W=A("div"),B=te(z),Q=Y(),le=A("p"),Ve=te(ne),this.h()},l(q){e=P(q,"DIV",{style:!0,class:!0});var j=I(e);t=P(j,"IMG",{src:!0,alt:!0,class:!0}),o=N(j),u=P(j,"DIV",{class:!0,style:!0});var K=I(u);l=P(K,"P",{class:!0});var ae=I(l);s=re(ae,f),ae.forEach(k),d=N(K),c=P(K,"DIV",{class:!0});var ye=I(c);h=P(ye,"P",{});var gt=I(h);y=re(gt,m),gt.forEach(k),w=N(ye),_=P(ye,"P",{});var Ie=I(_);C=re(Ie,"("),E=re(Ie,v),g=re(Ie,")"),Ie.forEach(k),ye.forEach(k),p=N(K),M=P(K,"P",{class:!0});var pt=I(M);x=re(pt,D),pt.forEach(k),F=N(K),T=P(K,"DIV",{class:!0});var yt=I(T);for(let Ze=0;Ze<Z.length;Ze+=1)Z[Ze].l(yt);yt.forEach(k),S=N(K),U=P(K,"DIV",{class:!0});var Le=I(U);W=P(Le,"DIV",{class:!0});var wt=I(W);B=re(wt,z),wt.forEach(k),Q=N(Le),le=P(Le,"P",{class:!0});var bt=I(le);Ve=re(bt,ne),bt.forEach(k),Le.forEach(k),K.forEach(k),j.forEach(k),this.h()},h(){ge(t.src,n=r[0].imgUrl||Re)||O(t,"src",n),O(t,"alt",a=r[0].id),O(t,"class","card pinImage bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-r8hxqe"),O(l,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden text-lg"),O(c,"class","flex gap-1"),O(M,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),O(T,"class","flex gap-2 mt-4 flex-wrap"),O(W,"class","badge badge-glass"),O(le,"class","opacity-40"),O(U,"class","flex justify-between mt-auto"),O(u,"class","card shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-20 -z-1 flex flex-col p-4 gap-0.5"),H(u,"padding-top","130%"),H(e,"left",r[3]+"px"),H(e,"top",r[4]+"px"),H(e,"width",r[6]+"px"),H(e,"height",r[5]+"px"),O(e,"class","popup fixed z-50 svelte-r8hxqe")},m(q,j){ue(q,e,j),b(e,t),b(e,o),b(e,u),b(u,l),b(l,s),b(u,d),b(u,c),b(c,h),b(h,y),b(c,w),b(c,_),b(_,C),b(_,E),b(_,g),b(u,p),b(u,M),b(M,x),b(u,F),b(u,T);for(let K=0;K<Z.length;K+=1)Z[K]&&Z[K].m(T,null);b(u,S),b(u,U),b(U,W),b(W,B),b(U,Q),b(U,le),b(le,Ve),J=!0,Ke||(vt=Ae(t,"outroend",r[16]),Ke=!0)},p(q,j){var K;if(r=q,(!J||j&1&&!ge(t.src,n=r[0].imgUrl||Re))&&O(t,"src",n),(!J||j&1&&a!==(a=r[0].id))&&O(t,"alt",a),(!J||j&512)&&f!==(f=((K=r[9])==null?void 0:K.name)+"")&&oe(s,f),(!J||j&512)&&m!==(m=r[9].manufacturer+"")&&oe(y,m),(!J||j&512)&&v!==(v=r[9].year+"")&&oe(E,v),(!J||j&1)&&D!==(D=r[0].authors.join(", ")+"")&&oe(x,D),j&1){_e=pe(r[0].features||[]);let ae;for(ae=0;ae<_e.length;ae+=1){const ye=qt(r,_e,ae);Z[ae]?Z[ae].p(ye,j):(Z[ae]=Rt(ye),Z[ae].c(),Z[ae].m(T,null))}for(;ae<Z.length;ae+=1)Z[ae].d(1);Z.length=_e.length}(!J||j&1)&&z!==(z=r[0].tableFormat+"")&&oe(B,z),(!J||j&1)&&ne!==(ne=Bt(r[0].updatedAt)+"")&&oe(Ve,ne),(!J||j&8)&&H(e,"left",r[3]+"px"),(!J||j&16)&&H(e,"top",r[4]+"px"),(!J||j&64)&&H(e,"width",r[6]+"px"),(!J||j&32)&&H(e,"height",r[5]+"px")},i(q){J||(q&&_t(()=>{J&&(i||(i=Ne(t,r[13],{duration:Be},!0)),i.run(1))}),q&&_t(()=>{J&&(ve||(ve=Ne(u,r[14],{duration:Be},!0)),ve.run(1))}),J=!0)},o(q){q&&(i||(i=Ne(t,r[13],{duration:Be},!1)),i.run(0)),q&&(ve||(ve=Ne(u,r[14],{duration:Be},!1)),ve.run(0)),J=!1},d(q){q&&k(e),q&&i&&i.end(),Xe(Z,q),q&&ve&&ve.end(),Ke=!1,vt()}}}function Rt(r){let e,t=r[18].toUpperCase()+"",n;return{c(){e=A("div"),n=te(t),this.h()},l(a){e=P(a,"DIV",{class:!0});var i=I(e);n=re(i,t),i.forEach(k),this.h()},h(){O(e,"class","badge variant-filled-surface")},m(a,i){ue(a,e,i),b(e,n)},p(a,i){i&1&&t!==(t=a[18].toUpperCase()+"")&&oe(n,t)},d(a){a&&k(e)}}}function $n(r){var E;let e,t,n,a,i,o,u,l,f,s,d=((E=r[0].game)==null?void 0:E.name)+"",c,h,m,y=r[0].authors.join(", ")+"",w,_,C,v=r[7]&&$t(r);return{c(){e=A("a"),v&&v.c(),t=Y(),n=A("img"),o=Y(),u=A("div"),l=Y(),f=A("div"),s=A("p"),c=te(d),h=Y(),m=A("p"),w=te(y),this.h()},l(g){e=P(g,"A",{class:!0,href:!0});var p=I(e);v&&v.l(p),t=N(p),n=P(p,"IMG",{src:!0,alt:!0,class:!0}),o=N(p),u=P(p,"DIV",{class:!0}),I(u).forEach(k),l=N(p),f=P(p,"DIV",{class:!0});var M=I(f);s=P(M,"P",{class:!0});var D=I(s);c=re(D,d),D.forEach(k),h=N(M),m=P(M,"P",{class:!0});var x=I(m);w=re(x,y),x.forEach(k),M.forEach(k),p.forEach(k),this.h()},h(){ge(n.src,a=r[0].imgUrl||Re)||O(n,"src",a),O(n,"alt",i=r[0].id),O(n,"class","card pinImage bg-surface-600 svelte-r8hxqe"),Ye(n,"hide",r[7]||r[8]),O(u,"class","dummy svelte-r8hxqe"),Ye(u,"hide",!r[7]),O(s,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),O(m,"class","opacity-40 text-ellipsis whitespace-nowrap overflow-hidden"),O(f,"class","flex flex-col p-4"),O(e,"class","wrapper"),O(e,"href",r[1])},m(g,p){ue(g,e,p),v&&v.m(e,null),b(e,t),b(e,n),r[17](n),b(e,o),b(e,u),b(e,l),b(e,f),b(f,s),b(s,c),b(f,h),b(f,m),b(m,w),_||(C=[Ae(e,"mouseenter",r[11]),Ae(e,"mouseleave",r[12])],_=!0)},p(g,[p]){var M;g[7]?v?(v.p(g,p),p&128&&$(v,1)):(v=$t(g),v.c(),$(v,1),v.m(e,t)):v&&(De(),X(v,1,1,()=>{v=null}),Ee()),p&1&&!ge(n.src,a=g[0].imgUrl||Re)&&O(n,"src",a),p&1&&i!==(i=g[0].id)&&O(n,"alt",i),p&384&&Ye(n,"hide",g[7]||g[8]),p&128&&Ye(u,"hide",!g[7]),p&1&&d!==(d=((M=g[0].game)==null?void 0:M.name)+"")&&oe(c,d),p&1&&y!==(y=g[0].authors.join(", ")+"")&&oe(w,y),p&2&&O(e,"href",g[1])},i(g){$(v)},o(g){X(v)},d(g){g&&k(e),v&&v.d(),r[17](null),_=!1,dr(C)}}}const Be=100;function Rn(r,e,t){let n,a;const{dbStore:i}=Ue;Kt(r,i,g=>t(15,a=g));let{table:o=yr}=e,{href:u=""}=e,l,f=0,s=0,d=0,c=0,h=!1,m=!1;const y=()=>{const g=l.getBoundingClientRect();t(3,f=g.left),t(4,s=g.top),t(6,c=g.width),t(5,d=g.height),t(7,h=!0)},w=()=>{t(7,h=!1),t(8,m=!0)},_=(g,{duration:p})=>({duration:p,css:M=>{const D=Et(M);return`
					transform: scale(${1-D*.25}) translateY(${D*-10}rem);
					`}}),C=(g,{duration:p})=>({duration:p,css:M=>`
					transform: scale(${Et(M)});
					`}),v=()=>t(8,m=!1);function E(g){Jt[g?"unshift":"push"](()=>{l=g,t(2,l)})}return r.$$set=g=>{"table"in g&&t(0,o=g.table),"href"in g&&t(1,u=g.href)},r.$$.update=()=>{var g;r.$$.dirty&32769&&t(9,n=(g=o==null?void 0:o.game)!=null&&g.id?a[o.game.id]:wr)},[o,u,l,f,s,d,c,h,m,n,i,y,w,_,C,a,v,E]}class Hn extends ze{constructor(e){super(),We(this,e,Rn,$n,Pe,{table:0,href:1})}}var R=function(){return R=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},R.apply(this,arguments)};function Qn(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function u(s){try{f(n.next(s))}catch(d){o(d)}}function l(s){try{f(n.throw(s))}catch(d){o(d)}}function f(s){s.done?i(s.value):a(s.value).then(u,l)}f((n=n.apply(r,e||[])).next())})}function jn(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(s){return l([f,s])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(s){f=[6,s],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function V(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){o={error:u}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}var Gn="ENTRIES",ir="KEYS",or="VALUES",ee="",rt=function(){function r(e,t){var n=e._tree,a=Array.from(n.keys());this.set=e,this._type=t,this._path=a.length>0?[{node:n,keys:a}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=Ce(this._path),t=e.node,n=e.keys;if(Ce(n)===ee)return{done:!1,value:this.result()};var a=t.get(Ce(n));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=Ce(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return Ce(t)}).filter(function(e){return e!==ee}).join("")},r.prototype.value=function(){return Ce(this._path).node.get(ee)},r.prototype.result=function(){switch(this._type){case or:return this.value();case ir:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),Ce=function(r){return r[r.length-1]},Xn=function(r,e,t){var n=new Map;if(e===void 0)return n;for(var a=e.length+1,i=a+t,o=new Uint8Array(i*a).fill(t+1),u=0;u<a;++u)o[u]=u;for(var l=1;l<i;++l)o[l*a]=l;return ur(r,e,t,n,o,1,a,""),n},ur=function(r,e,t,n,a,i,o,u){var l,f,s=i*o;try{e:for(var d=V(r.keys()),c=d.next();!c.done;c=d.next()){var h=c.value;if(h===ee){var m=a[s-1];m<=t&&n.set(u,[r.get(h),m])}else{for(var y=i,w=0;w<h.length;++w,++y){for(var _=h[w],C=o*y,v=C-o,E=a[C],g=Math.max(0,y-t-1),p=Math.min(o-1,y+t),M=g;M<p;++M){var D=_!==e[M],x=a[v+M]+ +D,F=a[v+M+1]+1,T=a[C+M]+1,S=a[C+M+1]=Math.min(x,F,T);S<E&&(E=S)}if(E>t)continue e}ur(r.get(h),e,t,n,a,y,o,u+h)}}}catch(U){l={error:U}}finally{try{c&&!c.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}},nt=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var a=G(Ge(this._tree,e.slice(this._prefix.length)),2),i=a[0],o=a[1];if(i===void 0){var u=G(ht(o),2),l=u[0],f=u[1];try{for(var s=V(l.keys()),d=s.next();!d.done;d=s.next()){var c=d.value;if(c!==ee&&c.startsWith(f)){var h=new Map;return h.set(c.slice(f.length),l.get(c)),new r(h,e)}}}catch(m){t={error:m}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,Jn(this._tree,e)},r.prototype.entries=function(){return new rt(this,Gn)},r.prototype.forEach=function(e){var t,n;try{for(var a=V(this),i=a.next();!i.done;i=a.next()){var o=G(i.value,2),u=o[0],l=o[1];e(u,l,this)}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return Xn(this._tree,e,t)},r.prototype.get=function(e){var t=lt(this._tree,e);return t!==void 0?t.get(ee):void 0},r.prototype.has=function(e){var t=lt(this._tree,e);return t!==void 0&&t.has(ee)},r.prototype.keys=function(){return new rt(this,ir)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=at(this._tree,e);return n.set(ee,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=at(this._tree,e);return n.set(ee,t(n.get(ee))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=at(this._tree,e),a=n.get(ee);return a===void 0&&n.set(ee,a=t()),a},r.prototype.values=function(){return new rt(this,or)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,n,a=new r;try{for(var i=V(e),o=i.next();!o.done;o=i.next()){var u=G(o.value,2),l=u[0],f=u[1];a.set(l,f)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),Ge=function(r,e,t){var n,a;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=V(r.keys()),o=i.next();!o.done;o=i.next()){var u=o.value;if(u!==ee&&e.startsWith(u))return t.push([r,u]),Ge(r.get(u),e.slice(u.length),t)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return t.push([r,e]),Ge(void 0,"",t)},lt=function(r,e){var t,n;if(e.length===0||r==null)return r;try{for(var a=V(r.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;if(o!==ee&&e.startsWith(o))return lt(r.get(o),e.slice(o.length))}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},at=function(r,e){var t,n,a=e.length;e:for(var i=0;r&&i<a;){try{for(var o=(t=void 0,V(r.keys())),u=o.next();!u.done;u=o.next()){var l=u.value;if(l!==ee&&e[i]===l[0]){for(var f=Math.min(a-i,l.length),s=1;s<f&&e[i+s]===l[s];)++s;var d=r.get(l);if(s===l.length)r=d;else{var c=new Map;c.set(l.slice(s),d),r.set(e.slice(i,i+s),c),r.delete(l),r=c}i+=s;continue e}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var h=new Map;return r.set(e.slice(i),h),h}return r},Jn=function(r,e){var t=G(Ge(r,e),2),n=t[0],a=t[1];if(n!==void 0){if(n.delete(ee),n.size===0)lr(a);else if(n.size===1){var i=G(n.entries().next().value,2),o=i[0],u=i[1];sr(a,o,u)}}},lr=function(r){if(r.length!==0){var e=G(ht(r),2),t=e[0],n=e[1];if(t.delete(n),t.size===0)lr(r.slice(0,-1));else if(t.size===1){var a=G(t.entries().next().value,2),i=a[0],o=a[1];i!==ee&&sr(r.slice(0,-1),i,o)}}},sr=function(r,e,t){if(r.length!==0){var n=G(ht(r),2),a=n[0],i=n[1];a.set(i+e,t),a.delete(i)}},ht=function(r){return r[r.length-1]},Oe,dt="or",fr="and",Kn="and_not",Zn=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?ut:e.autoVacuum;this._options=R(R(R({},ot),e),{autoVacuum:t,searchOptions:R(R({},Ht),e.searchOptions||{}),autoSuggestOptions:R(R({},aa),e.autoSuggestOptions||{})}),this._index=new nt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=ft,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,n,a,i,o,u,l=this._options,f=l.extractField,s=l.tokenize,d=l.processTerm,c=l.fields,h=l.idField,m=f(e,h);if(m==null)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));if(this._idToShortId.has(m))throw new Error("MiniSearch: duplicate ID ".concat(m));var y=this.addDocumentId(m);this.saveStoredFields(y,e);try{for(var w=V(c),_=w.next();!_.done;_=w.next()){var C=_.value,v=f(e,C);if(v!=null){var E=s(v.toString(),C),g=this._fieldIds[C],p=new Set(E).size;this.addFieldLength(y,g,this._documentCount-1,p);try{for(var M=(a=void 0,V(E)),D=M.next();!D.done;D=M.next()){var x=D.value,F=d(x,C);if(Array.isArray(F))try{for(var T=(o=void 0,V(F)),S=T.next();!S.done;S=T.next()){var U=S.value;this.addTerm(g,y,U)}}catch(W){o={error:W}}finally{try{S&&!S.done&&(u=T.return)&&u.call(T)}finally{if(o)throw o.error}}else F&&this.addTerm(g,y,F)}}catch(W){a={error:W}}finally{try{D&&!D.done&&(i=M.return)&&i.call(M)}finally{if(a)throw a.error}}}}}catch(W){t={error:W}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,n;try{for(var a=V(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.add(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var a=t.chunkSize,i=a===void 0?10:a,o={chunk:[],promise:Promise.resolve()},u=e.reduce(function(s,d,c){var h=s.chunk,m=s.promise;return h.push(d),(c+1)%i===0?{chunk:[],promise:m.then(function(){return new Promise(function(y){return setTimeout(y,0)})}).then(function(){return n.addAll(h)})}:{chunk:h,promise:m}},o),l=u.chunk,f=u.promise;return f.then(function(){return n.addAll(l)})},r.prototype.remove=function(e){var t,n,a,i,o,u,l=this._options,f=l.tokenize,s=l.processTerm,d=l.extractField,c=l.fields,h=l.idField,m=d(e,h);if(m==null)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));var y=this._idToShortId.get(m);if(y==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(m,": it is not in the index"));try{for(var w=V(c),_=w.next();!_.done;_=w.next()){var C=_.value,v=d(e,C);if(v!=null){var E=f(v.toString(),C),g=this._fieldIds[C],p=new Set(E).size;this.removeFieldLength(y,g,this._documentCount,p);try{for(var M=(a=void 0,V(E)),D=M.next();!D.done;D=M.next()){var x=D.value,F=s(x,C);if(Array.isArray(F))try{for(var T=(o=void 0,V(F)),S=T.next();!S.done;S=T.next()){var U=S.value;this.removeTerm(g,y,U)}}catch(W){o={error:W}}finally{try{S&&!S.done&&(u=T.return)&&u.call(T)}finally{if(o)throw o.error}}else F&&this.removeTerm(g,y,F)}}catch(W){a={error:W}}finally{try{D&&!D.done&&(i=M.return)&&i.call(M)}finally{if(a)throw a.error}}}}}catch(W){t={error:W}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}this._storedFields.delete(y),this._documentIds.delete(y),this._idToShortId.delete(m),this._fieldLength.delete(y),this._documentCount-=1},r.prototype.removeAll=function(e){var t,n;if(e)try{for(var a=V(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.remove(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new nt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(a,i){t.removeFieldLength(n,i,t._documentCount,a)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,a=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:a,batchWait:i},{minDirtCount:n,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,n,a=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=V(e),o=i.next();!o.done;o=i.next()){var u=o.value;this.discard(u)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=a}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,n=t.idField,a=t.extractField,i=a(e,n);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var a=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=ft,n.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return Qn(this,void 0,void 0,function(){var n,a,i,o,u,l,f,s,d,c,h,m,y,w,_,C,v,E,g,p,M,D,x,F,T;return jn(this,function(S){switch(S.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];a=e.batchSize||st.batchSize,i=e.batchWait||st.batchWait,o=1,S.label=1;case 1:S.trys.push([1,7,8,9]),u=V(this._index),l=u.next(),S.label=2;case 2:if(l.done)return[3,6];f=G(l.value,2),s=f[0],d=f[1];try{for(c=(D=void 0,V(d)),h=c.next();!h.done;h=c.next()){m=G(h.value,2),y=m[0],w=m[1];try{for(_=(F=void 0,V(w)),C=_.next();!C.done;C=_.next())v=G(C.value,1),E=v[0],!this._documentIds.has(E)&&(w.size<=1?d.delete(y):w.delete(E))}catch(U){F={error:U}}finally{try{C&&!C.done&&(T=_.return)&&T.call(_)}finally{if(F)throw F.error}}}}catch(U){D={error:U}}finally{try{h&&!h.done&&(x=c.return)&&x.call(c)}finally{if(D)throw D.error}}return this._index.get(s).size===0&&this._index.delete(s),o%a!==0?[3,4]:[4,new Promise(function(U){return setTimeout(U,i)})];case 3:S.sent(),S.label=4;case 4:o+=1,S.label=5;case 5:return l=u.next(),[3,2];case 6:return[3,9];case 7:return g=S.sent(),p={error:g},[3,9];case 8:try{l&&!l.done&&(M=u.return)&&M.call(u)}finally{if(p)throw p.error}return[7];case 9:this._dirtCount-=n,S.label=10;case 10:return[4,null];case 11:return S.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||ut.minDirtCount,n=n||ut.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var n,a;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var u=V(i),l=u.next();!l.done;l=u.next()){var f=G(l.value,2),s=f[0],d=f[1],c=d.score,h=d.terms,m=d.match,y=h.length,w={id:this._documentIds.get(s),score:c*y,terms:Object.keys(m),match:m};Object.assign(w,this._storedFields.get(s)),(t.filter==null||t.filter(w))&&o.push(w)}}catch(_){n={error:_}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return o.sort(jt),o},r.prototype.autoSuggest=function(e,t){var n,a,i,o;t===void 0&&(t={}),t=R(R({},this._options.autoSuggestOptions),t);var u=new Map;try{for(var l=V(this.search(e,t)),f=l.next();!f.done;f=l.next()){var s=f.value,d=s.score,c=s.terms,h=c.join(" "),m=u.get(h);m!=null?(m.score+=d,m.count+=1):u.set(h,{score:d,terms:c,count:1})}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}var y=[];try{for(var w=V(u),_=w.next();!_.done;_=w.next()){var C=G(_.value,2),m=C[0],v=C[1],d=v.score,c=v.terms,E=v.count;y.push({suggestion:m,terms:c,score:d/E})}}catch(g){i={error:g}}finally{try{_&&!_.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}return y.sort(jt),y},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(ot.hasOwnProperty(e))return it(ot,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var n,a,i,o,u,l,f=e.index,s=e.documentCount,d=e.nextId,c=e.documentIds,h=e.fieldIds,m=e.fieldLength,y=e.averageFieldLength,w=e.storedFields,_=e.dirtCount,C=e.serializationVersion;if(C!==1&&C!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var v=new r(t);v._documentCount=s,v._nextId=d,v._documentIds=qe(c),v._idToShortId=new Map,v._fieldIds=h,v._fieldLength=qe(m),v._avgFieldLength=y,v._storedFields=qe(w),v._dirtCount=_||0,v._index=new nt;try{for(var E=V(v._documentIds),g=E.next();!g.done;g=E.next()){var p=G(g.value,2),M=p[0],D=p[1];v._idToShortId.set(D,M)}}catch(ne){n={error:ne}}finally{try{g&&!g.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}try{for(var x=V(f),F=x.next();!F.done;F=x.next()){var T=G(F.value,2),S=T[0],U=T[1],W=new Map;try{for(var z=(u=void 0,V(Object.keys(U))),B=z.next();!B.done;B=z.next()){var Q=B.value,le=U[Q];C===1&&(le=le.ds),W.set(parseInt(Q,10),qe(le))}}catch(ne){u={error:ne}}finally{try{B&&!B.done&&(l=z.return)&&l.call(z)}finally{if(u)throw u.error}}v._index.set(S,W)}}catch(ne){i={error:ne}}finally{try{F&&!F.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}return v},r.prototype.executeQuery=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e!="string"){var a=R(R(R({},t),e),{queries:void 0}),i=e.queries.map(function(w){return n.executeQuery(w,a)});return this.combineResults(i,a.combineWith)}var o=this._options,u=o.tokenize,l=o.processTerm,f=o.searchOptions,s=R(R({tokenize:u,processTerm:l},f),t),d=s.tokenize,c=s.processTerm,h=d(e).flatMap(function(w){return c(w)}).filter(function(w){return!!w}),m=h.map(na(s)),y=m.map(function(w){return n.executeQuerySpec(w,s)});return this.combineResults(y,s.combineWith)},r.prototype.executeQuerySpec=function(e,t){var n,a,i,o,u=R(R({},this._options.searchOptions),t),l=(u.fields||this._options.fields).reduce(function(Q,le){var ne;return R(R({},Q),(ne={},ne[le]=it(u.boost,le)||1,ne))},{}),f=u.boostDocument,s=u.weights,d=u.maxFuzzy,c=u.bm25,h=R(R({},Ht.weights),s),m=h.fuzzy,y=h.prefix,w=this._index.get(e.term),_=this.termResults(e.term,e.term,1,w,l,f,c),C,v;if(e.prefix&&(C=this._index.atPrefix(e.term)),e.fuzzy){var E=e.fuzzy===!0?.2:e.fuzzy,g=E<1?Math.min(d,Math.round(e.term.length*E)):E;g&&(v=this._index.fuzzyGet(e.term,g))}if(C)try{for(var p=V(C),M=p.next();!M.done;M=p.next()){var D=G(M.value,2),x=D[0],F=D[1],T=x.length-e.term.length;if(T){v==null||v.delete(x);var S=y*x.length/(x.length+.3*T);this.termResults(e.term,x,S,F,l,f,c,_)}}}catch(Q){n={error:Q}}finally{try{M&&!M.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}if(v)try{for(var U=V(v.keys()),W=U.next();!W.done;W=U.next()){var x=W.value,z=G(v.get(x),2),B=z[0],T=z[1];if(T){var S=m*x.length/(x.length+T);this.termResults(e.term,x,S,B,l,f,c,_)}}}catch(Q){i={error:Q}}finally{try{W&&!W.done&&(o=U.return)&&o.call(U)}finally{if(i)throw i.error}}return _},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=dt),e.length===0)return new Map;var n=t.toLowerCase();return e.reduce(ea[n])||new Map},r.prototype.toJSON=function(){var e,t,n,a,i=[];try{for(var o=V(this._index),u=o.next();!u.done;u=o.next()){var l=G(u.value,2),f=l[0],s=l[1],d={};try{for(var c=(n=void 0,V(s)),h=c.next();!h.done;h=c.next()){var m=G(h.value,2),y=m[0],w=m[1];d[y]=Object.fromEntries(w)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}i.push([f,d])}}catch(_){e={error:_}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,n,a,i,o,u,l){var f,s,d,c,h;if(l===void 0&&(l=new Map),a==null)return l;try{for(var m=V(Object.keys(i)),y=m.next();!y.done;y=m.next()){var w=y.value,_=i[w],C=this._fieldIds[w],v=a.get(C);if(v!=null){var E=v.size,g=this._avgFieldLength[C];try{for(var p=(d=void 0,V(v.keys())),M=p.next();!M.done;M=p.next()){var D=M.value;if(!this._documentIds.has(D)){this.removeTerm(C,D,t),E-=1;continue}var x=o?o(this._documentIds.get(D),t,this._storedFields.get(D)):1;if(x){var F=v.get(D),T=this._fieldLength.get(D)[C],S=ra(F,E,this._documentCount,T,g,u),U=n*_*x*S,W=l.get(D);if(W){W.score+=U,ia(W.terms,e);var z=it(W.match,t);z?z.push(w):W.match[t]=[w]}else l.set(D,{score:U,terms:[e],match:(h={},h[t]=[w],h)})}}}catch(B){d={error:B}}finally{try{M&&!M.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}}}}catch(B){f={error:B}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(f)throw f.error}}return l},r.prototype.addTerm=function(e,t,n){var a=this._index.fetch(n,Gt),i=a.get(e);if(i==null)i=new Map,i.set(t,1),a.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}var a=this._index.fetch(n,Gt),i=a.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?a.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(e,t,n){var a,i;try{for(var o=V(Object.keys(this._fieldIds)),u=o.next();!u.done;u=o.next()){var l=u.value;if(this._fieldIds[l]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,n,a){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=a;var o=this._avgFieldLength[t]||0,u=o*n+a;this._avgFieldLength[t]=u/(n+1)},r.prototype.removeFieldLength=function(e,t,n,a){if(n===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*n-a;this._avgFieldLength[t]=i/(n-1)},r.prototype.saveStoredFields=function(e,t){var n,a,i=this._options,o=i.storeFields,u=i.extractField;if(!(o==null||o.length===0)){var l=this._storedFields.get(e);l==null&&this._storedFields.set(e,l={});try{for(var f=V(o),s=f.next();!s.done;s=f.next()){var d=s.value,c=u(t,d);c!==void 0&&(l[d]=c)}}catch(h){n={error:h}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}},r}(),it=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},ea=(Oe={},Oe[dt]=function(r,e){var t,n;try{for(var a=V(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value,u=r.get(o);if(u==null)r.set(o,e.get(o));else{var l=e.get(o),f=l.score,s=l.terms,d=l.match;u.score=u.score+f,u.match=Object.assign(u.match,d),Qt(u.terms,s)}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Oe[fr]=function(r,e){var t,n,a=new Map;try{for(var i=V(e.keys()),o=i.next();!o.done;o=i.next()){var u=o.value,l=r.get(u);if(l!=null){var f=e.get(u),s=f.score,d=f.terms,c=f.match;Qt(l.terms,d),a.set(u,{score:l.score+s,terms:l.terms,match:Object.assign(l.match,c)})}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},Oe[Kn]=function(r,e){var t,n;try{for(var a=V(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;r.delete(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Oe),ta={k:1.2,b:.7,d:.5},ra=function(r,e,t,n,a,i){var o=i.k,u=i.b,l=i.d,f=Math.log(1+(t-e+.5)/(e+.5));return f*(l+r*(o+1)/(r+o*(1-u+u*n/a)))},na=function(r){return function(e,t,n){var a=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0;return{term:e,fuzzy:a,prefix:i}}},ot={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(oa)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},Ht={combineWith:dt,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:ta},aa={combineWith:fr,prefix:function(r,e,t){return e===t.length-1}},st={batchSize:1e3,batchWait:10},ft={minDirtFactor:.1,minDirtCount:20},ut=R(R({},st),ft),ia=function(r,e){r.includes(e)||r.push(e)},Qt=function(r,e){var t,n;try{for(var a=V(e),i=a.next();!i.done;i=a.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},jt=function(r,e){var t=r.score,n=e.score;return n-t},Gt=function(){return new Map},qe=function(r){var e,t,n=new Map;try{for(var a=V(Object.keys(r)),i=a.next();!i.done;i=a.next()){var o=i.value;n.set(parseInt(o,10),r[o])}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},oa=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const Xt=new Zn({fields:["name","manufacturer","year","tableFiles","b2sFiles","theme","designers","features"],extractField:(r,e)=>{var t;if(["tableFiles","b2sFiles"].includes(e)){const n=(t=r[e])==null?void 0:t.reduce((a,i)=>[...a,...i.authors||[]],[]);return(n==null?void 0:n.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});Ue.dbStore.subscribe(r=>{Xt.removeAll(),Xt.addAll(Object.values(r))});const ua=tr(Ue.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),la=tr(Ue.dbStore,r=>{const e=Object.values(r),t={};for(const n of Wt)t[n]=[];for(const n of e)for(const a of Wt){const i=n[a];Array.isArray(i)&&(t[a]=(t[a]||[]).concat(i.map(o=>({...o,game:{id:n.id,name:n.name}}))))}return Object.entries(t).forEach(([n,a])=>{t[n]=a.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),sa={sortedDbStore:ua,sortedFilesStore:la};function fa(r){let e,t,n,a,i,o,u,l,f,s,d;return t=new Se({props:{title:"Tables",component:Hn,data:r[4],href:Zt+"/tables/"}}),a=new Se({props:{title:"Backglasses",component:Dr,data:r[3],size:250}}),o=new Se({props:{title:"PuP Packs",component:et,data:r[2],size:250}}),l=new Se({props:{title:"Roms",component:et,data:r[1],size:250}}),s=new Se({props:{title:"Topper",component:et,data:r[0],size:250}}),{c(){e=A("div"),se(t.$$.fragment),n=Y(),se(a.$$.fragment),i=Y(),se(o.$$.fragment),u=Y(),se(l.$$.fragment),f=Y(),se(s.$$.fragment),this.h()},l(c){e=P(c,"DIV",{class:!0});var h=I(e);de(t.$$.fragment,h),n=N(h),de(a.$$.fragment,h),i=N(h),de(o.$$.fragment,h),u=N(h),de(l.$$.fragment,h),f=N(h),de(s.$$.fragment,h),h.forEach(k),this.h()},h(){O(e,"class","h-full flex flex-col p-10 gap-20")},m(c,h){ue(c,e,h),fe(t,e,null),b(e,n),fe(a,e,null),b(e,i),fe(o,e,null),b(e,u),fe(l,e,null),b(e,f),fe(s,e,null),d=!0},p(c,[h]){const m={};h&16&&(m.data=c[4]),t.$set(m);const y={};h&8&&(y.data=c[3]),a.$set(y);const w={};h&4&&(w.data=c[2]),o.$set(w);const _={};h&2&&(_.data=c[1]),l.$set(_);const C={};h&1&&(C.data=c[0]),s.$set(C)},i(c){d||($(t.$$.fragment,c),$(a.$$.fragment,c),$(o.$$.fragment,c),$(l.$$.fragment,c),$(s.$$.fragment,c),d=!0)},o(c){X(t.$$.fragment,c),X(a.$$.fragment,c),X(o.$$.fragment,c),X(l.$$.fragment,c),X(s.$$.fragment,c),d=!1},d(c){c&&k(e),ce(t),ce(a),ce(o),ce(l),ce(s)}}}const xe=20;function ca(r,e,t){let n,a,i,o,u,l;const{sortedFilesStore:f}=sa;return Kt(r,f,s=>t(6,l=s)),r.$$.update=()=>{r.$$.dirty&64&&t(4,n=((l==null?void 0:l.tableFiles)||[]).slice(0,xe).map(s=>{var d;return{table:s,href:`${Zt}/tables/${(d=s.game)==null?void 0:d.id}/`}})),r.$$.dirty&64&&t(3,a=((l==null?void 0:l.b2sFiles)||[]).slice(0,xe).map(s=>({b2s:s}))),r.$$.dirty&64&&t(2,i=((l==null?void 0:l.pupPackFiles)||[]).slice(0,xe).map(s=>({file:s}))),r.$$.dirty&64&&t(1,o=((l==null?void 0:l.romFiles)||[]).slice(0,xe).map(s=>({file:s}))),r.$$.dirty&64&&t(0,u=((l==null?void 0:l.topperFiles)||[]).slice(0,xe).map(s=>({file:s})))},[u,o,i,a,n,f,l]}class ya extends ze{constructor(e){super(),We(this,e,ca,fa,Pe,{})}}export{ya as component};
