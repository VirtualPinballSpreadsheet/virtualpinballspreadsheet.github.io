import{a9 as Qt,aa as Xt,ab as Je,ac as Yt,s as xe,f as _,l as J,a as C,g as p,h as w,m as Z,d as v,c as z,Z as Ke,j as h,k as q,T as Re,i as X,G as o,n as ue,$ as Se,B as Gt,o as xt,H as Qe,p as el,q as wt,I as tl,e as Xe,r as Ie,C as ll,R as we}from"../chunks/scheduler.c1c84dbf.js";import{g as ze,t as W,c as Te,a as F,S as et,i as tt,b as ie,d as fe,m as oe,e as ce}from"../chunks/index.64b0efba.js";import{F as lt,r as qt,e as se,s as rl}from"../chunks/index.08256667.js";import{b as Jt}from"../chunks/paths.c179fcca.js";import{g as It,a as Et}from"../chunks/spread.8a54911c.js";import{a as al,g as sl,P as Vt,T as nl,m as Dt}from"../chunks/modeMapping.640d88b2.js";import{D as il}from"../chunks/DbStore.7f9c8448.js";import{F as gt}from"../chunks/FileIcons.3cdfac98.js";import{f as Ze}from"../chunks/formatDate.b9410829.js";import{a as ol}from"../chunks/index.c16d8701.js";import{S as cl}from"../chunks/SearchStore.58fc20a2.js";function fl(r,e){const t=e.token={};function l(a,n,s,i){if(e.token!==t)return;e.resolved=i;let d=e.ctx;s!==void 0&&(d=d.slice(),d[s]=i);const g=a&&(e.current=a)(d);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,u)=>{u!==n&&c&&(ze(),W(c,1,1,()=>{e.blocks[u]===c&&(e.blocks[u]=null)}),Te())}):e.block.d(1),g.c(),F(g,1),g.m(e.mount(),e.anchor),f=!0),e.block=g,e.blocks&&(e.blocks[n]=g),f&&Yt()}if(Qt(r)){const a=Xt();if(r.then(n=>{Je(a),l(e.then,1,e.value,n),Je(null)},n=>{if(Je(a),l(e.catch,2,e.error,n),Je(null),!e.hasCatch)throw n}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function ul(r,e,t){const l=e.slice(),{resolved:a}=r;r.current===r.then&&(l[r.value]=a),r.current===r.catch&&(l[r.error]=a),r.block.p(l,t)}function yt(r,e,t){const l=r.slice();l[24]=e[t],l[27]=t;const a=l[1].slice(l[27]*l[7],(l[27]+1)*l[7]);return l[25]=a,l}function $t(r,e,t){const l=r.slice();return l[28]=e[t],l}function Ct(r,e,t){const l=r.slice();return l[28]=e[t],l}function zt(r,e,t){const l=r.slice();return l[24]=e[t],l[27]=t,l}function Tt(r){let e,t;return{c(){e=_("h4"),t=J(r[6]),this.h()},l(l){e=p(l,"H4",{class:!0});var a=w(e);t=Z(a,r[6]),a.forEach(v),this.h()},h(){h(e,"class","opacity-40")},m(l,a){X(l,e,a),o(e,t)},p(l,a){a[0]&64&&ue(t,l[6])},d(l){l&&v(e)}}}function St(r){let e,t;return{c(){e=_("div"),this.h()},l(l){e=p(l,"DIV",{class:!0}),w(e).forEach(v),this.h()},h(){h(e,"class",t="h-0.5 bg-surface-900-50-token flex-1 "+(r[9]===r[27]?"":"opacity-20"))},m(l,a){X(l,e,a)},p(l,a){a[0]&512&&t!==(t="h-0.5 bg-surface-900-50-token flex-1 "+(l[9]===l[27]?"":"opacity-20"))&&h(e,"class",t)},d(l){l&&v(e)}}}function Ut(r){let e,t,l,a,n;const s=[r[28]];var i=r[2];function d(g,f){let c={};if(f!==void 0&&f[0]&130)c=It(s,[Et(g[28])]);else for(let u=0;u<s.length;u+=1)c=ll(c,s[u]);return{props:c}}return i&&(t=wt(i,d(r))),{c(){e=_("div"),t&&ie(t.$$.fragment)},l(g){e=p(g,"DIV",{});var f=w(e);t&&fe(t.$$.fragment,f),f.forEach(v)},m(g,f){X(g,e,f),t&&oe(t,e,null),l=!0,a||(n=[Qe(e,"mouseenter",r[15]),Qe(e,"mouseleave",r[16])],a=!0)},p(g,f){if(f[0]&4&&i!==(i=g[2])){if(t){ze();const c=t;W(c.$$.fragment,1,0,()=>{ce(c,1)}),Te()}i?(t=wt(i,d(g,f)),ie(t.$$.fragment),F(t.$$.fragment,1),oe(t,e,null)):t=null}else if(i){const c=f[0]&130?It(s,[Et(g[28])]):{};t.$set(c)}},i(g){l||(t&&F(t.$$.fragment,g),l=!0)},o(g){t&&W(t.$$.fragment,g),l=!1},d(g){g&&v(e),t&&ce(t),a=!1,tl(n)}}}function Mt(r){let e,t=se(new Array(r[7]-r[25].length).fill("")),l=[];for(let a=0;a<t.length;a+=1)l[a]=At($t(r,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Xe()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=Xe()},m(a,n){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,n);X(a,e,n)},p(a,n){if(n[0]&130){t=se(new Array(a[7]-a[25].length).fill(""));let s;for(s=0;s<t.length;s+=1){const i=$t(a,t,s);l[s]?l[s].p(i,n):(l[s]=At(),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(a){a&&v(e),Se(l,a)}}}function At(r){let e;return{c(){e=_("div")},l(t){e=p(t,"DIV",{}),w(e).forEach(v)},m(t,l){X(t,e,l)},p:Ie,d(t){t&&v(e)}}}function Bt(r){let e,t,l,a,n,s=se(r[25]),i=[];for(let f=0;f<s.length;f+=1)i[f]=Ut(Ct(r,s,f));const d=f=>W(i[f],1,1,()=>{i[f]=null});let g=r[25].length<r[7]&&Mt(r);return{c(){e=_("div");for(let f=0;f<i.length;f+=1)i[f].c();t=C(),g&&g.c(),l=C(),this.h()},l(f){e=p(f,"DIV",{class:!0,style:!0,id:!0});var c=w(e);for(let u=0;u<i.length;u+=1)i[u].l(c);t=z(c),g&&g.l(c),l=z(c),c.forEach(v),this.h()},h(){h(e,"class","grid grid-flow-col auto-cols-fr select-none"),q(e,"gap",(r[13].mobile?r[5]/2:r[5])+"rem"),h(e,"id",a=r[0]+r[27])},m(f,c){X(f,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);o(e,t),g&&g.m(e,null),o(e,l),n=!0},p(f,c){if(c[0]&98438){s=se(f[25]);let u;for(u=0;u<s.length;u+=1){const $=Ct(f,s,u);i[u]?(i[u].p($,c),F(i[u],1)):(i[u]=Ut($),i[u].c(),F(i[u],1),i[u].m(e,t))}for(ze(),u=s.length;u<i.length;u+=1)d(u);Te()}f[25].length<f[7]?g?g.p(f,c):(g=Mt(f),g.c(),g.m(e,l)):g&&(g.d(1),g=null),(!n||c[0]&8224)&&q(e,"gap",(f[13].mobile?f[5]/2:f[5])+"rem"),(!n||c[0]&1&&a!==(a=f[0]+f[27]))&&h(e,"id",a)},i(f){if(!n){for(let c=0;c<s.length;c+=1)F(i[c]);n=!0}},o(f){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)W(i[c]);n=!1},d(f){f&&v(e),Se(i,f),g&&g.d()}}}function Ft(r){let e,t,l,a,n;return t=new lt({props:{icon:qt,size:"lg"}}),{c(){e=_("button"),ie(t.$$.fragment),this.h()},l(s){e=p(s,"BUTTON",{style:!0,class:!0});var i=w(e);fe(t.$$.fragment,i),i.forEach(v),this.h()},h(){q(e,"width",r[4]+"rem"),h(e,"class","absolute right-0 top-0 h-full hidden md:grid place-items-center text-xl bg-gradient-to-l from-slate-100 dark:from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(s,i){X(s,e,i),oe(t,e,null),l=!0,a||(n=Qe(e,"click",r[20]),a=!0)},p(s,i){(!l||i[0]&16)&&q(e,"width",s[4]+"rem")},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){W(t.$$.fragment,s),l=!1},d(s){s&&v(e),ce(t),a=!1,n()}}}function Pt(r){let e,t,l,a,n;return t=new lt({props:{icon:rl,size:"lg"}}),{c(){e=_("button"),ie(t.$$.fragment),this.h()},l(s){e=p(s,"BUTTON",{style:!0,class:!0});var i=w(e);fe(t.$$.fragment,i),i.forEach(v),this.h()},h(){q(e,"width",r[4]+"rem"),h(e,"class","absolute left-0 top-0 h-full hidden md:grid place-items-center text-xl bg-gradient-to-r from-slate-100 dark:from-gray-900 z-20 opacity-0 hover:opacity-100 transition-opacity")},m(s,i){X(s,e,i),oe(t,e,null),l=!0,a||(n=Qe(e,"click",r[21]),a=!0)},p(s,i){(!l||i[0]&16)&&q(e,"width",s[4]+"rem")},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){W(t.$$.fragment,s),l=!1},d(s){s&&v(e),ce(t),a=!1,n()}}}function hl(r){let e,t,l,a,n,s,i,d,g,f="Show All",c,u,$,S,T,V,U,M,y,O,L,ee,H,G,ae,N,I=r[6]!==void 0&&Tt(r);u=new lt({props:{icon:qt,class:"-translate-x-14 transition-transform group-hover:translate-x-2 group-hover:text-primary-500 text-sm"}});let te=se(r[12]),A=[];for(let m=0;m<te.length;m+=1)A[m]=St(zt(r,te,m));let Q=se(r[12]),P=[];for(let m=0;m<Q.length;m+=1)P[m]=Bt(yt(r,Q,m));const Ue=m=>W(P[m],1,1,()=>{P[m]=null});let j=r[9]<r[12].length-1&&Ft(r),B=r[9]>0&&Pt(r);return{c(){e=_("div"),t=_("div"),l=_("a"),a=_("h4"),n=J(r[0]),s=C(),I&&I.c(),i=C(),d=_("div"),g=_("p"),g.textContent=f,c=C(),ie(u.$$.fragment),$=C(),S=_("div");for(let m=0;m<A.length;m+=1)A[m].c();T=C(),V=_("div"),U=_("div");for(let m=0;m<P.length;m+=1)P[m].c();M=C(),j&&j.c(),y=C(),B&&B.c(),O=C(),L=_("div"),H=C(),G=_("div"),this.h()},l(m){e=p(m,"DIV",{class:!0,style:!0});var D=w(e);t=p(D,"DIV",{class:!0});var E=w(t);l=p(E,"A",{href:!0,class:!0,style:!0});var le=w(l);a=p(le,"H4",{class:!0});var Ee=w(a);n=Z(Ee,r[0]),Ee.forEach(v),s=z(le),I&&I.l(le),i=z(le),d=p(le,"DIV",{class:!0});var he=w(d);g=p(he,"P",{class:!0,"data-svelte-h":!0}),Ke(g)!=="svelte-124o8r7"&&(g.textContent=f),c=z(he),fe(u.$$.fragment,he),he.forEach(v),le.forEach(v),$=z(E),S=p(E,"DIV",{class:!0,style:!0});var Me=w(S);for(let de=0;de<A.length;de+=1)A[de].l(Me);Me.forEach(v),E.forEach(v),T=z(D),V=p(D,"DIV",{class:!0});var K=w(V);U=p(K,"DIV",{style:!0,class:!0});var me=w(U);for(let de=0;de<P.length;de+=1)P[de].l(me);me.forEach(v),M=z(K),j&&j.l(K),y=z(K),B&&B.l(K),O=z(K),L=p(K,"DIV",{style:!0,class:!0}),w(L).forEach(v),H=z(K),G=p(K,"DIV",{style:!0,class:!0}),w(G).forEach(v),K.forEach(v),D.forEach(v),this.h()},h(){h(a,"class","h4"),h(g,"class","text-primary-500 transition-all opacity-0 font-bold text-sm -translate-x-4 group-hover:opacity-100 group-hover:text-primary-500 group-hover:translate-x-0"),h(d,"class","flex items-center mb-0.5"),h(l,"href",r[3]),h(l,"class","flex items-end gap-2 transition-colors group"),q(l,"margin-left",r[4]+"rem"),h(S,"class","hidden md:flex gap-px opacity-0 dots transition-opacity w-20 svelte-1nknccb"),q(S,"margin-right",r[4]+"rem"),h(t,"class","flex justify-between items-center w-full"),q(U,"scroll-padding-inline",r[4]+"rem"),q(U,"padding","1rem "+r[4]+"rem"),q(U,"gap",(r[13].mobile?r[5]/2:r[5])+"rem"),h(U,"class","scroller grid grid-flow-col overflow-x-scroll md:overflow-x-hidden w-full hide-scrollbar svelte-1nknccb"),Re(U,"hovered",r[11]),q(L,"width",r[4]-r[5]+2.5+"rem"),h(L,"class",ee="blur-lg absolute -left-10 -top-4 h-full bg-surface-50-900-token transition-opacity opacity-"+(r[9]===0?0:60)+" z-10"),q(G,"width",r[4]-r[5]+2.5+"rem"),h(G,"class",ae="blur-lg absolute -right-10 -top-4 h-full bg-surface-50-900-token opacity-"+(r[9]<r[12].length-1?60:0)+" transition-opacity z-10"),h(V,"class","relative w-full"),h(e,"class","flex flex-col items-start -mx-10 wrapper svelte-1nknccb"),q(e,"width","calc(100% + 5rem)"),Re(e,"pointer-events-none",r[10])},m(m,D){X(m,e,D),o(e,t),o(t,l),o(l,a),o(a,n),o(l,s),I&&I.m(l,null),o(l,i),o(l,d),o(d,g),o(d,c),oe(u,d,null),o(t,$),o(t,S);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(S,null);o(e,T),o(e,V),o(V,U);for(let E=0;E<P.length;E+=1)P[E]&&P[E].m(U,null);o(V,M),j&&j.m(V,null),o(V,y),B&&B.m(V,null),o(V,O),o(V,L),o(V,H),o(V,G),r[22](e),N=!0},p(m,D){if((!N||D[0]&1)&&ue(n,m[0]),m[6]!==void 0?I?I.p(m,D):(I=Tt(m),I.c(),I.m(l,i)):I&&(I.d(1),I=null),(!N||D[0]&8)&&h(l,"href",m[3]),(!N||D[0]&16)&&q(l,"margin-left",m[4]+"rem"),D[0]&4608){te=se(m[12]);let E;for(E=0;E<te.length;E+=1){const le=zt(m,te,E);A[E]?A[E].p(le,D):(A[E]=St(le),A[E].c(),A[E].m(S,null))}for(;E<A.length;E+=1)A[E].d(1);A.length=te.length}if((!N||D[0]&16)&&q(S,"margin-right",m[4]+"rem"),D[0]&110759){Q=se(m[12]);let E;for(E=0;E<Q.length;E+=1){const le=yt(m,Q,E);P[E]?(P[E].p(le,D),F(P[E],1)):(P[E]=Bt(le),P[E].c(),F(P[E],1),P[E].m(U,null))}for(ze(),E=Q.length;E<P.length;E+=1)Ue(E);Te()}(!N||D[0]&16)&&q(U,"scroll-padding-inline",m[4]+"rem"),(!N||D[0]&16)&&q(U,"padding","1rem "+m[4]+"rem"),(!N||D[0]&8224)&&q(U,"gap",(m[13].mobile?m[5]/2:m[5])+"rem"),(!N||D[0]&2048)&&Re(U,"hovered",m[11]),m[9]<m[12].length-1?j?(j.p(m,D),D[0]&4608&&F(j,1)):(j=Ft(m),j.c(),F(j,1),j.m(V,y)):j&&(ze(),W(j,1,1,()=>{j=null}),Te()),m[9]>0?B?(B.p(m,D),D[0]&512&&F(B,1)):(B=Pt(m),B.c(),F(B,1),B.m(V,O)):B&&(ze(),W(B,1,1,()=>{B=null}),Te()),(!N||D[0]&48)&&q(L,"width",m[4]-m[5]+2.5+"rem"),(!N||D[0]&512&&ee!==(ee="blur-lg absolute -left-10 -top-4 h-full bg-surface-50-900-token transition-opacity opacity-"+(m[9]===0?0:60)+" z-10"))&&h(L,"class",ee),(!N||D[0]&48)&&q(G,"width",m[4]-m[5]+2.5+"rem"),(!N||D[0]&4608&&ae!==(ae="blur-lg absolute -right-10 -top-4 h-full bg-surface-50-900-token opacity-"+(m[9]<m[12].length-1?60:0)+" transition-opacity z-10"))&&h(G,"class",ae),(!N||D[0]&1024)&&Re(e,"pointer-events-none",m[10])},i(m){if(!N){F(u.$$.fragment,m);for(let D=0;D<Q.length;D+=1)F(P[D]);F(j),F(B),N=!0}},o(m){W(u.$$.fragment,m),P=P.filter(Boolean);for(let D=0;D<P.length;D+=1)W(P[D]);W(j),W(B),N=!1},d(m){m&&v(e),I&&I.d(),ce(u),Se(A,m),Se(P,m),j&&j.d(),B&&B.d(),r[22](null)}}}function dl(r,e,t){let l,a,n,s;Gt(r,al,I=>t(13,s=I));let{title:i=""}=e,{data:d=[]}=e,{component:g}=e,{href:f=""}=e,{size:c=250}=e,{overflow:u=4}=e,{gap:$=1.5}=e,{num:S=void 0}=e,T=window.innerWidth,V,U=0,M=!1,y=!1,O=0;xt(()=>{const I=new ResizeObserver(te=>{const A=te.at(0);if(!A)return;const Q=A.contentBoxSize[0].inlineSize;Q!==T&&t(18,T=Q)});return I.observe(V),()=>I.unobserve(V)});const L=I=>{const te=document.getElementById(i+I);t(10,M=!0),te==null||te.scrollIntoView({behavior:"smooth",block:"nearest"}),t(9,U=I),setTimeout(()=>t(10,M=!1),1e3)},ee=()=>{clearTimeout(O),t(11,y=!0)},H=()=>{O=setTimeout(()=>{t(11,y=!1)},100)},G=()=>L(U+1),ae=()=>L(U-1);function N(I){el[I?"unshift":"push"](()=>{V=I,t(8,V)})}return r.$$set=I=>{"title"in I&&t(0,i=I.title),"data"in I&&t(1,d=I.data),"component"in I&&t(2,g=I.component),"href"in I&&t(3,f=I.href),"size"in I&&t(17,c=I.size),"overflow"in I&&t(4,u=I.overflow),"gap"in I&&t(5,$=I.gap),"num"in I&&t(6,S=I.num)},r.$$.update=()=>{r.$$.dirty[0]&393216&&t(19,l=Math.ceil(T/c)),r.$$.dirty[0]&917504&&t(7,a=T/l<c?l:l+1),r.$$.dirty[0]&130&&t(12,n=new Array(Math.ceil(d.length/a)).fill(""))},[i,d,g,f,u,$,S,a,V,U,M,y,n,s,L,ee,H,c,T,l,G,ae,N]}class Zt extends et{constructor(e){super(),tt(this,e,dl,hl,xe,{title:0,data:1,component:2,href:3,size:17,overflow:4,gap:5,num:6},null,[-1,-1])}}const Ye=r=>r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function Wt(r,e,t){const l=r.slice();return l[7]=e[t],l[9]=t,l}function Rt(r,e,t){const l=r.slice();return l[7]=e[t],l[9]=t,l}function jt(r){let e,t=r[0].notes+"",l;return{c(){e=_("div"),l=J(t),this.h()},l(a){e=p(a,"DIV",{class:!0});var n=w(e);l=Z(n,t),n.forEach(v),this.h()},h(){h(e,"class","italic")},m(a,n){X(a,e,n),o(e,l)},p(a,n){n&1&&t!==(t=a[0].notes+"")&&ue(l,t)},d(a){a&&v(e)}}}function Ot(r){let e,t,l,a,n,s,i=Ye(r[7].score)+"",d,g,f,c=r[7].username+"",u,$,S,T=r[9]+1+"",V,U;return{c(){e=_("div"),t=_("img"),a=C(),n=_("div"),s=_("div"),d=J(i),g=C(),f=_("div"),u=J(c),$=C(),S=_("div"),V=J(T),U=C(),this.h()},l(M){e=p(M,"DIV",{class:!0});var y=w(e);t=p(y,"IMG",{src:!0,class:!0}),a=z(y),n=p(y,"DIV",{class:!0});var O=w(n);s=p(O,"DIV",{class:!0});var L=w(s);d=Z(L,i),L.forEach(v),g=z(O),f=p(O,"DIV",{class:!0});var ee=w(f);u=Z(ee,c),ee.forEach(v),O.forEach(v),$=z(y),S=p(y,"DIV",{class:!0});var H=w(S);V=Z(H,T),H.forEach(v),U=z(y),y.forEach(v),this.h()},h(){we(t.src,l=r[7].userAvatarUrl)||h(t,"src",l),h(t,"class","rounded w-10 h-10"),h(s,"class","font-bold"),h(f,"class","opacity-60"),h(n,"class","flex flex-col flex-1"),h(S,"class","opacity-20 text-right"),h(e,"class","flex gap-4 items-center bg-surface-50 dark:bg-surface-700 px-2 py-1 rounded-md"),Re(e,"border",r[9]===0),Re(e,"border-primary-400",r[9]===0)},m(M,y){X(M,e,y),o(e,t),o(e,a),o(e,n),o(n,s),o(s,d),o(n,g),o(n,f),o(f,u),o(e,$),o(e,S),o(S,V),o(e,U)},p(M,y){y&4&&!we(t.src,l=M[7].userAvatarUrl)&&h(t,"src",l),y&4&&i!==(i=Ye(M[7].score)+"")&&ue(d,i),y&4&&c!==(c=M[7].username+"")&&ue(u,c)},d(M){M&&v(e)}}}function Lt(r){let e,t,l,a,n,s,i=Ye(r[7].score)+"",d,g,f,c=r[7].username+"",u,$,S,T=r[9]+6+"",V,U;return{c(){e=_("div"),t=_("img"),a=C(),n=_("div"),s=_("div"),d=J(i),g=C(),f=_("div"),u=J(c),$=C(),S=_("div"),V=J(T),U=C(),this.h()},l(M){e=p(M,"DIV",{class:!0});var y=w(e);t=p(y,"IMG",{src:!0,class:!0}),a=z(y),n=p(y,"DIV",{class:!0});var O=w(n);s=p(O,"DIV",{class:!0});var L=w(s);d=Z(L,i),L.forEach(v),g=z(O),f=p(O,"DIV",{class:!0});var ee=w(f);u=Z(ee,c),ee.forEach(v),O.forEach(v),$=z(y),S=p(y,"DIV",{class:!0});var H=w(S);V=Z(H,T),H.forEach(v),U=z(y),y.forEach(v),this.h()},h(){we(t.src,l=r[7].userAvatarUrl)||h(t,"src",l),h(t,"class","rounded w-10 h-10"),h(s,"class","font-bold"),h(f,"class","opacity-60"),h(n,"class","flex flex-col flex-1"),h(S,"class","opacity-20 text-right"),h(e,"class","flex gap-4 items-center bg-surface-50 dark:bg-surface-700 px-2 py-1 rounded-md")},m(M,y){X(M,e,y),o(e,t),o(e,a),o(e,n),o(n,s),o(s,d),o(n,g),o(n,f),o(f,u),o(e,$),o(e,S),o(S,V),o(e,U)},p(M,y){y&4&&!we(t.src,l=M[7].userAvatarUrl)&&h(t,"src",l),y&4&&i!==(i=Ye(M[7].score)+"")&&ue(d,i),y&4&&c!==(c=M[7].username+"")&&ue(u,c)},d(M){M&&v(e)}}}function ml(r){let e,t,l,a="VPC Weekly Challenge",n,s,i=r[1].name+"",d,g,f,c,u,$=r[0].currentSeasonWeekNumber+"",S,T,V,U=Ze(r[0].periodStart)+"",M,y,O=Ze(r[0].periodEnd)+"",L,ee,H,G,ae,N,I,te,A,Q,P,Ue,j,B,m,D,E,le,Ee,he,Me,K,me,de="Join the VPC weekly challenge on discord to compete with others on the table of the week!",rt,ge,Ve,at,st,De,nt,ye,it,Ae,ve,_e,pe,je,ot,$e,vt='<div class="speaker bg-slate-900 dark:bg-black aspect-square rounded-full border border-slate-700 svelte-57otg6"></div> <div class="my-2 bg-slate-900 dark:bg-black flex-1 border border-slate-700 flex"><div class="flex-1 m-1 border border-orange-500 flex items-center justify-center font-mono text-orange-500">INSERT COIN</div></div> <div class="speaker bg-slate-900 dark:bg-black aspect-square rounded-full border border-slate-700 svelte-57otg6"></div>',ct,Be,be,Oe,ne;ae=new gt({props:{fileType:"tableFiles"}}),Q=new gt({props:{fileType:"b2sFiles"}}),m=new gt({props:{fileType:"romFiles"}});let re=r[0].notes&&jt(r);Ve=new lt({props:{icon:ol}});let Fe=se(r[2].slice(0,5)),Y=[];for(let b=0;b<Fe.length;b+=1)Y[b]=Ot(Rt(r,Fe,b));let Pe=se(r[2].slice(5,10)),x=[];for(let b=0;b<Pe.length;b+=1)x[b]=Lt(Wt(r,Pe,b));return{c(){e=_("div"),t=_("div"),l=_("div"),l.textContent=a,n=C(),s=_("div"),d=J(i),g=C(),f=_("div"),c=_("div"),u=J("W"),S=J($),T=C(),V=_("div"),M=J(U),y=J(` -\r
				`),L=J(O),ee=C(),H=_("div"),G=_("a"),ie(ae.$$.fragment),N=J("Table"),te=C(),A=_("a"),ie(Q.$$.fragment),P=J("B2S"),j=C(),B=_("a"),ie(m.$$.fragment),D=J("ROM"),le=C(),re&&re.c(),Ee=C(),he=_("div"),Me=C(),K=_("div"),me=_("div"),me.textContent=de,rt=C(),ge=_("a"),ie(Ve.$$.fragment),at=J(" Join the discord"),st=C(),De=_("div");for(let b=0;b<Y.length;b+=1)Y[b].c();nt=C(),ye=_("div");for(let b=0;b<x.length;b+=1)x[b].c();it=C(),Ae=_("div"),ve=_("div"),_e=_("div"),pe=_("img"),ot=C(),$e=_("div"),$e.innerHTML=vt,ct=C(),Be=_("div"),be=_("img"),this.h()},l(b){e=p(b,"DIV",{class:!0});var R=w(e);t=p(R,"DIV",{class:!0});var k=w(t);l=p(k,"DIV",{class:!0,"data-svelte-h":!0}),Ke(l)!=="svelte-p6t6h"&&(l.textContent=a),n=z(k),s=p(k,"DIV",{class:!0});var ke=w(s);d=Z(ke,i),ke.forEach(v),g=z(k),f=p(k,"DIV",{class:!0});var Le=w(f);c=p(Le,"DIV",{class:!0});var ft=w(c);u=Z(ft,"W"),S=Z(ft,$),ft.forEach(v),T=z(Le),V=p(Le,"DIV",{class:!0});var Ne=w(V);M=Z(Ne,U),y=Z(Ne,` -\r
				`),L=Z(Ne,O),Ne.forEach(v),Le.forEach(v),ee=z(k),H=p(k,"DIV",{class:!0});var We=w(H);G=p(We,"A",{class:!0,href:!0,target:!0});var ut=w(G);fe(ae.$$.fragment,ut),N=Z(ut,"Table"),ut.forEach(v),te=z(We),A=p(We,"A",{class:!0,href:!0,target:!0});var ht=w(A);fe(Q.$$.fragment,ht),P=Z(ht,"B2S"),ht.forEach(v),j=z(We),B=p(We,"A",{class:!0,href:!0,target:!0});var dt=w(B);fe(m.$$.fragment,dt),D=Z(dt,"ROM"),dt.forEach(v),We.forEach(v),le=z(k),re&&re.l(k),Ee=z(k),he=p(k,"DIV",{class:!0}),w(he).forEach(v),Me=z(k),K=p(k,"DIV",{class:!0});var He=w(K);me=p(He,"DIV",{"data-svelte-h":!0}),Ke(me)!=="svelte-ijt7r0"&&(me.textContent=de),rt=z(He),ge=p(He,"A",{class:!0,href:!0,target:!0});var mt=w(ge);fe(Ve.$$.fragment,mt),at=Z(mt," Join the discord"),mt.forEach(v),He.forEach(v),k.forEach(v),st=z(R),De=p(R,"DIV",{class:!0});var _t=w(De);for(let Ce=0;Ce<Y.length;Ce+=1)Y[Ce].l(_t);_t.forEach(v),nt=z(R),ye=p(R,"DIV",{class:!0});var pt=w(ye);for(let Ce=0;Ce<x.length;Ce+=1)x[Ce].l(pt);pt.forEach(v),it=z(R),Ae=p(R,"DIV",{class:!0});var bt=w(Ae);ve=p(bt,"DIV",{class:!0});var Ge=w(ve);_e=p(Ge,"DIV",{class:!0});var qe=w(_e);pe=p(qe,"IMG",{src:!0,class:!0}),ot=z(qe),$e=p(qe,"DIV",{class:!0,"data-svelte-h":!0}),Ke($e)!=="svelte-1eyvw56"&&($e.innerHTML=vt),qe.forEach(v),ct=z(Ge),Be=p(Ge,"DIV",{class:!0});var kt=w(Be);be=p(kt,"IMG",{src:!0,class:!0}),kt.forEach(v),Ge.forEach(v),bt.forEach(v),R.forEach(v),this.h()},h(){h(l,"class","text-sm opacity-40 font-bold uppercase"),h(s,"class","text-2xl font-bold"),h(c,"class","badge p-0 leading-3"),h(V,"class","badge p-0 m-0 leading-3"),h(f,"class","flex gap-2 p-2 items-center rounded bg-surface-200 dark:bg-surface-800 mr-auto mt-2"),h(G,"class","chip variant-soft-primary hover:variant-filled-primary flex items-center gap-2"),h(G,"href",I=r[0].tableUrl),h(G,"target","_blank"),h(A,"class","chip variant-soft-secondary hover:variant-filled-secondary flex items-center gap-2"),h(A,"href",Ue=r[0].b2sUrl),h(A,"target","_blank"),h(B,"class","chip variant-soft-tertiary hover:variant-filled-tertiary flex items-center gap-2"),h(B,"href",E=r[0].romUrl),h(B,"target","_blank"),h(H,"class","flex gap-2 my-4"),h(he,"class","flex-1 w-full h-full"),h(ge,"class","btn variant-filled-primary mr-auto flex gap-2"),h(ge,"href","https://discord.gg/MAB82JU4Cz"),h(ge,"target","_blank"),h(K,"class","bg-surface-200 dark:bg-surface-900 p-4 rounded flex flex-col gap-4"),h(t,"class","flex flex-col flex-1"),h(De,"class","flex flex-col flex-1 gap-3 mt-3 md:mt-0"),h(ye,"class","flex flex-col flex-1 gap-3 mt-3 md:mt-0 w-full"),we(pe.src,je=r[4])||h(pe,"src",je),h(pe,"class","w-full [aspect-ratio:4/3] border border-slate-700"),h($e,"class","flex gap-2 flex-1"),h(_e,"class","absolute top-0 w-72 h-72 p-2 bg-slate-500 dark:bg-slate-900 shadow-md border border-slate-700 flex flex-col gap-2"),we(be.src,Oe=r[3])||h(be,"src",Oe),h(be,"class","w-full [aspect-ratio:9/16"),h(Be,"class","absolute top-[4.6rem] w-72 tablevpc bg-slate-500 dark:bg-slate-900 border border-slate-700 p-2 svelte-57otg6"),h(ve,"class","relative [perspective:600px] h-[15em] w-72"),h(Ae,"class","h-[20rem] md:h-[unset] w-[25rem] max-w-full flex flex-col items-center mt-8 md:mt-0"),h(e,"class","flex flex-col md:flex-row px-16 py-16 gap-0 md:gap-12 items-stretch overflow-clip")},m(b,R){X(b,e,R),o(e,t),o(t,l),o(t,n),o(t,s),o(s,d),o(t,g),o(t,f),o(f,c),o(c,u),o(c,S),o(f,T),o(f,V),o(V,M),o(V,y),o(V,L),o(t,ee),o(t,H),o(H,G),oe(ae,G,null),o(G,N),o(H,te),o(H,A),oe(Q,A,null),o(A,P),o(H,j),o(H,B),oe(m,B,null),o(B,D),o(t,le),re&&re.m(t,null),o(t,Ee),o(t,he),o(t,Me),o(t,K),o(K,me),o(K,rt),o(K,ge),oe(Ve,ge,null),o(ge,at),o(e,st),o(e,De);for(let k=0;k<Y.length;k+=1)Y[k]&&Y[k].m(De,null);o(e,nt),o(e,ye);for(let k=0;k<x.length;k+=1)x[k]&&x[k].m(ye,null);o(e,it),o(e,Ae),o(Ae,ve),o(ve,_e),o(_e,pe),o(_e,ot),o(_e,$e),o(ve,ct),o(ve,Be),o(Be,be),ne=!0},p(b,[R]){if((!ne||R&2)&&i!==(i=b[1].name+"")&&ue(d,i),(!ne||R&1)&&$!==($=b[0].currentSeasonWeekNumber+"")&&ue(S,$),(!ne||R&1)&&U!==(U=Ze(b[0].periodStart)+"")&&ue(M,U),(!ne||R&1)&&O!==(O=Ze(b[0].periodEnd)+"")&&ue(L,O),(!ne||R&1&&I!==(I=b[0].tableUrl))&&h(G,"href",I),(!ne||R&1&&Ue!==(Ue=b[0].b2sUrl))&&h(A,"href",Ue),(!ne||R&1&&E!==(E=b[0].romUrl))&&h(B,"href",E),b[0].notes?re?re.p(b,R):(re=jt(b),re.c(),re.m(t,Ee)):re&&(re.d(1),re=null),R&4){Fe=se(b[2].slice(0,5));let k;for(k=0;k<Fe.length;k+=1){const ke=Rt(b,Fe,k);Y[k]?Y[k].p(ke,R):(Y[k]=Ot(ke),Y[k].c(),Y[k].m(De,null))}for(;k<Y.length;k+=1)Y[k].d(1);Y.length=Fe.length}if(R&4){Pe=se(b[2].slice(5,10));let k;for(k=0;k<Pe.length;k+=1){const ke=Wt(b,Pe,k);x[k]?x[k].p(ke,R):(x[k]=Lt(ke),x[k].c(),x[k].m(ye,null))}for(;k<x.length;k+=1)x[k].d(1);x.length=Pe.length}(!ne||R&16&&!we(pe.src,je=b[4]))&&h(pe,"src",je),(!ne||R&8&&!we(be.src,Oe=b[3]))&&h(be,"src",Oe)},i(b){ne||(F(ae.$$.fragment,b),F(Q.$$.fragment,b),F(m.$$.fragment,b),F(Ve.$$.fragment,b),ne=!0)},o(b){W(ae.$$.fragment,b),W(Q.$$.fragment,b),W(m.$$.fragment,b),W(Ve.$$.fragment,b),ne=!1},d(b){b&&v(e),ce(ae),ce(Q),ce(m),re&&re.d(),ce(Ve),Se(Y,b),Se(x,b)}}}function gl(r,e,t){let l,a,n,s,{data:i}=e;const d=(f,c)=>{if(!(f!=null&&f.tableFiles)||!c)return Vt;for(let u of f.tableFiles)if(u.id===c)return u.imgUrl;return Vt},{getGame:g}=il;return r.$$set=f=>{"data"in f&&t(0,i=f.data)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=g(i.vpsId)),r.$$.dirty&2&&t(4,a=sl(l)),r.$$.dirty&3&&t(3,n=d(l,i.vpsId)),r.$$.dirty&1&&t(2,s=i.scores.slice(0,10).sort((f,c)=>c.score-f.score))},[i,l,s,n,a]}class vl extends et{constructor(e){super(),tt(this,e,gl,ml,xe,{data:0})}}function _l(r){let e;return{c(){e=J("Theres been an error fetching the VPC weekly challenge SpeechRecognitionResultList.")},l(t){e=Z(t,"Theres been an error fetching the VPC weekly challenge SpeechRecognitionResultList.")},m(t,l){X(t,e,l)},p:Ie,i:Ie,o:Ie,d(t){t&&v(e)}}}function pl(r){let e,t;return e=new vl({props:{data:r[2]}}),{c(){ie(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p:Ie,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function bl(r){let e;return{c(){e=J("Loading VPC Weekly challenge...")},l(t){e=Z(t,"Loading VPC Weekly challenge...")},m(t,l){X(t,e,l)},p:Ie,i:Ie,o:Ie,d(t){t&&v(e)}}}function kl(r){let e,t,l,a={ctx:r,current:null,token:null,hasCatch:!0,pending:bl,then:pl,catch:_l,value:2,error:3,blocks:[,,,]};return fl(r[0],a),{c(){e=_("div"),t=_("div"),a.block.c(),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=w(e);t=p(s,"DIV",{class:!0});var i=w(t);a.block.l(i),i.forEach(v),s.forEach(v),this.h()},h(){h(t,"class","max-w-screen-2xl w-full"),h(e,"class","min-h-96 bg-surface-100 dark:bg-surface-600 -m-10 flex justify-center")},m(n,s){X(n,e,s),o(e,t),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null,l=!0},p(n,[s]){r=n,ul(a,r,s)},i(n){l||(F(a.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const i=a.blocks[s];W(i)}l=!1},d(n){n&&v(e),a.block.d(),a.token=null,a=null}}}function wl(r){return[(async()=>await(await fetch("https://virtualpinballchat.com:6080/api/v1/currentWeek?channelName=competition-corner")).json())()]}class Il extends et{constructor(e){super(),tt(this,e,wl,kl,xe,{})}}function Nt(r,e,t){var n;const l=r.slice();l[5]=e[t][0],l[6]=e[t][1];const a=(((n=l[0])==null?void 0:n[l[5]])||[]).slice(0,Kt).map(function(...i){return r[3](l[5],...i)});return l[7]=a,l}function El(r){var l;let e,t;return e=new Zt({props:{href:Jt+"/"+r[6].route+"/",title:r[6].name,component:r[6].component,num:(((l=r[0])==null?void 0:l[r[5]])||[]).length,data:r[7]}}),{c(){ie(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,n){oe(e,a,n),t=!0},p(a,n){var i;const s={};n&1&&(s.num=(((i=a[0])==null?void 0:i[a[5]])||[]).length),n&1&&(s.data=a[7]),e.$set(s)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){W(e.$$.fragment,a),t=!1},d(a){ce(e,a)}}}function Ht(r){let e=!["tableFiles","game"].includes(r[5]),t,l,a=e&&El(r);return{c(){a&&a.c(),t=Xe()},l(n){a&&a.l(n),t=Xe()},m(n,s){a&&a.m(n,s),X(n,t,s),l=!0},p(n,s){e&&a.p(n,s)},i(n){l||(F(a),l=!0)},o(n){W(a),l=!1},d(n){n&&v(t),a&&a.d(n)}}}function Vl(r){var f;let e,t,l,a,n,s;t=new Zt({props:{title:"Tables",component:nl,data:r[1],size:400,gap:2.5,num:(((f=r[0])==null?void 0:f.tableFiles)||[]).length,href:Jt+"/tables/"}});let i=se(Object.entries(Dt)),d=[];for(let c=0;c<i.length;c+=1)d[c]=Ht(Nt(r,i,c));const g=c=>W(d[c],1,1,()=>{d[c]=null});return n=new Il({}),{c(){e=_("div"),ie(t.$$.fragment),l=C();for(let c=0;c<d.length;c+=1)d[c].c();a=C(),ie(n.$$.fragment),this.h()},l(c){e=p(c,"DIV",{class:!0});var u=w(e);fe(t.$$.fragment,u),l=z(u);for(let $=0;$<d.length;$+=1)d[$].l(u);a=z(u),fe(n.$$.fragment,u),u.forEach(v),this.h()},h(){h(e,"class","h-full flex flex-col py-4 md:p-10 gap-10 md:gap-20 relative z-0")},m(c,u){X(c,e,u),oe(t,e,null),o(e,l);for(let $=0;$<d.length;$+=1)d[$]&&d[$].m(e,null);o(e,a),oe(n,e,null),s=!0},p(c,[u]){var S;const $={};if(u&2&&($.data=c[1]),u&1&&($.num=(((S=c[0])==null?void 0:S.tableFiles)||[]).length),t.$set($),u&1){i=se(Object.entries(Dt));let T;for(T=0;T<i.length;T+=1){const V=Nt(c,i,T);d[T]?(d[T].p(V,u),F(d[T],1)):(d[T]=Ht(V),d[T].c(),F(d[T],1),d[T].m(e,a))}for(ze(),T=i.length;T<d.length;T+=1)g(T);Te()}},i(c){if(!s){F(t.$$.fragment,c);for(let u=0;u<i.length;u+=1)F(d[u]);F(n.$$.fragment,c),s=!0}},o(c){W(t.$$.fragment,c),d=d.filter(Boolean);for(let u=0;u<d.length;u+=1)W(d[u]);W(n.$$.fragment,c),s=!1},d(c){c&&v(e),ce(t),Se(d,c),ce(n)}}}const Kt=20;function Dl(r,e,t){let l,a;const{sortedFilesStore:n,author:s}=cl;Gt(r,n,d=>t(0,a=d));const i=(d,g)=>{var f;return{file:g,href:`?game=${(f=g.game)==null?void 0:f.id}&fileType=${d}&fileId=${g.id}`,fileType:d}};return r.$$.update=()=>{r.$$.dirty&1&&t(1,l=((a==null?void 0:a.tableFiles)||[]).slice(0,Kt).map(d=>{var g;return{file:d,href:`?game=${(g=d.game)==null?void 0:g.id}&fileType=table&fileId=${d.id}`}}))},[a,l,n,i]}class Pl extends et{constructor(e){super(),tt(this,e,Dl,Vl,xe,{})}}export{Pl as component};
