import{s as rt,e as wt,i as x,d,B as lt,f as h,g as v,h as w,j as u,H as Mt,r as Ft,Y as wa,a as C,l as F,c as M,m as D,R as ce,G as o,n as O,$ as Ct,Z as Ht,k as at,T as se,I as oa,x as fa,y as ua,z as ca,A as da,Q as Ea}from"./scheduler.a453f4b8.js";import{S as st,i as it,a as K,g as Dt,t as re,c as Vt,b as gt,d as pt,m as _t,e as bt}from"./index.fa05b556.js";import{e as Oe}from"./each.013e569e.js";import{D as jt,a as Ia,d as ka,c as ha,b as ya,E as Ta}from"./DbStore.6d56cf40.js";import{P as Ut,g as Pa,p as Ca}from"./getBackglassUrl.fc240526.js";import{U as Ma,E as Fa}from"./UserStore.aebc803d.js";import{F as va,k as Da,h as Va,z as Wt,A as Aa,B as Sa,C as Ra,D as Ha,E as Oa,G as ja,H as La,y as Ba}from"./index.74d21674.js";import{w as za}from"./index.6e379fdf.js";import{m as ma}from"./ProgressBar.svelte_svelte_type_style_lang.c6c4a621.js";import{f as Rt}from"./formatDate.85208f9c.js";import{n as Ua}from"./index.browser.7e542916.js";function Gt(t){let e,a,l,r,s;return a=new va({props:{icon:Da}}),{c(){e=h("a"),gt(a.$$.fragment),this.h()},l(i){e=v(i,"A",{href:!0,class:!0});var f=w(e);pt(a.$$.fragment,f),f.forEach(d),this.h()},h(){u(e,"href","?edit=true"),u(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(i,f){x(i,e,f),_t(a,e,null),l=!0,r||(s=Mt(e,"click",t[9]),r=!0)},p:Ft,i(i){l||(K(a.$$.fragment,i),l=!0)},o(i){re(a.$$.fragment,i),l=!1},d(i){i&&d(e),bt(a),r=!1,s()}}}function Wa(t){let e,a,l=t[0]&&t[1].admin&&Gt(t);return{c(){l&&l.c(),e=wt()},l(r){l&&l.l(r),e=wt()},m(r,s){l&&l.m(r,s),x(r,e,s),a=!0},p(r,[s]){r[0]&&r[1].admin?l?(l.p(r,s),s&3&&K(l,1)):(l=Gt(r),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Dt(),re(l,1,1,()=>{l=null}),Vt())},i(r){a||(K(l),a=!0)},o(r){re(l),a=!1},d(r){r&&d(e),l&&l.d(r)}}}function Ga(t,e,a){let l,r,s,i;const{userStore:f}=Ma;lt(t,f,g=>a(1,s=g));const{editStore:n}=Fa;lt(t,n,g=>a(2,i=g));const{dbStore:m}=jt;lt(t,m,g=>a(8,r=g));let{file:p=void 0}=e,{game:I=void 0}=e;const E=()=>{wa(n,i.cache={id:l.id,action:"UPDATE",data:JSON.parse(JSON.stringify(l))},i)};return t.$$set=g=>{"file"in g&&a(6,p=g.file),"game"in g&&a(7,I=g.game)},t.$$.update=()=>{var g;t.$$.dirty&448&&a(0,l=I||((g=p==null?void 0:p.game)!=null&&g.id?r[p.game.id]:void 0))},[l,s,i,f,n,m,p,I,r,E]}class Lt extends st{constructor(e){super(),it(this,e,Ga,Wa,rt,{file:6,game:7})}}function qt(t,e,a){const l=t.slice();return l[2]=e[a],l}function Nt(t){let e,a=t[2]+"",l;return{c(){e=h("div"),l=F(a),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=w(e);l=D(s,a),s.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,s){x(r,e,s),o(e,l)},p(r,s){s&1&&a!==(a=r[2]+"")&&O(l,a)},d(r){r&&d(e)}}}function qa(t){var U,ee;let e,a,l,r,s,i,f,n,m,p,I=((U=t[0].game)==null?void 0:U.name)+"",E,g,b,T,S,B,X=(((ee=t[0].authors)==null?void 0:ee.join(", "))||"")+"",V,R,z,A,Q=Oe(t[0].features||[]),P=[];for(let y=0;y<Q.length;y+=1)P[y]=Nt(qt(t,Q,y));return T=new Lt({props:{file:t[0]}}),{c(){e=h("a"),a=h("img"),s=C(),i=h("hr"),f=C(),n=h("div"),m=h("div"),p=h("p"),E=F(I),g=C();for(let y=0;y<P.length;y+=1)P[y].c();b=C(),gt(T.$$.fragment),S=C(),B=h("h4"),V=F(X),this.h()},l(y){e=v(y,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var j=w(e);a=v(j,"IMG",{src:!0,alt:!0,class:!0}),s=M(j),i=v(j,"HR",{}),f=M(j),n=v(j,"DIV",{class:!0});var W=w(n);m=v(W,"DIV",{class:!0});var te=w(m);p=v(te,"P",{class:!0});var J=w(p);E=D(J,I),J.forEach(d),g=M(te);for(let q=0;q<P.length;q+=1)P[q].l(te);b=M(te),pt(T.$$.fragment,te),te.forEach(d),S=M(W),B=v(W,"H4",{class:!0});var ae=w(B);V=D(ae,X),ae.forEach(d),W.forEach(d),j.forEach(d),this.h()},h(){var y;ce(a.src,l=t[0].imgUrl||Ut)||u(a,"src",l),u(a,"alt",r=t[0].id),u(a,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),u(p,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(m,"class","flex gap-2"),u(B,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",R=t[0].id),u(e,"data-gameid",z=(y=t[0].game)==null?void 0:y.id),u(e,"data-filetype","b2sFiles")},m(y,j){x(y,e,j),o(e,a),o(e,s),o(e,i),o(e,f),o(e,n),o(n,m),o(m,p),o(p,E),o(m,g);for(let W=0;W<P.length;W+=1)P[W]&&P[W].m(m,null);o(m,b),_t(T,m,null),o(n,S),o(n,B),o(B,V),A=!0},p(y,[j]){var te,J,ae;if((!A||j&1&&!ce(a.src,l=y[0].imgUrl||Ut))&&u(a,"src",l),(!A||j&1&&r!==(r=y[0].id))&&u(a,"alt",r),(!A||j&1)&&I!==(I=((te=y[0].game)==null?void 0:te.name)+"")&&O(E,I),j&1){Q=Oe(y[0].features||[]);let q;for(q=0;q<Q.length;q+=1){const je=qt(y,Q,q);P[q]?P[q].p(je,j):(P[q]=Nt(je),P[q].c(),P[q].m(m,b))}for(;q<P.length;q+=1)P[q].d(1);P.length=Q.length}const W={};j&1&&(W.file=y[0]),T.$set(W),(!A||j&1)&&X!==(X=(((J=y[0].authors)==null?void 0:J.join(", "))||"")+"")&&O(V,X),(!A||j&2)&&u(e,"href",y[1]),(!A||j&1&&R!==(R=y[0].id))&&u(e,"id",R),(!A||j&1&&z!==(z=(ae=y[0].game)==null?void 0:ae.id))&&u(e,"data-gameid",z)},i(y){A||(K(T.$$.fragment,y),A=!0)},o(y){re(T.$$.fragment,y),A=!1},d(y){y&&d(e),Ct(P,y),bt(T)}}}function Na(t,e,a){let{file:l=Ia}=e,{href:r=""}=e;return t.$$set=s=>{"file"in s&&a(0,l=s.file),"href"in s&&a(1,r=s.href)},[l,r]}class Xa extends st{constructor(e){super(),it(this,e,Na,qa,rt,{file:0,href:1})}}function Za(t){var Q;let e,a,l,r,s=(((Q=t[0].game)==null?void 0:Q.name)||"???")+"",i,f,n,m,p=(t[0].version||"")+"",I,E,g,b,T,S,B,X,V,R,z,A;return S=new Lt({props:{file:t[0]}}),{c(){e=h("a"),a=h("div"),l=h("div"),r=h("span"),i=F(s),f=C(),n=h("div"),m=h("span"),I=F(p),E=C(),g=h("div"),b=C(),T=h("div"),gt(S.$$.fragment),B=C(),X=h("img"),this.h()},l(P){e=v(P,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var U=w(e);a=v(U,"DIV",{class:!0});var ee=w(a);l=v(ee,"DIV",{class:!0});var y=w(l);r=v(y,"SPAN",{class:!0});var j=w(r);i=D(j,s),j.forEach(d),f=M(y),n=v(y,"DIV",{class:!0});var W=w(n);m=v(W,"SPAN",{class:!0});var te=w(m);I=D(te,p),te.forEach(d),E=M(W),g=v(W,"DIV",{class:!0}),w(g).forEach(d),b=M(W),T=v(W,"DIV",{class:!0});var J=w(T);pt(S.$$.fragment,J),J.forEach(d),W.forEach(d),y.forEach(d),B=M(ee),X=v(ee,"IMG",{src:!0,class:!0,alt:!0}),ee.forEach(d),U.forEach(d),this.h()},h(){var P;u(r,"class","font-bold"),u(m,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),u(g,"class","flex-1"),u(T,"class","shrink-0"),u(n,"class","flex justify-between max-w-full"),u(l,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),ce(X.src,V=t[3])||u(X,"src",V),u(X,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),u(X,"alt",""),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),u(e,"href",t[1]),u(e,"id",R=t[0].id),u(e,"data-gameid",z=(P=t[0].game)==null?void 0:P.id),u(e,"data-filetype",t[2]),u(e,"class","aspect svelte-22xih4")},m(P,U){x(P,e,U),o(e,a),o(a,l),o(l,r),o(r,i),o(l,f),o(l,n),o(n,m),o(m,I),o(n,E),o(n,g),o(n,b),o(n,T),_t(S,T,null),o(a,B),o(a,X),A=!0},p(P,[U]){var y,j;(!A||U&1)&&s!==(s=(((y=P[0].game)==null?void 0:y.name)||"???")+"")&&O(i,s),(!A||U&1)&&p!==(p=(P[0].version||"")+"")&&O(I,p);const ee={};U&1&&(ee.file=P[0]),S.$set(ee),(!A||U&8&&!ce(X.src,V=P[3]))&&u(X,"src",V),(!A||U&2)&&u(e,"href",P[1]),(!A||U&1&&R!==(R=P[0].id))&&u(e,"id",R),(!A||U&1&&z!==(z=(j=P[0].game)==null?void 0:j.id))&&u(e,"data-gameid",z),(!A||U&4)&&u(e,"data-filetype",P[2])},i(P){A||(K(S.$$.fragment,P),A=!0)},o(P){re(S.$$.fragment,P),A=!1},d(P){P&&d(e),bt(S)}}}function Ja(t,e,a){let l;const{getGameImage:r}=jt;let{file:s=ka}=e,{href:i=""}=e,{fileType:f}=e;return t.$$set=n=>{"file"in n&&a(0,s=n.file),"href"in n&&a(1,i=n.href),"fileType"in n&&a(2,f=n.fileType)},t.$$.update=()=>{var n;t.$$.dirty&1&&a(3,l=(n=s.game)!=null&&n.id?r(s.game.id):"")},[s,i,f,l]}class Je extends st{constructor(e){super(),it(this,e,Ja,Za,rt,{file:0,href:1,fileType:2})}}/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function Ka(t){var e=t.toString(16);return e.length===1?"0"+e:e}function Xt(t){return"#"+t.map(Ka).join("")}function Qa(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function Ya(t){return t?$a(t)?t:[t]:[]}function $a(t){return Array.isArray(t[0])}function Bt(t,e,a){for(var l=0;l<a.length;l++)if(xa(t,e,a[l]))return!0;return!1}function xa(t,e,a){switch(a.length){case 3:if(el(t,e,a))return!0;break;case 4:if(tl(t,e,a))return!0;break;case 5:if(al(t,e,a))return!0;break;default:return!1}}function el(t,e,a){return t[e+3]!==255||t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]}function tl(t,e,a){return t[e+3]&&a[3]?t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]&&t[e+3]===a[3]:t[e+3]===a[3]}function At(t,e,a){return t>=e-a&&t<=e+a}function al(t,e,a){var l=a[0],r=a[1],s=a[2],i=a[3],f=a[4],n=t[e+3],m=At(n,i,f);return i?!!(!n&&m||At(t[e],l,f)&&At(t[e+1],r,f)&&At(t[e+2],s,f)&&m):m}function ll(t,e,a){for(var l={},r=24,s=a.ignoredColor,i=a.step,f=[0,0,0,0,0],n=0;n<e;n+=i){var m=t[n],p=t[n+1],I=t[n+2],E=t[n+3];if(!(s&&Bt(t,n,s))){var g=Math.round(m/r)+","+Math.round(p/r)+","+Math.round(I/r);l[g]?l[g]=[l[g][0]+m*E,l[g][1]+p*E,l[g][2]+I*E,l[g][3]+E,l[g][4]+1]:l[g]=[m*E,p*E,I*E,E,1],f[4]<l[g][4]&&(f=l[g])}}var b=f[0],T=f[1],S=f[2],B=f[3],X=f[4];return B?[Math.round(b/B),Math.round(T/B),Math.round(S/B),Math.round(B/X)]:a.defaultColor}function rl(t,e,a){for(var l=0,r=0,s=0,i=0,f=0,n=a.ignoredColor,m=a.step,p=0;p<e;p+=m){var I=t[p+3],E=t[p]*I,g=t[p+1]*I,b=t[p+2]*I;n&&Bt(t,p,n)||(l+=E,r+=g,s+=b,i+=I,f++)}return i?[Math.round(l/i),Math.round(r/i),Math.round(s/i),Math.round(i/f)]:a.defaultColor}function sl(t,e,a){for(var l=0,r=0,s=0,i=0,f=0,n=a.ignoredColor,m=a.step,p=0;p<e;p+=m){var I=t[p],E=t[p+1],g=t[p+2],b=t[p+3];n&&Bt(t,p,n)||(l+=I*I*b,r+=E*E*b,s+=g*g*b,i+=b,f++)}return i?[Math.round(Math.sqrt(l/i)),Math.round(Math.sqrt(r/i)),Math.round(Math.sqrt(s/i)),Math.round(i/f)]:a.defaultColor}function Zt(t){return Pt(t,"defaultColor",[0,0,0,0])}function Pt(t,e,a){return t[e]===void 0?a:t[e]}var Jt=10,Ot=100;function il(t){return t.search(/\.svg(\?|$)/i)!==-1}function nl(t){if(ga(t)){var e=t.naturalWidth,a=t.naturalHeight;return!t.naturalWidth&&il(t.src)&&(e=a=Ot),{width:e,height:a}}return fl(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function Kt(t){return ul(t)?"canvas":ol(t)?"offscreencanvas":cl(t)?"imagebitmap":t.src}function ga(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var pa=typeof OffscreenCanvas<"u";function ol(t){return pa&&t instanceof OffscreenCanvas}function fl(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function ul(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function cl(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function dl(t,e){var a=Pt(e,"left",0),l=Pt(e,"top",0),r=Pt(e,"width",t.width),s=Pt(e,"height",t.height),i=r,f=s;if(e.mode==="precision")return{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:s,destWidth:i,destHeight:f};var n;return r>s?(n=r/s,i=Ot,f=Math.round(i/n)):(n=s/r,f=Ot,i=Math.round(f/n)),(i>r||f>s||i<Jt||f<Jt)&&(i=r,f=s),{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:s,destWidth:i,destHeight:f}}var hl=typeof window>"u";function vl(){return hl?pa?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var ml="FastAverageColor: ";function He(t){return Error(ml+t)}function Tt(t,e){e||console.error(t)}var _a=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,a){if(!e)return Promise.reject(He("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(He("resource as string is not supported in this environment"));var l=new Image;return l.crossOrigin=a&&a.crossOrigin||"",l.src=e,this.bindImageEvents(l,a)}else{if(ga(e)&&!e.complete)return this.bindImageEvents(e,a);var r=this.getColor(e,a);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,a){a=a||{};var l=Zt(a);if(!e){var r=He("call .getColor(null) without resource");return Tt(r,a.silent),this.prepareResult(l,r)}var s=nl(e),i=dl(s,a);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var r=He('incorrect sizes for resource "'.concat(Kt(e),'"'));return Tt(r,a.silent),this.prepareResult(l,r)}if(!this.canvas&&(this.canvas=vl(),!this.canvas)){var r=He("OffscreenCanvas is not supported in this browser");return Tt(r,a.silent),this.prepareResult(l,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=He("Canvas Context 2D is not supported in this browser");return Tt(r,a.silent),this.prepareResult(l)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var f=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(f,a))}catch(n){var r=He("security error (CORS) for resource ".concat(Kt(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Tt(r,a.silent),!a.silent&&console.error(n),this.prepareResult(l,r)}},t.prototype.getColorFromArray4=function(e,a){a=a||{};var l=4,r=e.length,s=Zt(a);if(r<l)return s;var i=r-r%l,f=(a.step||1)*l,n;switch(a.algorithm||"sqrt"){case"simple":n=rl;break;case"sqrt":n=sl;break;case"dominant":n=ll;break;default:throw He("".concat(a.algorithm," is unknown algorithm"))}return n(e,i,{defaultColor:s,ignoredColor:Ya(a.ignoredColor),step:f})},t.prototype.prepareResult=function(e,a){var l=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],s=Qa(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+l.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Xt(l),hexa:Xt(e),isDark:s,isLight:!s,error:a}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,a){var l=this;return new Promise(function(r,s){var i=function(){m();var p=l.getColor(e,a);p.error?s(p.error):r(p)},f=function(){m(),s(He('Error loading image "'.concat(e.src,'".')))},n=function(){m(),s(He('Image "'.concat(e.src,'" loading aborted')))},m=function(){e.removeEventListener("load",i),e.removeEventListener("error",f),e.removeEventListener("abort",n)};e.addEventListener("load",i),e.addEventListener("error",f),e.addEventListener("abort",n)})},t}();const ba=za({width:0,height:0,mobile:!1});function Qt(t,e,a){const l=t.slice();return l[11]=e[a],l}function Yt(t,e,a){const l=t.slice();return l[14]=e[a],l}function $t(t,e,a){const l=t.slice();return l[11]=e[a],l}function xt(t){let e,a=t[11]+"",l,r;return{c(){e=h("div"),l=F(a),r=C(),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=w(e);l=D(i,a),r=M(i),i.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){x(s,e,i),o(e,l),o(e,r)},p(s,i){i&32&&a!==(a=s[11]+"")&&O(l,a)},d(s){s&&d(e)}}}function ea(t){let e,a=t[14].toUpperCase()+"",l;return{c(){e=h("div"),l=F(a),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=w(e);l=D(s,a),s.forEach(d),this.h()},h(){u(e,"class","badge variant-filled-surface")},m(r,s){x(r,e,s),o(e,l)},p(r,s){s&1&&a!==(a=r[14].toUpperCase()+"")&&O(l,a)},d(r){r&&d(e)}}}function ta(t){let e,a=t[11]+"",l,r;return{c(){e=h("div"),l=F(a),r=C(),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=w(e);l=D(i,a),r=M(i),i.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){x(s,e,i),o(e,l),o(e,r)},p(s,i){i&32&&a!==(a=s[11]+"")&&O(l,a)},d(s){s&&d(e)}}}function gl(t){var Et,It;let e,a,l,r,s,i,f,n,m,p=t[0].name+"",I,E,g,b,T,S=t[0].manufacturer+"",B,X,V,R,z=t[0].year+"",A,Q,P,U,ee=(((Et=t[0].designers)==null?void 0:Et.join(", "))||"-")+"",y,j,W,te,J,ae,q,je="Updated at",me,Te,ge=Rt(t[0].lastCreatedAt??t[0].updatedAt)+"",de,we,Ke,nt,oe,he,ot="Type",ft,Y,Pe=(t[0].type||"-")+"",Le,ut,Z,ve,pe,Be,ie,fe,Ee,ze=t[0].name+"",Ie,Ue,Qe,_e,ue=t[0].manufacturer+"",Ce,Ye,We=t[0].year+"",Me,$e,ct,Fe,be=(((It=t[0].designers)==null?void 0:It.join(", "))||"")+"",De,Ge,xe,dt,H=Oe(t[5]),$=[];for(let c=0;c<H.length;c+=1)$[c]=xt($t(t,H,c));let qe=Oe(t[0].theme||[]),L=[];for(let c=0;c<qe.length;c+=1)L[c]=ea(Yt(t,qe,c));let Ne=Oe(t[5]),le=[];for(let c=0;c<Ne.length;c+=1)le[c]=ta(Qt(t,Ne,c));return{c(){e=h("a"),a=h("div"),l=h("img"),i=C(),f=h("div"),n=h("div"),m=h("p"),I=F(p),E=C();for(let c=0;c<$.length;c+=1)$[c].c();g=C(),b=h("div"),T=h("p"),B=F(S),X=C(),V=h("p"),R=F("("),A=F(z),Q=F(")"),P=C(),U=h("p"),y=F(ee),j=C(),W=h("div");for(let c=0;c<L.length;c+=1)L[c].c();te=C(),J=h("div"),ae=h("div"),q=h("p"),q.textContent=je,me=C(),Te=h("p"),de=F(ge),we=C(),Ke=h("div"),nt=C(),oe=h("div"),he=h("p"),he.textContent=ot,ft=C(),Y=h("p"),Le=F(Pe),ut=C(),Z=h("img"),Be=C(),ie=h("div"),fe=h("div"),Ee=h("p"),Ie=F(ze),Ue=C();for(let c=0;c<le.length;c+=1)le[c].c();Qe=C(),_e=h("p"),Ce=F(ue),Ye=F(" ("),Me=F(We),$e=F(")"),ct=C(),Fe=h("p"),De=F(be),this.h()},l(c){e=v(c,"A",{class:!0,href:!0,id:!0});var _=w(e);a=v(_,"DIV",{class:!0,style:!0});var G=w(a);l=v(G,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=M(G),f=v(G,"DIV",{class:!0,style:!0});var N=w(f);n=v(N,"DIV",{class:!0});var k=w(n);m=v(k,"P",{class:!0});var ne=w(m);I=D(ne,p),ne.forEach(d),E=M(k);for(let ye=0;ye<$.length;ye+=1)$[ye].l(k);k.forEach(d),g=M(N),b=v(N,"DIV",{class:!0});var Ve=w(b);T=v(Ve,"P",{class:!0});var Ae=w(T);B=D(Ae,S),Ae.forEach(d),X=M(Ve),V=v(Ve,"P",{});var Se=w(V);R=D(Se,"("),A=D(Se,z),Q=D(Se,")"),Se.forEach(d),Ve.forEach(d),P=M(N),U=v(N,"P",{class:!0});var ht=w(U);y=D(ht,ee),ht.forEach(d),j=M(N),W=v(N,"DIV",{class:!0});var kt=w(W);for(let ye=0;ye<L.length;ye+=1)L[ye].l(kt);kt.forEach(d),te=M(N),J=v(N,"DIV",{class:!0});var Xe=w(J);ae=v(Xe,"DIV",{class:!0});var Ze=w(ae);q=v(Ze,"P",{class:!0,"data-svelte-h":!0}),Ht(q)!=="svelte-g6tq99"&&(q.textContent=je),me=M(Ze),Te=v(Ze,"P",{class:!0});var yt=w(Te);de=D(yt,ge),yt.forEach(d),Ze.forEach(d),we=M(Xe),Ke=v(Xe,"DIV",{class:!0}),w(Ke).forEach(d),nt=M(Xe),oe=v(Xe,"DIV",{class:!0});var ke=w(oe);he=v(ke,"P",{class:!0,"data-svelte-h":!0}),Ht(he)!=="svelte-1h1g7sd"&&(he.textContent=ot),ft=M(ke),Y=v(ke,"P",{class:!0});var vt=w(Y);Le=D(vt,Pe),vt.forEach(d),ke.forEach(d),Xe.forEach(d),N.forEach(d),G.forEach(d),ut=M(_),Z=v(_,"IMG",{src:!0,alt:!0,class:!0}),Be=M(_),ie=v(_,"DIV",{class:!0});var Re=w(ie);fe=v(Re,"DIV",{class:!0});var mt=w(fe);Ee=v(mt,"P",{class:!0});var et=w(Ee);Ie=D(et,ze),et.forEach(d),Ue=M(mt);for(let ye=0;ye<le.length;ye+=1)le[ye].l(mt);mt.forEach(d),Qe=M(Re),_e=v(Re,"P",{});var tt=w(_e);Ce=D(tt,ue),Ye=D(tt," ("),Me=D(tt,We),$e=D(tt,")"),tt.forEach(d),ct=M(Re),Fe=v(Re,"P",{class:!0});var zt=w(Fe);De=D(zt,be),zt.forEach(d),Re.forEach(d),_.forEach(d),this.h()},h(){ce(l.src,r=t[2])||u(l,"src",r),u(l,"alt",s=t[0].id),at(l,"height","36%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),u(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex gap-2 max-w-full"),u(T,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(b,"class","flex gap-1 text-center max-w-full"),u(U,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(W,"class","flex gap-2 mt-4 flex-wrap"),u(q,"class","text-xs font-bold uppercase opacity-40"),u(Te,"class",""),u(ae,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(Ke,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(he,"class","text-xs font-bold uppercase opacity-40"),u(Y,"class",""),u(oe,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(J,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),at(f,"top","calc(90% - 13rem)"),u(a,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-1jt2e09"),at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[3]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),se(a,"hovered",t[4]),ce(Z.src,ve=t[2])||u(Z,"src",ve),u(Z,"alt",pe=t[0].name),u(Z,"class","card pinImage bg-surface-300-600-token shadow-black svelte-1jt2e09"),se(Z,"hovered",t[4]),se(Z,"shadow-lg",t[4]),u(Ee,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(fe,"class","flex gap-2"),u(Fe,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(ie,"class","info flex flex-col py-4 svelte-1jt2e09"),se(ie,"opacity-0",t[4]),u(e,"class","wrapper relative z-0"),u(e,"href",t[1]),u(e,"id",Ge=t[0].id)},m(c,_){x(c,e,_),o(e,a),o(a,l),o(a,i),o(a,f),o(f,n),o(n,m),o(m,I),o(n,E);for(let G=0;G<$.length;G+=1)$[G]&&$[G].m(n,null);o(f,g),o(f,b),o(b,T),o(T,B),o(b,X),o(b,V),o(V,R),o(V,A),o(V,Q),o(f,P),o(f,U),o(U,y),o(f,j),o(f,W);for(let G=0;G<L.length;G+=1)L[G]&&L[G].m(W,null);o(f,te),o(f,J),o(J,ae),o(ae,q),o(ae,me),o(ae,Te),o(Te,de),o(J,we),o(J,Ke),o(J,nt),o(J,oe),o(oe,he),o(oe,ft),o(oe,Y),o(Y,Le),o(e,ut),o(e,Z),o(e,Be),o(e,ie),o(ie,fe),o(fe,Ee),o(Ee,Ie),o(fe,Ue);for(let G=0;G<le.length;G+=1)le[G]&&le[G].m(fe,null);o(ie,Qe),o(ie,_e),o(_e,Ce),o(_e,Ye),o(_e,Me),o(_e,$e),o(ie,ct),o(ie,Fe),o(Fe,De),xe||(dt=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],xe=!0)},p(c,[_]){var G,N;if(_&4&&!ce(l.src,r=c[2])&&u(l,"src",r),_&1&&s!==(s=c[0].id)&&u(l,"alt",s),_&1&&p!==(p=c[0].name+"")&&O(I,p),_&32){H=Oe(c[5]);let k;for(k=0;k<H.length;k+=1){const ne=$t(c,H,k);$[k]?$[k].p(ne,_):($[k]=xt(ne),$[k].c(),$[k].m(n,null))}for(;k<$.length;k+=1)$[k].d(1);$.length=H.length}if(_&1&&S!==(S=c[0].manufacturer+"")&&O(B,S),_&1&&z!==(z=c[0].year+"")&&O(A,z),_&1&&ee!==(ee=(((G=c[0].designers)==null?void 0:G.join(", "))||"-")+"")&&O(y,ee),_&1){qe=Oe(c[0].theme||[]);let k;for(k=0;k<qe.length;k+=1){const ne=Yt(c,qe,k);L[k]?L[k].p(ne,_):(L[k]=ea(ne),L[k].c(),L[k].m(W,null))}for(;k<L.length;k+=1)L[k].d(1);L.length=qe.length}if(_&1&&ge!==(ge=Rt(c[0].lastCreatedAt??c[0].updatedAt)+"")&&O(de,ge),_&1&&Pe!==(Pe=(c[0].type||"-")+"")&&O(Le,Pe),_&72&&at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[6]?100:900)+")) "+(c[6]?80:60)+"%, "+(c[3]||`rgb(var(--color-surface-${c[6]?100:600})`)+")",1),_&16&&se(a,"hovered",c[4]),_&4&&!ce(Z.src,ve=c[2])&&u(Z,"src",ve),_&1&&pe!==(pe=c[0].name)&&u(Z,"alt",pe),_&16&&se(Z,"hovered",c[4]),_&16&&se(Z,"shadow-lg",c[4]),_&1&&ze!==(ze=c[0].name+"")&&O(Ie,ze),_&32){Ne=Oe(c[5]);let k;for(k=0;k<Ne.length;k+=1){const ne=Qt(c,Ne,k);le[k]?le[k].p(ne,_):(le[k]=ta(ne),le[k].c(),le[k].m(fe,null))}for(;k<le.length;k+=1)le[k].d(1);le.length=Ne.length}_&1&&ue!==(ue=c[0].manufacturer+"")&&O(Ce,ue),_&1&&We!==(We=c[0].year+"")&&O(Me,We),_&1&&be!==(be=(((N=c[0].designers)==null?void 0:N.join(", "))||"")+"")&&O(De,be),_&16&&se(ie,"opacity-0",c[4]),_&2&&u(e,"href",c[1]),_&1&&Ge!==(Ge=c[0].id)&&u(e,"id",Ge)},i:Ft,o:Ft,d(c){c&&d(e),Ct($,c),Ct(L,c),Ct(le,c),xe=!1,oa(dt)}}}function pl(t,e,a){let l,r,s,i;lt(t,ba,b=>a(9,s=b)),lt(t,ma,b=>a(6,i=b));const f=new _a;let{file:n=ha}=e,{href:m=""}=e,p="",I=!1;const E=()=>{s.mobile||a(4,I=!0)},g=()=>{s.mobile||a(4,I=!1)};return t.$$set=b=>{"file"in b&&a(0,n=b.file),"href"in b&&a(1,m=b.href)},t.$$.update=()=>{t.$$.dirty&1&&a(2,l=Pa(n)),t.$$.dirty&1&&a(5,r=Array.from(new Set((n.tableFiles||[]).map(b=>b.tableFormat).filter(b=>!!b)))),t.$$.dirty&4&&l&&f.getColorAsync(l).then(b=>{b&&a(3,p=b.rgb)})},[n,m,l,p,I,r,i,E,g]}class _l extends st{constructor(e){super(),it(this,e,pl,gl,rt,{file:0,href:1})}}const St=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,aa={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500",VLM:"bg-lime-500"},la={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",VLM:"VPX Light Mapper -- enhanced lighting",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function bl(t){let e;const a=t[4].default,l=fa(a,t,t[3],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,s){l&&l.m(r,s),e=!0},p(r,s){l&&l.p&&(!e||s&8)&&ua(l,a,r,r[3],e?da(a,r[3],s,null):ca(r[3]),null)},i(r){e||(K(l,r),e=!0)},o(r){re(l,r),e=!1},d(r){l&&l.d(r)}}}function wl(t){let e,a,l,r,s,i,f,n,m,p;const I=t[4].default,E=fa(I,t,t[3],null);return{c(){e=h("div"),E&&E.c(),a=C(),l=h("div"),r=h("p"),s=F(t[0]),i=C(),f=h("div"),this.h()},l(g){e=v(g,"DIV",{});var b=w(e);E&&E.l(b),b.forEach(d),a=M(g),l=v(g,"DIV",{class:!0,"data-popup":!0});var T=w(l);r=v(T,"P",{});var S=w(r);s=D(S,t[0]),S.forEach(d),i=M(T),f=v(T,"DIV",{class:!0}),w(f).forEach(d),T.forEach(d),this.h()},h(){u(f,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),u(l,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),u(l,"data-popup",t[1])},m(g,b){x(g,e,b),E&&E.m(e,null),x(g,a,b),x(g,l,b),o(l,r),o(r,s),o(l,i),o(l,f),n=!0,m||(p=Ea(Ca.call(null,e,t[2])),m=!0)},p(g,b){E&&E.p&&(!n||b&8)&&ua(E,I,g,g[3],n?da(I,g[3],b,null):ca(g[3]),null),(!n||b&1)&&O(s,g[0])},i(g){n||(K(E,g),n=!0)},o(g){re(E,g),n=!1},d(g){g&&(d(e),d(a),d(l)),E&&E.d(g),m=!1,p()}}}function El(t){let e,a,l,r;const s=[wl,bl],i=[];function f(n,m){return n[0]?0:1}return e=f(t),a=i[e]=s[e](t),{c(){a.c(),l=wt()},l(n){a.l(n),l=wt()},m(n,m){i[e].m(n,m),x(n,l,m),r=!0},p(n,[m]){let p=e;e=f(n),e===p?i[e].p(n,m):(Dt(),re(i[p],1,1,()=>{i[p]=null}),Vt(),a=i[e],a?a.p(n,m):(a=i[e]=s[e](n),a.c()),K(a,1),a.m(l.parentNode,l))},i(n){r||(K(a),r=!0)},o(n){re(a),r=!1},d(n){n&&d(l),i[e].d(n)}}}function Il(t,e,a){let{$$slots:l={},$$scope:r}=e,{content:s=""}=e;const i=Ua(10),f={event:"hover",target:i,placement:"top"};return t.$$set=n=>{"content"in n&&a(0,s=n.content),"$$scope"in n&&a(3,r=n.$$scope)},[s,i,f,r,l]}class kl extends st{constructor(e){super(),it(this,e,Il,El,rt,{content:0})}}function ra(t,e,a){const l=t.slice();return l[1]=e[a],l}function sa(t){let e,a,l=Oe(t[0]||[]),r=[];for(let i=0;i<l.length;i+=1)r[i]=ia(ra(t,l,i));const s=i=>re(r[i],1,1,()=>{r[i]=null});return{c(){e=h("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var f=w(e);for(let n=0;n<r.length;n+=1)r[n].l(f);f.forEach(d),this.h()},h(){u(e,"class","flex gap-1 flex-wrap")},m(i,f){x(i,e,f);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);a=!0},p(i,f){if(f&1){l=Oe(i[0]||[]);let n;for(n=0;n<l.length;n+=1){const m=ra(i,l,n);r[n]?(r[n].p(m,f),K(r[n],1)):(r[n]=ia(m),r[n].c(),K(r[n],1),r[n].m(e,null))}for(Dt(),n=l.length;n<r.length;n+=1)s(n);Vt()}},i(i){if(!a){for(let f=0;f<l.length;f+=1)K(r[f]);a=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)re(r[f]);a=!1},d(i){i&&d(e),Ct(r,i)}}}function yl(t){let e,a,l,r=t[1].toUpperCase()+"",s,i;return{c(){e=h("div"),a=h("span"),s=F(r),i=C(),this.h()},l(f){e=v(f,"DIV",{class:!0});var n=w(e);a=v(n,"SPAN",{class:!0}),w(a).forEach(d),s=D(n,r),n.forEach(d),i=M(f),this.h()},h(){u(a,"class",l="rounded-full h-2 w-2 "+(aa[t[1]]||"bg-slate-500")+" mr-2"),u(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(f,n){x(f,e,n),o(e,a),o(e,s),x(f,i,n)},p(f,n){n&1&&l!==(l="rounded-full h-2 w-2 "+(aa[f[1]]||"bg-slate-500")+" mr-2")&&u(a,"class",l),n&1&&r!==(r=f[1].toUpperCase()+"")&&O(s,r)},d(f){f&&(d(e),d(i))}}}function ia(t){let e,a;return e=new kl({props:{content:la[t[1]],$$slots:{default:[yl]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},l(l){pt(e.$$.fragment,l)},m(l,r){_t(e,l,r),a=!0},p(l,r){const s={};r&1&&(s.content=la[l[1]]),r&17&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){a||(K(e.$$.fragment,l),a=!0)},o(l){re(e.$$.fragment,l),a=!1},d(l){bt(e,l)}}}function Tl(t){var r;let e,a,l=((r=t[0])==null?void 0:r.length)&&sa(t);return{c(){l&&l.c(),e=wt()},l(s){l&&l.l(s),e=wt()},m(s,i){l&&l.m(s,i),x(s,e,i),a=!0},p(s,[i]){var f;(f=s[0])!=null&&f.length?l?(l.p(s,i),i&1&&K(l,1)):(l=sa(s),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Dt(),re(l,1,1,()=>{l=null}),Vt())},i(s){a||(K(l),a=!0)},o(s){re(l),a=!1},d(s){s&&d(e),l&&l.d(s)}}}function Pl(t,e,a){let{data:l=[]}=e;return t.$$set=r=>{"data"in r&&a(0,l=r.data)},[l]}class Cl extends st{constructor(e){super(),it(this,e,Pl,Tl,rt,{data:0})}}function na(t){let e,a,l=t[0].edition+"",r;return{c(){e=h("div"),a=h("p"),r=F(l),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=w(e);a=v(i,"P",{class:!0});var f=w(a);r=D(f,l),f.forEach(d),i.forEach(d),this.h()},h(){u(a,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(e,"class","flex gap-2 max-w-full")},m(s,i){x(s,e,i),o(e,a),o(a,r)},p(s,i){i&1&&l!==(l=s[0].edition+"")&&O(r,l)},d(s){s&&d(e)}}}function Ml(t){var Ne,le,Et,It;let e,a,l,r,s,i,f,n,m,p=((Ne=t[0].game)==null?void 0:Ne.name)+"",I,E,g,b=t[0].tableFormat+"",T,S,B,X,V,R,z,A=t[4].manufacturer+"",Q,P,U,ee,y=t[4].year+"",j,W,te,J,ae=(((le=t[0].authors)==null?void 0:le.join(", "))||"-")+"",q,je,me,Te,ge,de,we,Ke="Updated at",nt,oe,he=Rt(t[0].createdAt??t[0].updatedAt)+"",ot,ft,Y,Pe,Le,ut,Z,ve,pe,Be=((Et=t[0].game)==null?void 0:Et.name)+"",ie,fe=t[0].edition?` ${t[0].edition}`:"",Ee,ze,Ie,Ue=t[0].tableFormat+"",Qe,_e,ue,Ce=t[4].manufacturer+"",Ye,We,Me=t[4].year+"",$e,ct,Fe,be,De=((It=t[0].authors)==null?void 0:It.join(", "))+"",Ge,xe,dt,H,$,qe;B=new Lt({props:{game:t[4]}});let L=t[0].edition&&na(t);return me=new Cl({props:{data:t[0].features}}),{c(){e=h("a"),a=h("div"),l=h("img"),i=C(),f=h("div"),n=h("div"),m=h("p"),I=F(p),E=C(),g=h("div"),T=F(b),S=C(),gt(B.$$.fragment),X=C(),L&&L.c(),V=C(),R=h("div"),z=h("p"),Q=F(A),P=C(),U=h("p"),ee=F("("),j=F(y),W=F(")"),te=C(),J=h("p"),q=F(ae),je=C(),gt(me.$$.fragment),Te=C(),ge=h("div"),de=h("div"),we=h("p"),we.textContent=Ke,nt=C(),oe=h("p"),ot=F(he),ft=C(),Y=h("img"),ut=C(),Z=h("div"),ve=h("div"),pe=h("p"),ie=F(Be),Ee=F(fe),ze=C(),Ie=h("div"),Qe=F(Ue),_e=C(),ue=h("p"),Ye=F(Ce),We=F(" ("),$e=F(Me),ct=F(")"),Fe=C(),be=h("p"),Ge=F(De),this.h()},l(c){e=v(c,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var _=w(e);a=v(_,"DIV",{style:!0,class:!0});var G=w(a);l=v(G,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=M(G),f=v(G,"DIV",{class:!0,style:!0});var N=w(f);n=v(N,"DIV",{class:!0});var k=w(n);m=v(k,"P",{class:!0});var ne=w(m);I=D(ne,p),ne.forEach(d),E=M(k),g=v(k,"DIV",{class:!0});var Ve=w(g);T=D(Ve,b),Ve.forEach(d),S=M(k),pt(B.$$.fragment,k),k.forEach(d),X=M(N),L&&L.l(N),V=M(N),R=v(N,"DIV",{class:!0});var Ae=w(R);z=v(Ae,"P",{class:!0});var Se=w(z);Q=D(Se,A),Se.forEach(d),P=M(Ae),U=v(Ae,"P",{});var ht=w(U);ee=D(ht,"("),j=D(ht,y),W=D(ht,")"),ht.forEach(d),Ae.forEach(d),te=M(N),J=v(N,"P",{class:!0});var kt=w(J);q=D(kt,ae),kt.forEach(d),je=M(N),pt(me.$$.fragment,N),Te=M(N),ge=v(N,"DIV",{class:!0});var Xe=w(ge);de=v(Xe,"DIV",{class:!0});var Ze=w(de);we=v(Ze,"P",{class:!0,"data-svelte-h":!0}),Ht(we)!=="svelte-g6tq99"&&(we.textContent=Ke),nt=M(Ze),oe=v(Ze,"P",{class:!0});var yt=w(oe);ot=D(yt,he),yt.forEach(d),Ze.forEach(d),Xe.forEach(d),N.forEach(d),G.forEach(d),ft=M(_),Y=v(_,"IMG",{src:!0,alt:!0,class:!0}),ut=M(_),Z=v(_,"DIV",{class:!0});var ke=w(Z);ve=v(ke,"DIV",{class:!0});var vt=w(ve);pe=v(vt,"P",{class:!0});var Re=w(pe);ie=D(Re,Be),Ee=D(Re,fe),Re.forEach(d),ze=M(vt),Ie=v(vt,"DIV",{class:!0});var mt=w(Ie);Qe=D(mt,Ue),mt.forEach(d),vt.forEach(d),_e=M(ke),ue=v(ke,"P",{});var et=w(ue);Ye=D(et,Ce),We=D(et," ("),$e=D(et,Me),ct=D(et,")"),et.forEach(d),Fe=M(ke),be=v(ke,"P",{class:!0});var tt=w(be);Ge=D(tt,De),tt.forEach(d),ke.forEach(d),_.forEach(d),this.h()},h(){var c;ce(l.src,r=t[0].imgUrl||St)||u(l,"src",r),u(l,"alt",s=t[0].id),at(l,"height","35%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),u(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(g,"class","badge badge-glass my-auto py-0.5 px-1"),u(n,"class","flex gap-2 max-w-full"),u(z,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(R,"class","flex gap-1 text-center"),u(J,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),u(we,"class","text-xs font-bold uppercase opacity-40"),u(oe,"class",""),u(de,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(ge,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),at(f,"top","calc(88.5% - 14rem)"),at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),se(a,"hovered",t[3]),ce(Y.src,Pe=t[0].imgUrl||St)||u(Y,"src",Pe),u(Y,"alt",Le=t[0].id),u(Y,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),se(Y,"hovered",t[3]),se(Y,"shadow-lg",t[3]),u(pe,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(Ie,"class","badge badge-glass my-auto py-0.5 px-1"),u(ve,"class","flex gap-2"),u(be,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(Z,"class","flex flex-col py-4 info svelte-gfpzxg"),se(Z,"opacity-0",t[3]),u(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),u(e,"href",t[1]),u(e,"id",xe=t[0].id),u(e,"data-gameid",dt=(c=t[0].game)==null?void 0:c.id),u(e,"data-filetype","tableFiles")},m(c,_){x(c,e,_),o(e,a),o(a,l),o(a,i),o(a,f),o(f,n),o(n,m),o(m,I),o(n,E),o(n,g),o(g,T),o(n,S),_t(B,n,null),o(f,X),L&&L.m(f,null),o(f,V),o(f,R),o(R,z),o(z,Q),o(R,P),o(R,U),o(U,ee),o(U,j),o(U,W),o(f,te),o(f,J),o(J,q),o(f,je),_t(me,f,null),o(f,Te),o(f,ge),o(ge,de),o(de,we),o(de,nt),o(de,oe),o(oe,ot),o(e,ft),o(e,Y),o(e,ut),o(e,Z),o(Z,ve),o(ve,pe),o(pe,ie),o(pe,Ee),o(ve,ze),o(ve,Ie),o(Ie,Qe),o(Z,_e),o(Z,ue),o(ue,Ye),o(ue,We),o(ue,$e),o(ue,ct),o(Z,Fe),o(Z,be),o(be,Ge),H=!0,$||(qe=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],$=!0)},p(c,[_]){var k,ne,Ve,Ae,Se;(!H||_&1&&!ce(l.src,r=c[0].imgUrl||St))&&u(l,"src",r),(!H||_&1&&s!==(s=c[0].id))&&u(l,"alt",s),(!H||_&1)&&p!==(p=((k=c[0].game)==null?void 0:k.name)+"")&&O(I,p),(!H||_&1)&&b!==(b=c[0].tableFormat+"")&&O(T,b);const G={};_&16&&(G.game=c[4]),B.$set(G),c[0].edition?L?L.p(c,_):(L=na(c),L.c(),L.m(f,V)):L&&(L.d(1),L=null),(!H||_&16)&&A!==(A=c[4].manufacturer+"")&&O(Q,A),(!H||_&16)&&y!==(y=c[4].year+"")&&O(j,y),(!H||_&1)&&ae!==(ae=(((ne=c[0].authors)==null?void 0:ne.join(", "))||"-")+"")&&O(q,ae);const N={};_&1&&(N.data=c[0].features),me.$set(N),(!H||_&1)&&he!==(he=Rt(c[0].createdAt??c[0].updatedAt)+"")&&O(ot,he),(!H||_&36)&&at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[5]?100:900)+")) "+(c[5]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[5]?100:600})`)+")",1),(!H||_&8)&&se(a,"hovered",c[3]),(!H||_&1&&!ce(Y.src,Pe=c[0].imgUrl||St))&&u(Y,"src",Pe),(!H||_&1&&Le!==(Le=c[0].id))&&u(Y,"alt",Le),(!H||_&8)&&se(Y,"hovered",c[3]),(!H||_&8)&&se(Y,"shadow-lg",c[3]),(!H||_&1)&&Be!==(Be=((Ve=c[0].game)==null?void 0:Ve.name)+"")&&O(ie,Be),(!H||_&1)&&fe!==(fe=c[0].edition?` ${c[0].edition}`:"")&&O(Ee,fe),(!H||_&1)&&Ue!==(Ue=c[0].tableFormat+"")&&O(Qe,Ue),(!H||_&16)&&Ce!==(Ce=c[4].manufacturer+"")&&O(Ye,Ce),(!H||_&16)&&Me!==(Me=c[4].year+"")&&O($e,Me),(!H||_&1)&&De!==(De=((Ae=c[0].authors)==null?void 0:Ae.join(", "))+"")&&O(Ge,De),(!H||_&8)&&se(Z,"opacity-0",c[3]),(!H||_&2)&&u(e,"href",c[1]),(!H||_&1&&xe!==(xe=c[0].id))&&u(e,"id",xe),(!H||_&1&&dt!==(dt=(Se=c[0].game)==null?void 0:Se.id))&&u(e,"data-gameid",dt)},i(c){H||(K(B.$$.fragment,c),K(me.$$.fragment,c),H=!0)},o(c){re(B.$$.fragment,c),re(me.$$.fragment,c),H=!1},d(c){c&&d(e),bt(B),L&&L.d(),bt(me),$=!1,oa(qe)}}}function Fl(t,e,a){let l,r,s,i;lt(t,ba,T=>a(10,r=T)),lt(t,ma,T=>a(5,i=T));const f=new _a,{dbStore:n}=jt;lt(t,n,T=>a(9,s=T));let{file:m=ya}=e,{href:p=""}=e,I="",E=!1;const g=()=>{r.mobile||a(3,E=!0)},b=()=>{r.mobile||a(3,E=!1)};return t.$$set=T=>{"file"in T&&a(0,m=T.file),"href"in T&&a(1,p=T.href)},t.$$.update=()=>{var T;t.$$.dirty&513&&a(4,l=(T=m==null?void 0:m.game)!=null&&T.id?s[m.game.id]:ha),t.$$.dirty&1&&m.imgUrl&&f.getColorAsync(m.imgUrl).then(S=>{S&&a(2,I=S.rgb)})},[m,p,I,E,l,i,n,g,b,s]}class Dl extends st{constructor(e){super(),it(this,e,Fl,Ml,rt,{file:0,href:1})}}function Vl(t){let e,a;return e=new va({props:{icon:Va,title:t[0].title,class:"aspectTable hover:brightness-125 hover:scale-110 transition-all text-[146px]"}}),{c(){gt(e.$$.fragment)},l(l){pt(e.$$.fragment,l)},m(l,r){_t(e,l,r),a=!0},p(l,r){const s={};r&1&&(s.title=l[0].title),e.$set(s)},i(l){a||(K(e.$$.fragment,l),a=!0)},o(l){re(e.$$.fragment,l),a=!1},d(l){bt(e,l)}}}function Al(t){let e,a,l,r;return{c(){e=h("img"),this.h()},l(s){e=v(s,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),this.h()},h(){u(e,"alt",a=t[0].youtubeId),u(e,"title",l=t[0].title),u(e,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),u(e,"width","352"),ce(e.src,r=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||u(e,"src",r),se(e,"glow",t[2])},m(s,i){x(s,e,i)},p(s,i){i&1&&a!==(a=s[0].youtubeId)&&u(e,"alt",a),i&1&&l!==(l=s[0].title)&&u(e,"title",l),i&1&&!ce(e.src,r=`https://img.youtube.com/vi/${s[0].youtubeId}/0.jpg`)&&u(e,"src",r),i&4&&se(e,"glow",s[2])},i:Ft,o:Ft,d(s){s&&d(e)}}}function Sl(t){var X;let e,a,l,r,s,i,f=t[0].title+"",n,m,p,I=((X=t[0].authors)==null?void 0:X.join(", "))+"",E,g,b;const T=[Al,Vl],S=[];function B(V,R){return V[0].youtubeId?0:1}return a=B(t),l=S[a]=T[a](t),{c(){e=h("a"),l.c(),r=C(),s=h("div"),i=h("p"),n=F(f),m=C(),p=h("p"),E=F(I),this.h()},l(V){e=v(V,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var R=w(e);l.l(R),r=M(R),s=v(R,"DIV",{class:!0});var z=w(s);i=v(z,"P",{class:!0});var A=w(i);n=D(A,f),A.forEach(d),m=M(z),p=v(z,"P",{class:!0});var Q=w(p);E=D(Q,I),Q.forEach(d),z.forEach(d),R.forEach(d),this.h()},h(){u(i,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),u(p,"class","text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),u(s,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",g=t[0].id),u(e,"data-gameid",t[3]),u(e,"data-filetype","b2sFiles")},m(V,R){x(V,e,R),S[a].m(e,null),o(e,r),o(e,s),o(s,i),o(i,n),o(s,m),o(s,p),o(p,E),b=!0},p(V,[R]){var A;let z=a;a=B(V),a===z?S[a].p(V,R):(Dt(),re(S[z],1,1,()=>{S[z]=null}),Vt(),l=S[a],l?l.p(V,R):(l=S[a]=T[a](V),l.c()),K(l,1),l.m(e,r)),(!b||R&1)&&f!==(f=V[0].title+"")&&O(n,f),(!b||R&1)&&I!==(I=((A=V[0].authors)==null?void 0:A.join(", "))+"")&&O(E,I),(!b||R&2)&&u(e,"href",V[1]),(!b||R&1&&g!==(g=V[0].id))&&u(e,"id",g),(!b||R&8)&&u(e,"data-gameid",V[3])},i(V){b||(K(l),b=!0)},o(V){re(l),b=!1},d(V){V&&d(e),S[a].d()}}}function Rl(t,e,a){let{file:l=Ta}=e,{href:r=""}=e,{active:s=!1}=e,{gameId:i}=e;return t.$$set=f=>{"file"in f&&a(0,l=f.file),"href"in f&&a(1,r=f.href),"active"in f&&a(2,s=f.active),"gameId"in f&&a(3,i=f.gameId)},[l,r,s,i]}class Hl extends st{constructor(e){super(),it(this,e,Rl,Sl,rt,{file:0,href:1,active:2,gameId:3})}}const Zl={game:{route:"games",name:"Games",component:_l},tableFiles:{route:"tables",name:"Tables",component:Dl},b2sFiles:{route:"b2s",name:"Backglasses",component:Xa},tutorialFiles:{route:"tutorials",name:"Tutorials",component:Hl,icon:Wt},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Je,icon:Aa},romFiles:{route:"roms",name:"Roms",component:Je,icon:Sa},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:Je,icon:Ra},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Je,icon:Ha},topperFiles:{route:"toppers",name:"Toppers",component:Je,icon:Oa},povFiles:{route:"pov",name:"POVs",component:Je,icon:ja},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Je,icon:La},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Je,icon:Ba},ruleFiles:{route:"rules",name:"Rules",component:Je,icon:Wt}};export{Cl as F,St as P,kl as T,ba as a,_a as b,Dl as c,Zl as m};
