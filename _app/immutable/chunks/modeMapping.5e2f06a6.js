import{w as vt,d as Ze}from"./index.c772b3f9.js";import{I as nr,v as ar,s as mt,f as M,a as q,l as X,g as T,h as O,c as R,m as J,d as C,O as me,j as g,i as pe,A as v,n as ee,r as Pt,K as Qe,Z as Ot,L as Xe,k as oe,G as ht,y as Or,R as xt,Y as At,a0 as kt,p as xr,P as Ar}from"./scheduler.abef909c.js";import{a as Ye,t as at,S as gt,i as pt,j as Je,g as kr,c as Ur,b as Ir,d as zr,m as Wr,e as Vr}from"./index.d055a64f.js";function Ke(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function en(r,e){at(r,1,1,()=>{e.delete(r.key)})}function ci(r,e){r.f(),en(r,e)}function di(r,e,t,n,a,i,o,l,u,f,c,m){let s=r.length,d=i.length,h=s;const p={};for(;h--;)p[r[h].key]=h;const w=[],_=new Map,y=new Map,b=[];for(h=d;h--;){const E=m(a,i,h),P=t(E);let S=o.get(P);S?n&&b.push(()=>S.p(E,e)):(S=f(P,E),S.c()),_.set(P,w[h]=S),P in p&&y.set(P,Math.abs(h-p[P]))}const F=new Set,A=new Set;function k(E){Ye(E,1),E.m(l,c),o.set(E.key,E),c=E.first,d--}for(;s&&d;){const E=w[d-1],P=r[s-1],S=E.key,L=P.key;E===P?(c=E.first,s--,d--):_.has(L)?!o.has(S)||F.has(S)?k(E):A.has(L)?s--:y.get(S)>y.get(L)?(A.add(S),k(E)):(F.add(L),s--):(u(P,o),s--)}for(;s--;){const E=r[s];_.has(E.key)||u(E,o)}for(;d;)k(w[d-1]);return nr(b),w}function hi(r,e){const t={},n={},a={$$scope:1};let i=r.length;for(;i--;){const o=r[i],l=e[i];if(l){for(const u in o)u in l||(n[u]=1);for(const u in l)a[u]||(t[u]=l[u],a[u]=1);r[i]=l}else for(const u in o)a[u]=1}for(const o in n)o in t||(t[o]=void 0);return t}function vi(r){return typeof r=="object"&&r!==null?r:{}}function mi(r){return r<.5?4*r*r*r:.5*Math.pow(2*r-2,3)+1}function gi(r){const e=r-1;return e*e*e+1}function Ut(r){return r/=.5,r<1?.5*r*r:(r--,-.5*(r*(r-2)-1))}const It=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],Lr={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},Bt={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},tn={authors:[],id:"",updatedAt:0,urls:[]},rn={authors:[],id:"",updatedAt:0,urls:[]};var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ie.apply(this,arguments)};function nn(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(c){try{f(n.next(c))}catch(m){o(m)}}function u(c){try{f(n.throw(c))}catch(m){o(m)}}function f(c){c.done?i(c.value):a(c.value).then(l,u)}f((n=n.apply(r,e||[])).next())})}function an(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Q(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}var on="ENTRIES",Yr="KEYS",Br="VALUES",ve="",qt=function(){function r(e,t){var n=e._tree,a=Array.from(n.keys());this.set=e,this._type=t,this._path=a.length>0?[{node:n,keys:a}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=ut(this._path),t=e.node,n=e.keys;if(ut(n)===ve)return{done:!1,value:this.result()};var a=t.get(ut(n));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=ut(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return ut(t)}).filter(function(e){return e!==ve}).join("")},r.prototype.value=function(){return ut(this._path).node.get(ve)},r.prototype.result=function(){switch(this._type){case Br:return this.value();case Yr:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),ut=function(r){return r[r.length-1]},ln=function(r,e,t){var n=new Map;if(e===void 0)return n;for(var a=e.length+1,i=a+t,o=new Uint8Array(i*a).fill(t+1),l=0;l<a;++l)o[l]=l;for(var u=1;u<i;++u)o[u*a]=u;return Nr(r,e,t,n,o,1,a,""),n},Nr=function(r,e,t,n,a,i,o,l){var u,f,c=i*o;try{e:for(var m=Q(r.keys()),s=m.next();!s.done;s=m.next()){var d=s.value;if(d===ve){var h=a[c-1];h<=t&&n.set(l,[r.get(d),h])}else{for(var p=i,w=0;w<d.length;++w,++p){for(var _=d[w],y=o*p,b=y-o,F=a[y],A=Math.max(0,p-t-1),k=Math.min(o-1,p+t),E=A;E<k;++E){var P=_!==e[E],S=a[b+E]+ +P,L=a[b+E+1]+1,N=a[y+E]+1,D=a[y+E+1]=Math.min(S,L,N);D<F&&(F=D)}if(F>t)continue e}Nr(r.get(d),e,t,n,a,p,o,l+d)}}}catch(j){u={error:j}}finally{try{s&&!s.done&&(f=m.return)&&f.call(m)}finally{if(u)throw u.error}}},Rt=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var a=fe(zt(this._tree,e.slice(this._prefix.length)),2),i=a[0],o=a[1];if(i===void 0){var l=fe(ir(o),2),u=l[0],f=l[1];try{for(var c=Q(u.keys()),m=c.next();!m.done;m=c.next()){var s=m.value;if(s!==ve&&s.startsWith(f)){var d=new Map;return d.set(s.slice(f.length),u.get(s)),new r(d,e)}}}catch(h){t={error:h}}finally{try{m&&!m.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,un(this._tree,e)},r.prototype.entries=function(){return new qt(this,on)},r.prototype.forEach=function(e){var t,n;try{for(var a=Q(this),i=a.next();!i.done;i=a.next()){var o=fe(i.value,2),l=o[0],u=o[1];e(l,u,this)}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return ln(this._tree,e,t)},r.prototype.get=function(e){var t=$t(this._tree,e);return t!==void 0?t.get(ve):void 0},r.prototype.has=function(e){var t=$t(this._tree,e);return t!==void 0&&t.has(ve)},r.prototype.keys=function(){return new qt(this,Yr)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=Ht(this._tree,e);return n.set(ve,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=Ht(this._tree,e);return n.set(ve,t(n.get(ve))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=Ht(this._tree,e),a=n.get(ve);return a===void 0&&n.set(ve,a=t()),a},r.prototype.values=function(){return new qt(this,Br)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,n,a=new r;try{for(var i=Q(e),o=i.next();!o.done;o=i.next()){var l=fe(o.value,2),u=l[0],f=l[1];a.set(u,f)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),zt=function(r,e,t){var n,a;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=Q(r.keys()),o=i.next();!o.done;o=i.next()){var l=o.value;if(l!==ve&&e.startsWith(l))return t.push([r,l]),zt(r.get(l),e.slice(l.length),t)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return t.push([r,e]),zt(void 0,"",t)},$t=function(r,e){var t,n;if(e.length===0||r==null)return r;try{for(var a=Q(r.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;if(o!==ve&&e.startsWith(o))return $t(r.get(o),e.slice(o.length))}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},Ht=function(r,e){var t,n,a=e.length;e:for(var i=0;r&&i<a;){try{for(var o=(t=void 0,Q(r.keys())),l=o.next();!l.done;l=o.next()){var u=l.value;if(u!==ve&&e[i]===u[0]){for(var f=Math.min(a-i,u.length),c=1;c<f&&e[i+c]===u[c];)++c;var m=r.get(u);if(c===u.length)r=m;else{var s=new Map;s.set(u.slice(c),m),r.set(e.slice(i,i+c),s),r.delete(u),r=s}i+=c;continue e}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var d=new Map;return r.set(e.slice(i),d),d}return r},un=function(r,e){var t=fe(zt(r,e),2),n=t[0],a=t[1];if(n!==void 0){if(n.delete(ve),n.size===0)jr(a);else if(n.size===1){var i=fe(n.entries().next().value,2),o=i[0],l=i[1];Gr(a,o,l)}}},jr=function(r){if(r.length!==0){var e=fe(ir(r),2),t=e[0],n=e[1];if(t.delete(n),t.size===0)jr(r.slice(0,-1));else if(t.size===1){var a=fe(t.entries().next().value,2),i=a[0],o=a[1];i!==ve&&Gr(r.slice(0,-1),i,o)}}},Gr=function(r,e,t){if(r.length!==0){var n=fe(ir(r),2),a=n[0],i=n[1];a.set(i+e,t),a.delete(i)}},ir=function(r){return r[r.length-1]},Ct,or="or",qr="and",sn="and_not",fn=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?Jt:e.autoVacuum;this._options=ie(ie(ie({},Xt),e),{autoVacuum:t,searchOptions:ie(ie({},cr),e.searchOptions||{}),autoSuggestOptions:ie(ie({},mn),e.autoSuggestOptions||{})}),this._index=new Rt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=tr,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,n,a,i,o,l,u=this._options,f=u.extractField,c=u.tokenize,m=u.processTerm,s=u.fields,d=u.idField,h=f(e,d);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));if(this._idToShortId.has(h))throw new Error("MiniSearch: duplicate ID ".concat(h));var p=this.addDocumentId(h);this.saveStoredFields(p,e);try{for(var w=Q(s),_=w.next();!_.done;_=w.next()){var y=_.value,b=f(e,y);if(b!=null){var F=c(b.toString(),y),A=this._fieldIds[y],k=new Set(F).size;this.addFieldLength(p,A,this._documentCount-1,k);try{for(var E=(a=void 0,Q(F)),P=E.next();!P.done;P=E.next()){var S=P.value,L=m(S,y);if(Array.isArray(L))try{for(var N=(o=void 0,Q(L)),D=N.next();!D.done;D=N.next()){var j=D.value;this.addTerm(A,p,j)}}catch(U){o={error:U}}finally{try{D&&!D.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}else L&&this.addTerm(A,p,L)}}catch(U){a={error:U}}finally{try{P&&!P.done&&(i=E.return)&&i.call(E)}finally{if(a)throw a.error}}}}}catch(U){t={error:U}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,n;try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.add(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var a=t.chunkSize,i=a===void 0?10:a,o={chunk:[],promise:Promise.resolve()},l=e.reduce(function(c,m,s){var d=c.chunk,h=c.promise;return d.push(m),(s+1)%i===0?{chunk:[],promise:h.then(function(){return new Promise(function(p){return setTimeout(p,0)})}).then(function(){return n.addAll(d)})}:{chunk:d,promise:h}},o),u=l.chunk,f=l.promise;return f.then(function(){return n.addAll(u)})},r.prototype.remove=function(e){var t,n,a,i,o,l,u=this._options,f=u.tokenize,c=u.processTerm,m=u.extractField,s=u.fields,d=u.idField,h=m(e,d);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));var p=this._idToShortId.get(h);if(p==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(h,": it is not in the index"));try{for(var w=Q(s),_=w.next();!_.done;_=w.next()){var y=_.value,b=m(e,y);if(b!=null){var F=f(b.toString(),y),A=this._fieldIds[y],k=new Set(F).size;this.removeFieldLength(p,A,this._documentCount,k);try{for(var E=(a=void 0,Q(F)),P=E.next();!P.done;P=E.next()){var S=P.value,L=c(S,y);if(Array.isArray(L))try{for(var N=(o=void 0,Q(L)),D=N.next();!D.done;D=N.next()){var j=D.value;this.removeTerm(A,p,j)}}catch(U){o={error:U}}finally{try{D&&!D.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}else L&&this.removeTerm(A,p,L)}}catch(U){a={error:U}}finally{try{P&&!P.done&&(i=E.return)&&i.call(E)}finally{if(a)throw a.error}}}}}catch(U){t={error:U}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}this._storedFields.delete(p),this._documentIds.delete(p),this._idToShortId.delete(h),this._fieldLength.delete(p),this._documentCount-=1},r.prototype.removeAll=function(e){var t,n;if(e)try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.remove(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Rt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(a,i){t.removeFieldLength(n,i,t._documentCount,a)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,a=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:a,batchWait:i},{minDirtCount:n,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,n,a=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=Q(e),o=i.next();!o.done;o=i.next()){var l=o.value;this.discard(l)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=a}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,n=t.idField,a=t.extractField,i=a(e,n);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var a=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=tr,n.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return nn(this,void 0,void 0,function(){var n,a,i,o,l,u,f,c,m,s,d,h,p,w,_,y,b,F,A,k,E,P,S,L,N;return an(this,function(D){switch(D.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];a=e.batchSize||er.batchSize,i=e.batchWait||er.batchWait,o=1,D.label=1;case 1:D.trys.push([1,7,8,9]),l=Q(this._index),u=l.next(),D.label=2;case 2:if(u.done)return[3,6];f=fe(u.value,2),c=f[0],m=f[1];try{for(s=(P=void 0,Q(m)),d=s.next();!d.done;d=s.next()){h=fe(d.value,2),p=h[0],w=h[1];try{for(_=(L=void 0,Q(w)),y=_.next();!y.done;y=_.next())b=fe(y.value,1),F=b[0],!this._documentIds.has(F)&&(w.size<=1?m.delete(p):w.delete(F))}catch(j){L={error:j}}finally{try{y&&!y.done&&(N=_.return)&&N.call(_)}finally{if(L)throw L.error}}}}catch(j){P={error:j}}finally{try{d&&!d.done&&(S=s.return)&&S.call(s)}finally{if(P)throw P.error}}return this._index.get(c).size===0&&this._index.delete(c),o%a!==0?[3,4]:[4,new Promise(function(j){return setTimeout(j,i)})];case 3:D.sent(),D.label=4;case 4:o+=1,D.label=5;case 5:return u=l.next(),[3,2];case 6:return[3,9];case 7:return A=D.sent(),k={error:A},[3,9];case 8:try{u&&!u.done&&(E=l.return)&&E.call(l)}finally{if(k)throw k.error}return[7];case 9:this._dirtCount-=n,D.label=10;case 10:return[4,null];case 11:return D.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||Jt.minDirtCount,n=n||Jt.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var n,a;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var l=Q(i),u=l.next();!u.done;u=l.next()){var f=fe(u.value,2),c=f[0],m=f[1],s=m.score,d=m.terms,h=m.match,p=d.length,w={id:this._documentIds.get(c),score:s*p,terms:Object.keys(h),match:h};Object.assign(w,this._storedFields.get(c)),(t.filter==null||t.filter(w))&&o.push(w)}}catch(_){n={error:_}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return o.sort(hr),o},r.prototype.autoSuggest=function(e,t){var n,a,i,o;t===void 0&&(t={}),t=ie(ie({},this._options.autoSuggestOptions),t);var l=new Map;try{for(var u=Q(this.search(e,t)),f=u.next();!f.done;f=u.next()){var c=f.value,m=c.score,s=c.terms,d=s.join(" "),h=l.get(d);h!=null?(h.score+=m,h.count+=1):l.set(d,{score:m,terms:s,count:1})}}catch(A){n={error:A}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}var p=[];try{for(var w=Q(l),_=w.next();!_.done;_=w.next()){var y=fe(_.value,2),h=y[0],b=y[1],m=b.score,s=b.terms,F=b.count;p.push({suggestion:h,terms:s,score:m/F})}}catch(A){i={error:A}}finally{try{_&&!_.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}return p.sort(hr),p},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(Xt.hasOwnProperty(e))return Qt(Xt,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var n,a,i,o,l,u,f=e.index,c=e.documentCount,m=e.nextId,s=e.documentIds,d=e.fieldIds,h=e.fieldLength,p=e.averageFieldLength,w=e.storedFields,_=e.dirtCount,y=e.serializationVersion;if(y!==1&&y!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var b=new r(t);b._documentCount=c,b._nextId=m,b._documentIds=St(s),b._idToShortId=new Map,b._fieldIds=d,b._fieldLength=St(h),b._avgFieldLength=p,b._storedFields=St(w),b._dirtCount=_||0,b._index=new Rt;try{for(var F=Q(b._documentIds),A=F.next();!A.done;A=F.next()){var k=fe(A.value,2),E=k[0],P=k[1];b._idToShortId.set(P,E)}}catch(V){n={error:V}}finally{try{A&&!A.done&&(a=F.return)&&a.call(F)}finally{if(n)throw n.error}}try{for(var S=Q(f),L=S.next();!L.done;L=S.next()){var N=fe(L.value,2),D=N[0],j=N[1],U=new Map;try{for(var I=(l=void 0,Q(Object.keys(j))),x=I.next();!x.done;x=I.next()){var Y=x.value,W=j[Y];y===1&&(W=W.ds),U.set(parseInt(Y,10),St(W))}}catch(V){l={error:V}}finally{try{x&&!x.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}b._index.set(D,U)}}catch(V){i={error:V}}finally{try{L&&!L.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}return b},r.prototype.executeQuery=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e!="string"){var a=ie(ie(ie({},t),e),{queries:void 0}),i=e.queries.map(function(w){return n.executeQuery(w,a)});return this.combineResults(i,a.combineWith)}var o=this._options,l=o.tokenize,u=o.processTerm,f=o.searchOptions,c=ie(ie({tokenize:l,processTerm:u},f),t),m=c.tokenize,s=c.processTerm,d=m(e).flatMap(function(w){return s(w)}).filter(function(w){return!!w}),h=d.map(vn(c)),p=h.map(function(w){return n.executeQuerySpec(w,c)});return this.combineResults(p,c.combineWith)},r.prototype.executeQuerySpec=function(e,t){var n,a,i,o,l=ie(ie({},this._options.searchOptions),t),u=(l.fields||this._options.fields).reduce(function(Y,W){var V;return ie(ie({},Y),(V={},V[W]=Qt(l.boost,W)||1,V))},{}),f=l.boostDocument,c=l.weights,m=l.maxFuzzy,s=l.bm25,d=ie(ie({},cr.weights),c),h=d.fuzzy,p=d.prefix,w=this._index.get(e.term),_=this.termResults(e.term,e.term,1,w,u,f,s),y,b;if(e.prefix&&(y=this._index.atPrefix(e.term)),e.fuzzy){var F=e.fuzzy===!0?.2:e.fuzzy,A=F<1?Math.min(m,Math.round(e.term.length*F)):F;A&&(b=this._index.fuzzyGet(e.term,A))}if(y)try{for(var k=Q(y),E=k.next();!E.done;E=k.next()){var P=fe(E.value,2),S=P[0],L=P[1],N=S.length-e.term.length;if(N){b==null||b.delete(S);var D=p*S.length/(S.length+.3*N);this.termResults(e.term,S,D,L,u,f,s,_)}}}catch(Y){n={error:Y}}finally{try{E&&!E.done&&(a=k.return)&&a.call(k)}finally{if(n)throw n.error}}if(b)try{for(var j=Q(b.keys()),U=j.next();!U.done;U=j.next()){var S=U.value,I=fe(b.get(S),2),x=I[0],N=I[1];if(N){var D=h*S.length/(S.length+N);this.termResults(e.term,S,D,x,u,f,s,_)}}}catch(Y){i={error:Y}}finally{try{U&&!U.done&&(o=j.return)&&o.call(j)}finally{if(i)throw i.error}}return _},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=or),e.length===0)return new Map;var n=t.toLowerCase();return e.reduce(cn[n])||new Map},r.prototype.toJSON=function(){var e,t,n,a,i=[];try{for(var o=Q(this._index),l=o.next();!l.done;l=o.next()){var u=fe(l.value,2),f=u[0],c=u[1],m={};try{for(var s=(n=void 0,Q(c)),d=s.next();!d.done;d=s.next()){var h=fe(d.value,2),p=h[0],w=h[1];m[p]=Object.fromEntries(w)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}i.push([f,m])}}catch(_){e={error:_}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,n,a,i,o,l,u){var f,c,m,s,d;if(u===void 0&&(u=new Map),a==null)return u;try{for(var h=Q(Object.keys(i)),p=h.next();!p.done;p=h.next()){var w=p.value,_=i[w],y=this._fieldIds[w],b=a.get(y);if(b!=null){var F=b.size,A=this._avgFieldLength[y];try{for(var k=(m=void 0,Q(b.keys())),E=k.next();!E.done;E=k.next()){var P=E.value;if(!this._documentIds.has(P)){this.removeTerm(y,P,t),F-=1;continue}var S=o?o(this._documentIds.get(P),t,this._storedFields.get(P)):1;if(S){var L=b.get(P),N=this._fieldLength.get(P)[y],D=hn(L,F,this._documentCount,N,A,l),j=n*_*S*D,U=u.get(P);if(U){U.score+=j,gn(U.terms,e);var I=Qt(U.match,t);I?I.push(w):U.match[t]=[w]}else u.set(P,{score:j,terms:[e],match:(d={},d[t]=[w],d)})}}}catch(x){m={error:x}}finally{try{E&&!E.done&&(s=k.return)&&s.call(k)}finally{if(m)throw m.error}}}}}catch(x){f={error:x}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(f)throw f.error}}return u},r.prototype.addTerm=function(e,t,n){var a=this._index.fetch(n,vr),i=a.get(e);if(i==null)i=new Map,i.set(t,1),a.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}var a=this._index.fetch(n,vr),i=a.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?a.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(e,t,n){var a,i;try{for(var o=Q(Object.keys(this._fieldIds)),l=o.next();!l.done;l=o.next()){var u=l.value;if(this._fieldIds[u]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(f){a={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,n,a){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=a;var o=this._avgFieldLength[t]||0,l=o*n+a;this._avgFieldLength[t]=l/(n+1)},r.prototype.removeFieldLength=function(e,t,n,a){if(n===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*n-a;this._avgFieldLength[t]=i/(n-1)},r.prototype.saveStoredFields=function(e,t){var n,a,i=this._options,o=i.storeFields,l=i.extractField;if(!(o==null||o.length===0)){var u=this._storedFields.get(e);u==null&&this._storedFields.set(e,u={});try{for(var f=Q(o),c=f.next();!c.done;c=f.next()){var m=c.value,s=l(t,m);s!==void 0&&(u[m]=s)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}},r}(),Qt=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},cn=(Ct={},Ct[or]=function(r,e){var t,n;try{for(var a=Q(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value,l=r.get(o);if(l==null)r.set(o,e.get(o));else{var u=e.get(o),f=u.score,c=u.terms,m=u.match;l.score=l.score+f,l.match=Object.assign(l.match,m),dr(l.terms,c)}}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Ct[qr]=function(r,e){var t,n,a=new Map;try{for(var i=Q(e.keys()),o=i.next();!o.done;o=i.next()){var l=o.value,u=r.get(l);if(u!=null){var f=e.get(l),c=f.score,m=f.terms,s=f.match;dr(u.terms,m),a.set(l,{score:u.score+c,terms:u.terms,match:Object.assign(u.match,s)})}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},Ct[sn]=function(r,e){var t,n;try{for(var a=Q(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;r.delete(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Ct),dn={k:1.2,b:.7,d:.5},hn=function(r,e,t,n,a,i){var o=i.k,l=i.b,u=i.d,f=Math.log(1+(t-e+.5)/(e+.5));return f*(u+r*(o+1)/(r+o*(1-l+l*n/a)))},vn=function(r){return function(e,t,n){var a=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0;return{term:e,fuzzy:a,prefix:i}}},Xt={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(pn)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},cr={combineWith:or,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:dn},mn={combineWith:qr,prefix:function(r,e,t){return e===t.length-1}},er={batchSize:1e3,batchWait:10},tr={minDirtFactor:.1,minDirtCount:20},Jt=ie(ie({},er),tr),gn=function(r,e){r.includes(e)||r.push(e)},dr=function(r,e){var t,n;try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},hr=function(r,e){var t=r.score,n=e.score;return n-t},vr=function(){return new Map},St=function(r){var e,t,n=new Map;try{for(var a=Q(Object.keys(r)),i=a.next();!i.done;i=a.next()){var o=i.value;n.set(parseInt(o,10),r[o])}}catch(l){e={error:l}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},pn=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const lr=vt({}),yn=async()=>{try{const e=await(await fetch("https://fraesh.github.io/vps-db/vpsdb.json")).json(),t={};e.forEach(n=>{const a=n.id;t[a]=n}),lr.set(t)}catch(r){console.log(r)}},wn=r=>{var n,a;const t=ar(lr)[r];if(t){if(t.imgUrl)return t.imgUrl;if((n=t.b2sFiles)!=null&&n.length&&t.b2sFiles[0].imgUrl)return t.b2sFiles[0].imgUrl;if((a=t.tableFiles)!=null&&a.length&&t.tableFiles[0].imgUrl)return t.tableFiles[0].imgUrl}},ot={fetchDb:yn,getGameImage:wn,dbStore:lr},Nt=Ze(ot.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),Rr=Ze(ot.dbStore,r=>{const e=Object.values(r),t={};for(const n of It)t[n]=[];for(const n of e)for(const a of It){const i=n[a];Array.isArray(i)&&(t[a]=(t[a]||[]).concat(i.map(o=>({...o,game:{id:n.id,name:n.name}}))))}return Object.entries(t).forEach(([n,a])=>{t[n]=a.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),Hr=vt(""),Qr=vt("game"),ur=vt({active:!1,value:[0,10]}),sr=vt({active:!1,value:[]}),bn=vt("lastUpdated");let Kt;const Xr=Ze(Hr,(r,e)=>{Kt&&clearTimeout(Kt),Kt=setTimeout(()=>e(r),300)}),_n=Ze([Xr,ur,sr],([r,e,t])=>r||e.active||t.active),rr=new fn({fields:["name","manufacturer","designers",...It],extractField:(r,e)=>{var t;if(It.includes(e)){const n=(t=r[e])==null?void 0:t.reduce((a,i)=>[...a,...i.authors||[]],[]);return(n==null?void 0:n.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});Nt.subscribe(r=>{rr.removeAll(),rr.addAll(Object.values(r))});const Fn=Ze([Xr,Nt],([r,e])=>r?rr.search(r.toLowerCase(),{prefix:!0,fuzzy:.2,combineWith:"AND"}):void 0),Cn=Ze([Qr,Fn,Nt,Rr],([r,e,t,n])=>{var f;if(!e)return r==="game"?t:n[r]||[];const a=ar(ot.dbStore);if(r==="game")return e.map(c=>a[c.id]);const i=["name","manufacturer","designers",r],o=["name","manufacturer","designers"],l=e.filter(c=>Object.values(c.match).some(m=>m.some(s=>i.includes(s)))),u=[];for(const c of l){const m=a[c.id],s=m==null?void 0:m[r];if(!(s!=null&&s.length))continue;if(Object.values(c.match).some(h=>h.some(p=>o.includes(p)))){u.push(...s.map(h=>({...h,game:{id:m.id,name:m.name}})));continue}const d=(f=Object.entries(c.match).find(([h,p])=>p.some(w=>w===r)))==null?void 0:f[0];d&&s.forEach(h=>{h.authors.some(p=>p.includes(d))&&u.push({...h,game:{id:m.id,name:m.name}})})}return u}),Jr=(r,e)=>{if(r[0].game){const t=ar(ot.dbStore);return r.filter(n=>{var i;if(!((i=n.game)!=null&&i.id))return;const a=t[n.game.id];if(a)return e(a)})}else return r.filter(e)},En=Ze([ur,Cn],([r,e])=>!r.active||!(e!=null&&e.length)?e:Jr(e,t=>t.players!==void 0&&t.players>=r.value[0]&&t.players<=r.value[1])),Dn=Ze([sr,En],([r,e])=>!r.active||!(e!=null&&e.length)?e:Jr(e,t=>r.value.includes(t.manufacturer))),Sn=Dn,pi={sortedDbStore:Nt,sortedFilesStore:Rr,finalResultsStore:Sn,query:Hr,mode:Qr,players:ur,manufacturer:sr,sortBy:bn,isSearchActive:_n},Wt=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function Mn(r){var w,_;let e,t,n,a,i,o,l,u,f,c=((w=r[0].game)==null?void 0:w.name)+"",m,s,d,h=((_=r[0].authors)==null?void 0:_.join(", "))+"",p;return{c(){e=M("a"),t=M("img"),i=q(),o=M("hr"),l=q(),u=M("div"),f=M("h4"),m=X(c),s=q(),d=M("h4"),p=X(h),this.h()},l(y){e=T(y,"A",{href:!0,class:!0});var b=O(e);t=T(b,"IMG",{src:!0,alt:!0,class:!0}),i=R(b),o=T(b,"HR",{}),l=R(b),u=T(b,"DIV",{class:!0});var F=O(u);f=T(F,"H4",{class:!0});var A=O(f);m=J(A,c),A.forEach(C),s=R(F),d=T(F,"H4",{class:!0});var k=O(d);p=J(k,h),k.forEach(C),F.forEach(C),b.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||Wt)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card aspectTable svelte-1mrpffe"),g(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(d,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex flex-col py-4"),g(e,"href",r[1]),g(e,"class","overflow-hidden flex flex-col")},m(y,b){pe(y,e,b),v(e,t),v(e,i),v(e,o),v(e,l),v(e,u),v(u,f),v(f,m),v(u,s),v(u,d),v(d,p)},p(y,[b]){var F,A;b&1&&!me(t.src,n=y[0].imgUrl||Wt)&&g(t,"src",n),b&1&&a!==(a=y[0].id)&&g(t,"alt",a),b&1&&c!==(c=((F=y[0].game)==null?void 0:F.name)+"")&&ee(m,c),b&1&&h!==(h=((A=y[0].authors)==null?void 0:A.join(", "))+"")&&ee(p,h),b&2&&g(e,"href",y[1])},i:Pt,o:Pt,d(y){y&&C(e)}}}function Tn(r,e,t){let{file:n=tn}=e,{href:a=""}=e;return r.$$set=i=>{"file"in i&&t(0,n=i.file),"href"in i&&t(1,a=i.href)},[n,a]}class Pn extends gt{constructor(e){super(),pt(this,e,Tn,Mn,mt,{file:0,href:1})}}function mr(r){let e,t=r[0].version+"",n;return{c(){e=M("span"),n=X(t),this.h()},l(a){e=T(a,"SPAN",{class:!0});var i=O(e);n=J(i,t),i.forEach(C),this.h()},h(){g(e,"class","opacity-60")},m(a,i){pe(a,e,i),v(e,n)},p(a,i){i&1&&t!==(t=a[0].version+"")&&ee(n,t)},d(a){a&&C(e)}}}function On(r){var m;let e,t,n,a=(((m=r[0].game)==null?void 0:m.name)||"???")+"",i,o,l,u,f,c=r[0].version&&mr(r);return{c(){e=M("a"),t=M("div"),n=M("span"),i=X(a),o=q(),c&&c.c(),l=q(),u=M("img"),this.h()},l(s){e=T(s,"A",{href:!0,class:!0});var d=O(e);t=T(d,"DIV",{class:!0});var h=O(t);n=T(h,"SPAN",{class:!0});var p=O(n);i=J(p,a),p.forEach(C),o=R(h),c&&c.l(h),h.forEach(C),l=R(d),u=T(d,"IMG",{src:!0,class:!0,alt:!0}),d.forEach(C),this.h()},h(){g(n,"class","font-bold"),g(t,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),me(u.src,f=r[2])||g(u,"src",f),g(u,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),g(u,"alt",""),g(e,"href",r[1]),g(e,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden svelte-22xih4")},m(s,d){pe(s,e,d),v(e,t),v(t,n),v(n,i),v(t,o),c&&c.m(t,null),v(e,l),v(e,u)},p(s,[d]){var h;d&1&&a!==(a=(((h=s[0].game)==null?void 0:h.name)||"???")+"")&&ee(i,a),s[0].version?c?c.p(s,d):(c=mr(s),c.c(),c.m(t,null)):c&&(c.d(1),c=null),d&4&&!me(u.src,f=s[2])&&g(u,"src",f),d&2&&g(e,"href",s[1])},i:Pt,o:Pt,d(s){s&&C(e),c&&c.d()}}}function xn(r,e,t){let n;const{getGameImage:a}=ot;let{file:i=rn}=e,{href:o=""}=e;return r.$$set=l=>{"file"in l&&t(0,i=l.file),"href"in l&&t(1,o=l.href)},r.$$.update=()=>{var l;r.$$.dirty&1&&t(2,n=(l=i.game)!=null&&l.id?a(i.game.id):"")},[i,o,n]}class ke extends gt{constructor(e){super(),pt(this,e,xn,On,mt,{file:0,href:1})}}const ft=r=>{if(!r)return Wt;if(r.imgUrl)return r.imgUrl;const e=r.b2sFiles||[];if(e.length){const n=[...e].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}const t=r.tableFiles||[];if(t.length){const n=[...t].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}return Wt},ct=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function Vt(r){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(r)}function it(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ye(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Ue(r){ye(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Vt(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function An(r,e){ye(2,arguments);var t=Ue(r).getTime(),n=it(e);return new Date(t+n)}var kn={};function jt(){return kn}function Un(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function In(r){return ye(1,arguments),r instanceof Date||Vt(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function zn(r){if(ye(1,arguments),!In(r)&&typeof r!="number")return!1;var e=Ue(r);return!isNaN(Number(e))}function Wn(r,e){ye(2,arguments);var t=it(e);return An(r,-t)}var Vn=864e5;function Ln(r){ye(1,arguments);var e=Ue(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/Vn)+1}function Lt(r){ye(1,arguments);var e=1,t=Ue(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function Kr(r){ye(1,arguments);var e=Ue(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=Lt(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Lt(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Yn(r){ye(1,arguments);var e=Kr(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Lt(t);return n}var Bn=6048e5;function Nn(r){ye(1,arguments);var e=Ue(r),t=Lt(e).getTime()-Yn(e).getTime();return Math.round(t/Bn)+1}function Yt(r,e){var t,n,a,i,o,l,u,f;ye(1,arguments);var c=jt(),m=it((t=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Ue(r),d=s.getUTCDay(),h=(d<m?7:0)+d-m;return s.setUTCDate(s.getUTCDate()-h),s.setUTCHours(0,0,0,0),s}function Zr(r,e){var t,n,a,i,o,l,u,f;ye(1,arguments);var c=Ue(r),m=c.getUTCFullYear(),s=jt(),d=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:s.firstWeekContainsDate)!==null&&n!==void 0?n:(u=s.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(m+1,0,d),h.setUTCHours(0,0,0,0);var p=Yt(h,e),w=new Date(0);w.setUTCFullYear(m,0,d),w.setUTCHours(0,0,0,0);var _=Yt(w,e);return c.getTime()>=p.getTime()?m+1:c.getTime()>=_.getTime()?m:m-1}function jn(r,e){var t,n,a,i,o,l,u,f;ye(1,arguments);var c=jt(),m=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),s=Zr(r,e),d=new Date(0);d.setUTCFullYear(s,0,m),d.setUTCHours(0,0,0,0);var h=Yt(d,e);return h}var Gn=6048e5;function qn(r,e){ye(1,arguments);var t=Ue(r),n=Yt(t,e).getTime()-jn(t,e).getTime();return Math.round(n/Gn)+1}function re(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var Rn={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return re(t==="yy"?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):re(n+1,2)},d:function(e,t){return re(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return re(e.getUTCHours()%12||12,t.length)},H:function(e,t){return re(e.getUTCHours(),t.length)},m:function(e,t){return re(e.getUTCMinutes(),t.length)},s:function(e,t){return re(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return re(i,t.length)}};const He=Rn;var st={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hn={G:function(e,t,n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return He.y(e,t)},Y:function(e,t,n,a){var i=Zr(e,a),o=i>0?i:1-i;if(t==="YY"){var l=o%100;return re(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):re(o,t.length)},R:function(e,t){var n=Kr(e);return re(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return re(n,t.length)},Q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return re(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return re(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return He.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return re(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=qn(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):re(i,t.length)},I:function(e,t,n){var a=Nn(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):re(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):He.d(e,t)},D:function(e,t,n){var a=Ln(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):re(a,t.length)},E:function(e,t,n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return re(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return re(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return re(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var a=e.getUTCHours(),i;switch(a===12?i=st.noon:a===0?i=st.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var a=e.getUTCHours(),i;switch(a>=17?i=st.evening:a>=12?i=st.afternoon:a>=4?i=st.morning:i=st.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return He.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):He.H(e,t)},K:function(e,t,n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):re(a,t.length)},k:function(e,t,n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):re(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):He.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):He.s(e,t)},S:function(e,t){return He.S(e,t)},X:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return pr(o);case"XXXX":case"XX":return nt(o);case"XXXXX":case"XXX":default:return nt(o,":")}},x:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return pr(o);case"xxxx":case"xx":return nt(o);case"xxxxx":case"xxx":default:return nt(o,":")}},O:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gr(o,":");case"OOOO":default:return"GMT"+nt(o,":")}},z:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gr(o,":");case"zzzz":default:return"GMT"+nt(o,":")}},t:function(e,t,n,a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return re(o,t.length)},T:function(e,t,n,a){var i=a._originalDate||e,o=i.getTime();return re(o,t.length)}};function gr(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+re(i,2)}function pr(r,e){if(r%60===0){var t=r>0?"-":"+";return t+re(Math.abs(r)/60,2)}return nt(r,e)}function nt(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=re(Math.floor(a/60),2),o=re(a%60,2);return n+i+t+o}const Qn=Hn;var yr=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Xn=function(e,t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return yr(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",yr(a,t)).replace("{{time}}",$r(i,t))},Jn={p:$r,P:Xn};const Kn=Jn;var Zn=["D","DD"],$n=["YY","YYYY"];function ea(r){return Zn.indexOf(r)!==-1}function ta(r){return $n.indexOf(r)!==-1}function wr(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ra={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},na=function(e,t,n){var a,i=ra[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const aa=na;function Zt(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var ia={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oa={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},la={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ua={date:Zt({formats:ia,defaultWidth:"full"}),time:Zt({formats:oa,defaultWidth:"full"}),dateTime:Zt({formats:la,defaultWidth:"full"})};const sa=ua;var fa={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ca=function(e,t,n,a){return fa[e]};const da=ca;function Et(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{var l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[u]||r.values[l]}var f=r.argumentCallback?r.argumentCallback(e):e;return a[f]}}var ha={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},va={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ma={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ga={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ya={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wa=function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ba={ordinalNumber:wa,era:Et({values:ha,defaultWidth:"wide"}),quarter:Et({values:va,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Et({values:ma,defaultWidth:"wide"}),day:Et({values:ga,defaultWidth:"wide"}),dayPeriod:Et({values:pa,defaultWidth:"wide",formattingValues:ya,defaultFormattingWidth:"wide"})};const _a=ba;function Dt(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(l)?Ca(l,function(m){return m.test(o)}):Fa(l,function(m){return m.test(o)}),f;f=r.valueCallback?r.valueCallback(u):u,f=t.valueCallback?t.valueCallback(f):f;var c=e.slice(o.length);return{value:f,rest:c}}}function Fa(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function Ca(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function Ea(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var a=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var l=e.slice(a.length);return{value:o,rest:l}}}var Da=/^(\d+)(th|st|nd|rd)?/i,Sa=/\d+/i,Ma={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ta={any:[/^b/i,/^(a|c)/i]},Pa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oa={any:[/1/i,/2/i,/3/i,/4/i]},xa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Aa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ka={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ua={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ia={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},za={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wa={ordinalNumber:Ea({matchPattern:Da,parsePattern:Sa,valueCallback:function(e){return parseInt(e,10)}}),era:Dt({matchPatterns:Ma,defaultMatchWidth:"wide",parsePatterns:Ta,defaultParseWidth:"any"}),quarter:Dt({matchPatterns:Pa,defaultMatchWidth:"wide",parsePatterns:Oa,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Dt({matchPatterns:xa,defaultMatchWidth:"wide",parsePatterns:Aa,defaultParseWidth:"any"}),day:Dt({matchPatterns:ka,defaultMatchWidth:"wide",parsePatterns:Ua,defaultParseWidth:"any"}),dayPeriod:Dt({matchPatterns:Ia,defaultMatchWidth:"any",parsePatterns:za,defaultParseWidth:"any"})};const Va=Wa;var La={code:"en-US",formatDistance:aa,formatLong:sa,formatRelative:da,localize:_a,match:Va,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ya=La;var Ba=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Na=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ja=/^'([^]*?)'?$/,Ga=/''/g,qa=/[a-zA-Z]/;function Ra(r,e,t){var n,a,i,o,l,u,f,c,m,s,d,h,p,w,_,y,b,F;ye(2,arguments);var A=String(e),k=jt(),E=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:k.locale)!==null&&n!==void 0?n:Ya,P=it((i=(o=(l=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(f=t.locale)===null||f===void 0||(c=f.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&o!==void 0?o:(m=k.locale)===null||m===void 0||(s=m.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=it((d=(h=(p=(w=t==null?void 0:t.weekStartsOn)!==null&&w!==void 0?w:t==null||(_=t.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:k.weekStartsOn)!==null&&h!==void 0?h:(b=k.locale)===null||b===void 0||(F=b.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&d!==void 0?d:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var L=Ue(r);if(!zn(L))throw new RangeError("Invalid time value");var N=Un(L),D=Wn(L,N),j={firstWeekContainsDate:P,weekStartsOn:S,locale:E,_originalDate:L},U=A.match(Na).map(function(I){var x=I[0];if(x==="p"||x==="P"){var Y=Kn[x];return Y(I,E.formatLong)}return I}).join("").match(Ba).map(function(I){if(I==="''")return"'";var x=I[0];if(x==="'")return Ha(I);var Y=Qn[x];if(Y)return!(t!=null&&t.useAdditionalWeekYearTokens)&&ta(I)&&wr(I,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&ea(I)&&wr(I,e,String(r)),Y(D,I,E.localize,j);if(x.match(qa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return I}).join("");return U}function Ha(r){var e=r.match(ja);return e?e[1].replace(Ga,"'"):r}const dt=r=>isNaN(new Date(r).getTime())?"??.??.????":Ra(new Date(r),"dd.MM.yyyy");function br(r,e,t){const n=r.slice();return n[9]=e[t],n}function _r(r,e,t){const n=r.slice();return n[12]=e[t],n}function Fr(r){let e,t=r[12]+"",n,a;return{c(){e=M("div"),n=X(t),a=q(),this.h()},l(i){e=T(i,"DIV",{class:!0});var o=O(e);n=J(o,t),a=R(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){pe(i,e,o),v(e,n),v(e,a)},p(i,o){o&64&&t!==(t=i[12]+"")&&ee(n,t)},d(i){i&&C(e)}}}function Cr(r){let e,t=r[9].toUpperCase()+"",n;return{c(){e=M("div"),n=X(t),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=O(e);n=J(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(a,i){pe(a,e,i),v(e,n)},p(a,i){i&1&&t!==(t=a[9].toUpperCase()+"")&&ee(n,t)},d(a){a&&C(e)}}}function Qa(r){var se;let e,t,n,a,i,o,l,u,f,c,m,s,d,h,p=r[0].name+"",w,_,y,b,F,A=r[0].manufacturer+"",k,E,P,S,L=r[0].year+"",N,D,j,U,I=(((se=r[0].designers)==null?void 0:se.join(", "))||"-")+"",x,Y,W,V,Z,$,de,ue="Updated at",ce,he,Be=dt(r[0].updatedAt)+"",Ne,Pe,Me,je,Ee,Fe,lt="Type",De,we,Ge=(r[0].type||"-")+"",qe,ge,Oe,Ce,be,Se,_e,ne,Te,Re,te=Ke(r[6]),le=[];for(let H=0;H<te.length;H+=1)le[H]=Fr(_r(r,te,H));let Ie=Ke(r[0].theme||[]),ae=[];for(let H=0;H<Ie.length;H+=1)ae[H]=Cr(br(r,Ie,H));return{c(){e=M("div"),t=M("img"),o=q(),l=M("div"),u=M("img"),m=q(),s=M("div"),d=M("div"),h=M("p"),w=X(p),_=q();for(let H=0;H<le.length;H+=1)le[H].c();y=q(),b=M("div"),F=M("p"),k=X(A),E=q(),P=M("p"),S=X("("),N=X(L),D=X(")"),j=q(),U=M("p"),x=X(I),Y=q(),W=M("div");for(let H=0;H<ae.length;H+=1)ae[H].c();V=q(),Z=M("div"),$=M("div"),de=M("p"),de.textContent=ue,ce=q(),he=M("p"),Ne=X(Be),Pe=q(),Me=M("div"),je=q(),Ee=M("div"),Fe=M("p"),Fe.textContent=lt,De=q(),we=M("p"),qe=X(Ge),Oe=q(),Ce=Qe("svg"),be=Qe("defs"),Se=Qe("clipPath"),_e=Qe("path"),this.h()},l(H){e=T(H,"DIV",{style:!0,class:!0});var z=O(e);t=T(z,"IMG",{src:!0,alt:!0,class:!0}),o=R(z),l=T(z,"DIV",{class:!0});var G=O(l);u=T(G,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=R(G),s=T(G,"DIV",{class:!0,style:!0});var B=O(s);d=T(B,"DIV",{class:!0});var K=O(d);h=T(K,"P",{class:!0});var xe=O(h);w=J(xe,p),xe.forEach(C),_=R(K);for(let Ae=0;Ae<le.length;Ae+=1)le[Ae].l(K);K.forEach(C),y=R(B),b=T(B,"DIV",{class:!0});var $e=O(b);F=T($e,"P",{class:!0});var yt=O(F);k=J(yt,A),yt.forEach(C),E=R($e),P=T($e,"P",{});var ze=O(P);S=J(ze,"("),N=J(ze,L),D=J(ze,")"),ze.forEach(C),$e.forEach(C),j=R(B),U=T(B,"P",{class:!0});var wt=O(U);x=J(wt,I),wt.forEach(C),Y=R(B),W=T(B,"DIV",{class:!0});var et=O(W);for(let Ae=0;Ae<ae.length;Ae+=1)ae[Ae].l(et);et.forEach(C),V=R(B),Z=T(B,"DIV",{class:!0});var We=O(Z);$=T(We,"DIV",{class:!0});var tt=O($);de=T(tt,"P",{class:!0,"data-svelte-h":!0}),Ot(de)!=="svelte-g6tq99"&&(de.textContent=ue),ce=R(tt),he=T(tt,"P",{class:!0});var Ve=O(he);Ne=J(Ve,Be),Ve.forEach(C),tt.forEach(C),Pe=R(We),Me=T(We,"DIV",{class:!0}),O(Me).forEach(C),je=R(We),Ee=T(We,"DIV",{class:!0});var Le=O(Ee);Fe=T(Le,"P",{class:!0,"data-svelte-h":!0}),Ot(Fe)!=="svelte-1h1g7sd"&&(Fe.textContent=lt),De=R(Le),we=T(Le,"P",{class:!0});var bt=O(we);qe=J(bt,Ge),bt.forEach(C),Le.forEach(C),We.forEach(C),B.forEach(C),G.forEach(C),z.forEach(C),Oe=R(H),Ce=Xe(H,"svg",{width:!0,height:!0});var rt=O(Ce);be=Xe(rt,"defs",{});var _t=O(be);Se=Xe(_t,"clipPath",{id:!0,clipPathUnits:!0});var Ft=O(Se);_e=Xe(Ft,"path",{d:!0}),O(_e).forEach(C),Ft.forEach(C),_t.forEach(C),rt.forEach(C),this.h()},h(){me(t.src,n=ft(r[0]))||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1dr6gib"),me(u.src,f=ft(r[0]))||g(u,"src",f),g(u,"alt",c=r[0].id),oe(u,"height","36%"),g(u,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10 svelte-1dr6gib"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(d,"class","flex gap-2 max-w-full"),g(F,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(b,"class","flex gap-1 text-center max-w-full"),g(U,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(W,"class","flex gap-2 mt-4 flex-wrap"),g(de,"class","text-xs font-bold uppercase opacity-40"),g(he,"class",""),g($,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Me,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(Fe,"class","text-xs font-bold uppercase opacity-40"),g(we,"class",""),g(Ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Z,"class","flex mt-auto w-full"),g(s,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),oe(s,"top","calc("+r[3]*.885+"px - 7.5rem)"),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(_e,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Se,"id","myCurve"),g(Se,"clipPathUnits","objectBoundingBox"),g(Ce,"width","0"),g(Ce,"height","0")},m(H,z){pe(H,e,z),v(e,t),v(e,o),v(e,l),v(l,u),v(l,m),v(l,s),v(s,d),v(d,h),v(h,w),v(d,_);for(let G=0;G<le.length;G+=1)le[G]&&le[G].m(d,null);v(s,y),v(s,b),v(b,F),v(F,k),v(b,E),v(b,P),v(P,S),v(P,N),v(P,D),v(s,j),v(s,U),v(U,x),v(s,Y),v(s,W);for(let G=0;G<ae.length;G+=1)ae[G]&&ae[G].m(W,null);v(s,V),v(s,Z),v(Z,$),v($,de),v($,ce),v($,he),v(he,Ne),v(Z,Pe),v(Z,Me),v(Z,je),v(Z,Ee),v(Ee,Fe),v(Ee,De),v(Ee,we),v(we,qe),pe(H,Oe,z),pe(H,Ce,z),v(Ce,be),v(be,Se),v(Se,_e),ne=!0,Te||(Re=ht(t,"outroend",function(){Or(r[5])&&r[5].apply(this,arguments)}),Te=!0)},p(H,[z]){var G;if(r=H,(!ne||z&1&&!me(t.src,n=ft(r[0])))&&g(t,"src",n),(!ne||z&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!ne||z&1&&!me(u.src,f=ft(r[0])))&&g(u,"src",f),(!ne||z&1&&c!==(c=r[0].id))&&g(u,"alt",c),(!ne||z&1)&&p!==(p=r[0].name+"")&&ee(w,p),z&64){te=Ke(r[6]);let B;for(B=0;B<te.length;B+=1){const K=_r(r,te,B);le[B]?le[B].p(K,z):(le[B]=Fr(K),le[B].c(),le[B].m(d,null))}for(;B<le.length;B+=1)le[B].d(1);le.length=te.length}if((!ne||z&1)&&A!==(A=r[0].manufacturer+"")&&ee(k,A),(!ne||z&1)&&L!==(L=r[0].year+"")&&ee(N,L),(!ne||z&1)&&I!==(I=(((G=r[0].designers)==null?void 0:G.join(", "))||"-")+"")&&ee(x,I),z&1){Ie=Ke(r[0].theme||[]);let B;for(B=0;B<Ie.length;B+=1){const K=br(r,Ie,B);ae[B]?ae[B].p(K,z):(ae[B]=Cr(K),ae[B].c(),ae[B].m(W,null))}for(;B<ae.length;B+=1)ae[B].d(1);ae.length=Ie.length}(!ne||z&1)&&Be!==(Be=dt(r[0].updatedAt)+"")&&ee(Ne,Be),(!ne||z&1)&&Ge!==(Ge=(r[0].type||"-")+"")&&ee(qe,Ge),(!ne||z&8)&&oe(s,"top","calc("+r[3]*.885+"px - 7.5rem)"),(!ne||z&2)&&oe(e,"left",r[1]+"px"),(!ne||z&4)&&oe(e,"top",r[2]+"px"),(!ne||z&16)&&oe(e,"width",r[4]+"px"),(!ne||z&8)&&oe(e,"height",r[3]+"px")},i(H){ne||(H&&xt(()=>{ne&&(i||(i=Je(t,r[7],{duration:Mt},!0)),i.run(1))}),H&&xt(()=>{ne&&(ge||(ge=Je(l,r[8],{duration:Mt},!0)),ge.run(1))}),ne=!0)},o(H){H&&(i||(i=Je(t,r[7],{duration:Mt},!1)),i.run(0)),H&&(ge||(ge=Je(l,r[8],{duration:Mt},!1)),ge.run(0)),ne=!1},d(H){H&&(C(e),C(Oe),C(Ce)),H&&i&&i.end(),At(le,H),At(ae,H),H&&ge&&ge.end(),Te=!1,Re()}}}const Mt=100;function Xa(r,e,t){let n,{game:a=Bt}=e,{left:i=0}=e,{top:o=0}=e,{height:l=0}=e,{width:u=0}=e,{onEnd:f=()=>{}}=e;const c=(s,{duration:d,delay:h})=>({duration:d,delay:h,css:p=>{const w=Ut(p);return`
					transform: translateY(${w*-8}rem) scale(${1-w*.25});
					`}}),m=(s,{duration:d,delay:h})=>({duration:d,delay:h,css:p=>`
					transform: scale(${Ut(p)});
					`});return r.$$set=s=>{"game"in s&&t(0,a=s.game),"left"in s&&t(1,i=s.left),"top"in s&&t(2,o=s.top),"height"in s&&t(3,l=s.height),"width"in s&&t(4,u=s.width),"onEnd"in s&&t(5,f=s.onEnd)},r.$$.update=()=>{r.$$.dirty&1&&t(6,n=Array.from(new Set((a.tableFiles||[]).map(s=>s.tableFormat).filter(s=>!!s))))},[a,i,o,l,u,f,n,c,m]}class Ja extends gt{constructor(e){super(),pt(this,e,Xa,Qa,mt,{game:0,left:1,top:2,height:3,width:4,onEnd:5})}}function Er(r,e,t){const n=r.slice();return n[15]=e[t],n}function Dr(r){let e,t;return e=new Ja({props:{game:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[12]}}),{c(){Ir(e.$$.fragment)},l(n){zr(e.$$.fragment,n)},m(n,a){Wr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.game=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[12]),e.$set(i)},i(n){t||(Ye(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){Vr(e,n)}}}function Sr(r){let e,t=r[15]+"",n,a;return{c(){e=M("div"),n=X(t),a=q(),this.h()},l(i){e=T(i,"DIV",{class:!0});var o=O(e);n=J(o,t),a=R(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){pe(i,e,o),v(e,n),v(e,a)},p(i,o){o&512&&t!==(t=i[15]+"")&&ee(n,t)},d(i){i&&C(e)}}}function Ka(r){var I;let e,t,n,a,i,o,l,u,f,c=r[0].name+"",m,s,d,h,p=r[0].manufacturer+"",w,_,y=r[0].year+"",b,F,A,k,E=((I=r[0].designers)==null?void 0:I.join(", "))+"",P,S,L,N,D=r[7]&&Dr(r),j=Ke(r[9]),U=[];for(let x=0;x<j.length;x+=1)U[x]=Sr(Er(r,j,x));return{c(){e=M("a"),D&&D.c(),t=q(),n=M("img"),o=q(),l=M("div"),u=M("div"),f=M("p"),m=X(c),s=q();for(let x=0;x<U.length;x+=1)U[x].c();d=q(),h=M("p"),w=X(p),_=X(" ("),b=X(y),F=X(")"),A=q(),k=M("p"),P=X(E),this.h()},l(x){e=T(x,"A",{class:!0,href:!0});var Y=O(e);D&&D.l(Y),t=R(Y),n=T(Y,"IMG",{src:!0,alt:!0,class:!0}),o=R(Y),l=T(Y,"DIV",{class:!0});var W=O(l);u=T(W,"DIV",{class:!0});var V=O(u);f=T(V,"P",{class:!0});var Z=O(f);m=J(Z,c),Z.forEach(C),s=R(V);for(let ue=0;ue<U.length;ue+=1)U[ue].l(V);V.forEach(C),d=R(W),h=T(W,"P",{});var $=O(h);w=J($,p),_=J($," ("),b=J($,y),F=J($,")"),$.forEach(C),A=R(W),k=T(W,"P",{class:!0});var de=O(k);P=J(de,E),de.forEach(C),W.forEach(C),Y.forEach(C),this.h()},h(){me(n.src,a=ft(r[0]))||g(n,"src",a),g(n,"alt",i=r[0].name),g(n,"class","card pinImage bg-surface-300-600-token svelte-1rbl6pa"),kt(n,"hide",r[7]||r[8]),g(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex gap-2"),g(k,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(x,Y){pe(x,e,Y),D&&D.m(e,null),v(e,t),v(e,n),r[13](n),v(e,o),v(e,l),v(l,u),v(u,f),v(f,m),v(u,s);for(let W=0;W<U.length;W+=1)U[W]&&U[W].m(u,null);v(l,d),v(l,h),v(h,w),v(h,_),v(h,b),v(h,F),v(l,A),v(l,k),v(k,P),S=!0,L||(N=[ht(e,"mouseenter",r[10]),ht(e,"mouseleave",r[11])],L=!0)},p(x,[Y]){var W;if(x[7]?D?(D.p(x,Y),Y&128&&Ye(D,1)):(D=Dr(x),D.c(),Ye(D,1),D.m(e,t)):D&&(kr(),at(D,1,1,()=>{D=null}),Ur()),(!S||Y&1&&!me(n.src,a=ft(x[0])))&&g(n,"src",a),(!S||Y&1&&i!==(i=x[0].name))&&g(n,"alt",i),(!S||Y&384)&&kt(n,"hide",x[7]||x[8]),(!S||Y&1)&&c!==(c=x[0].name+"")&&ee(m,c),Y&512){j=Ke(x[9]);let V;for(V=0;V<j.length;V+=1){const Z=Er(x,j,V);U[V]?U[V].p(Z,Y):(U[V]=Sr(Z),U[V].c(),U[V].m(u,null))}for(;V<U.length;V+=1)U[V].d(1);U.length=j.length}(!S||Y&1)&&p!==(p=x[0].manufacturer+"")&&ee(w,p),(!S||Y&1)&&y!==(y=x[0].year+"")&&ee(b,y),(!S||Y&1)&&E!==(E=((W=x[0].designers)==null?void 0:W.join(", "))+"")&&ee(P,E),(!S||Y&2)&&g(e,"href",x[1])},i(x){S||(Ye(D),S=!0)},o(x){at(D),S=!1},d(x){x&&C(e),D&&D.d(),r[13](null),At(U,x),L=!1,nr(N)}}}const Za=200;function $a(r,e,t){let n,{file:a=Bt}=e,{href:i=""}=e,o,l=0,u=0,f=0,c=0,m=!1,s=!1,d;const h=()=>{var b;const y=o.getBoundingClientRect();t(3,l=y.left),t(4,u=y.top),t(6,c=y.width),t(5,f=y.height),(b=document.getElementById("page"))==null||b.addEventListener("scroll",p),d=setTimeout(()=>{t(7,m=!0),d=void 0},Za)},p=()=>{var y;(y=document.getElementById("page"))==null||y.removeEventListener("scroll",p),d?(t(7,m=!1),clearTimeout(d)):m&&(t(7,m=!1),t(8,s=!0))},w=()=>t(8,s=!1);function _(y){xr[y?"unshift":"push"](()=>{o=y,t(2,o)})}return r.$$set=y=>{"file"in y&&t(0,a=y.file),"href"in y&&t(1,i=y.href)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=Array.from(new Set((a.tableFiles||[]).map(y=>y.tableFormat).filter(y=>!!y))))},[a,i,o,l,u,f,c,m,s,n,h,p,w,_]}class ei extends gt{constructor(e){super(),pt(this,e,$a,Ka,mt,{file:0,href:1})}}function Mr(r,e,t){const n=r.slice();return n[11]=e[t],n}function Tr(r){let e,t=r[11].toUpperCase()+"",n;return{c(){e=M("div"),n=X(t),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=O(e);n=J(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(a,i){pe(a,e,i),v(e,n)},p(a,i){i&1&&t!==(t=a[11].toUpperCase()+"")&&ee(n,t)},d(a){a&&C(e)}}}function ti(r){var H;let e,t,n,a,i,o,l,u,f,c,m,s,d,h,p=((H=r[0].game)==null?void 0:H.name)+"",w,_,y,b=r[0].tableFormat+"",F,A,k,E,P=r[6].manufacturer+"",S,L,N,D,j=r[6].year+"",U,I,x,Y,W=r[0].authors.join(", ")+"",V,Z,$,de,ue,ce,he,Be="Updated at",Ne,Pe,Me=dt(r[0].updatedAt)+"",je,Ee,Fe,lt,De,we,Ge="Added at",qe,ge,Oe=dt(r[0].createdAt||r[0].updatedAt)+"",Ce,be,Se,_e,ne,Te,Re,te,le,Ie,ae=Ke(r[0].features||[]),se=[];for(let z=0;z<ae.length;z+=1)se[z]=Tr(Mr(r,ae,z));return{c(){e=M("div"),t=M("img"),o=q(),l=M("div"),u=M("img"),m=q(),s=M("div"),d=M("div"),h=M("p"),w=X(p),_=q(),y=M("div"),F=X(b),A=q(),k=M("div"),E=M("p"),S=X(P),L=q(),N=M("p"),D=X("("),U=X(j),I=X(")"),x=q(),Y=M("p"),V=X(W),Z=q(),$=M("div");for(let z=0;z<se.length;z+=1)se[z].c();de=q(),ue=M("div"),ce=M("div"),he=M("p"),he.textContent=Be,Ne=q(),Pe=M("p"),je=X(Me),Ee=q(),Fe=M("div"),lt=q(),De=M("div"),we=M("p"),we.textContent=Ge,qe=q(),ge=M("p"),Ce=X(Oe),Se=q(),_e=Qe("svg"),ne=Qe("defs"),Te=Qe("clipPath"),Re=Qe("path"),this.h()},l(z){e=T(z,"DIV",{style:!0,class:!0});var G=O(e);t=T(G,"IMG",{src:!0,alt:!0,class:!0}),o=R(G),l=T(G,"DIV",{class:!0});var B=O(l);u=T(B,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=R(B),s=T(B,"DIV",{class:!0,style:!0});var K=O(s);d=T(K,"DIV",{class:!0});var xe=O(d);h=T(xe,"P",{class:!0});var $e=O(h);w=J($e,p),$e.forEach(C),_=R(xe),y=T(xe,"DIV",{class:!0});var yt=O(y);F=J(yt,b),yt.forEach(C),xe.forEach(C),A=R(K),k=T(K,"DIV",{class:!0});var ze=O(k);E=T(ze,"P",{class:!0});var wt=O(E);S=J(wt,P),wt.forEach(C),L=R(ze),N=T(ze,"P",{});var et=O(N);D=J(et,"("),U=J(et,j),I=J(et,")"),et.forEach(C),ze.forEach(C),x=R(K),Y=T(K,"P",{class:!0});var We=O(Y);V=J(We,W),We.forEach(C),Z=R(K),$=T(K,"DIV",{class:!0});var tt=O($);for(let Gt=0;Gt<se.length;Gt+=1)se[Gt].l(tt);tt.forEach(C),de=R(K),ue=T(K,"DIV",{class:!0});var Ve=O(ue);ce=T(Ve,"DIV",{class:!0});var Le=O(ce);he=T(Le,"P",{class:!0,"data-svelte-h":!0}),Ot(he)!=="svelte-g6tq99"&&(he.textContent=Be),Ne=R(Le),Pe=T(Le,"P",{class:!0});var bt=O(Pe);je=J(bt,Me),bt.forEach(C),Le.forEach(C),Ee=R(Ve),Fe=T(Ve,"DIV",{class:!0}),O(Fe).forEach(C),lt=R(Ve),De=T(Ve,"DIV",{class:!0});var rt=O(De);we=T(rt,"P",{class:!0,"data-svelte-h":!0}),Ot(we)!=="svelte-1gbi7dm"&&(we.textContent=Ge),qe=R(rt),ge=T(rt,"P",{class:!0});var _t=O(ge);Ce=J(_t,Oe),_t.forEach(C),rt.forEach(C),Ve.forEach(C),K.forEach(C),B.forEach(C),G.forEach(C),Se=R(z),_e=Xe(z,"svg",{width:!0,height:!0});var Ft=O(_e);ne=Xe(Ft,"defs",{});var Ae=O(ne);Te=Xe(Ae,"clipPath",{id:!0,clipPathUnits:!0});var fr=O(Te);Re=Xe(fr,"path",{d:!0}),O(Re).forEach(C),fr.forEach(C),Ae.forEach(C),Ft.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||ct)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1nresji"),me(u.src,f=r[0].imgUrl||ct)||g(u,"src",f),g(u,"alt",c=r[0].id),oe(u,"height","35%"),g(u,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-1nresji"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(y,"class","badge badge-glass my-auto py-0.5 px-1"),g(d,"class","flex gap-2 max-w-full"),g(E,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(k,"class","flex gap-1 text-center"),g(Y,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g($,"class","flex gap-2 mt-4 flex-wrap"),g(he,"class","text-xs font-bold uppercase opacity-40"),g(Pe,"class",""),g(ce,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Fe,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(we,"class","text-xs font-bold uppercase opacity-40"),g(ge,"class",""),g(De,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(ue,"class","flex mt-auto w-full"),g(s,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),oe(s,"top","calc("+r[3]*.885+"px - 8rem)"),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(Re,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Te,"id","myCurve"),g(Te,"clipPathUnits","objectBoundingBox"),g(_e,"width","0"),g(_e,"height","0")},m(z,G){pe(z,e,G),v(e,t),v(e,o),v(e,l),v(l,u),v(l,m),v(l,s),v(s,d),v(d,h),v(h,w),v(d,_),v(d,y),v(y,F),v(s,A),v(s,k),v(k,E),v(E,S),v(k,L),v(k,N),v(N,D),v(N,U),v(N,I),v(s,x),v(s,Y),v(Y,V),v(s,Z),v(s,$);for(let B=0;B<se.length;B+=1)se[B]&&se[B].m($,null);v(s,de),v(s,ue),v(ue,ce),v(ce,he),v(ce,Ne),v(ce,Pe),v(Pe,je),v(ue,Ee),v(ue,Fe),v(ue,lt),v(ue,De),v(De,we),v(De,qe),v(De,ge),v(ge,Ce),pe(z,Se,G),pe(z,_e,G),v(_e,ne),v(ne,Te),v(Te,Re),te=!0,le||(Ie=ht(t,"outroend",function(){Or(r[5])&&r[5].apply(this,arguments)}),le=!0)},p(z,[G]){var B;if(r=z,(!te||G&1&&!me(t.src,n=r[0].imgUrl||ct))&&g(t,"src",n),(!te||G&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!te||G&1&&!me(u.src,f=r[0].imgUrl||ct))&&g(u,"src",f),(!te||G&1&&c!==(c=r[0].id))&&g(u,"alt",c),(!te||G&1)&&p!==(p=((B=r[0].game)==null?void 0:B.name)+"")&&ee(w,p),(!te||G&1)&&b!==(b=r[0].tableFormat+"")&&ee(F,b),(!te||G&64)&&P!==(P=r[6].manufacturer+"")&&ee(S,P),(!te||G&64)&&j!==(j=r[6].year+"")&&ee(U,j),(!te||G&1)&&W!==(W=r[0].authors.join(", ")+"")&&ee(V,W),G&1){ae=Ke(r[0].features||[]);let K;for(K=0;K<ae.length;K+=1){const xe=Mr(r,ae,K);se[K]?se[K].p(xe,G):(se[K]=Tr(xe),se[K].c(),se[K].m($,null))}for(;K<se.length;K+=1)se[K].d(1);se.length=ae.length}(!te||G&1)&&Me!==(Me=dt(r[0].updatedAt)+"")&&ee(je,Me),(!te||G&1)&&Oe!==(Oe=dt(r[0].createdAt||r[0].updatedAt)+"")&&ee(Ce,Oe),(!te||G&8)&&oe(s,"top","calc("+r[3]*.885+"px - 8rem)"),(!te||G&2)&&oe(e,"left",r[1]+"px"),(!te||G&4)&&oe(e,"top",r[2]+"px"),(!te||G&16)&&oe(e,"width",r[4]+"px"),(!te||G&8)&&oe(e,"height",r[3]+"px")},i(z){te||(z&&xt(()=>{te&&(i||(i=Je(t,r[8],{duration:Tt},!0)),i.run(1))}),z&&xt(()=>{te&&(be||(be=Je(l,r[9],{duration:Tt},!0)),be.run(1))}),te=!0)},o(z){z&&(i||(i=Je(t,r[8],{duration:Tt},!1)),i.run(0)),z&&(be||(be=Je(l,r[9],{duration:Tt},!1)),be.run(0)),te=!1},d(z){z&&(C(e),C(Se),C(_e)),z&&i&&i.end(),At(se,z),z&&be&&be.end(),le=!1,Ie()}}}const Tt=100;function ri(r,e,t){let n,a;const{dbStore:i}=ot;Ar(r,i,h=>t(10,a=h));let{table:o=Lr}=e,{left:l=0}=e,{top:u=0}=e,{height:f=0}=e,{width:c=0}=e,{onEnd:m=()=>{}}=e;const s=(h,{duration:p,delay:w})=>({duration:p,delay:w,css:_=>{const y=Ut(_);return`
					transform: translateY(${y*-8}rem) scale(${1-y*.25});
					`}}),d=(h,{duration:p,delay:w})=>({duration:p,delay:w,css:_=>`
					transform: scale(${Ut(_)});
					`});return r.$$set=h=>{"table"in h&&t(0,o=h.table),"left"in h&&t(1,l=h.left),"top"in h&&t(2,u=h.top),"height"in h&&t(3,f=h.height),"width"in h&&t(4,c=h.width),"onEnd"in h&&t(5,m=h.onEnd)},r.$$.update=()=>{var h;r.$$.dirty&1025&&t(6,n=(h=o==null?void 0:o.game)!=null&&h.id?a[o.game.id]:Bt)},[o,l,u,f,c,m,n,i,s,d,a]}class ni extends gt{constructor(e){super(),pt(this,e,ri,ti,mt,{table:0,left:1,top:2,height:3,width:4,onEnd:5})}}function Pr(r){let e,t;return e=new ni({props:{table:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[14]}}),{c(){Ir(e.$$.fragment)},l(n){zr(e.$$.fragment,n)},m(n,a){Wr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.table=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[14]),e.$set(i)},i(n){t||(Ye(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){Vr(e,n)}}}function ai(r){var x,Y;let e,t,n,a,i,o,l,u,f,c=((x=r[0].game)==null?void 0:x.name)+"",m,s,d,h=r[0].tableFormat+"",p,w,_,y=r[9].manufacturer+"",b,F,A=r[9].year+"",k,E,P,S,L=((Y=r[0].authors)==null?void 0:Y.join(", "))+"",N,D,j,U,I=r[7]&&Pr(r);return{c(){e=M("a"),I&&I.c(),t=q(),n=M("img"),o=q(),l=M("div"),u=M("div"),f=M("p"),m=X(c),s=q(),d=M("div"),p=X(h),w=q(),_=M("p"),b=X(y),F=X(" ("),k=X(A),E=X(")"),P=q(),S=M("p"),N=X(L),this.h()},l(W){e=T(W,"A",{class:!0,href:!0});var V=O(e);I&&I.l(V),t=R(V),n=T(V,"IMG",{src:!0,alt:!0,class:!0}),o=R(V),l=T(V,"DIV",{class:!0});var Z=O(l);u=T(Z,"DIV",{class:!0});var $=O(u);f=T($,"P",{class:!0});var de=O(f);m=J(de,c),de.forEach(C),s=R($),d=T($,"DIV",{class:!0});var ue=O(d);p=J(ue,h),ue.forEach(C),$.forEach(C),w=R(Z),_=T(Z,"P",{});var ce=O(_);b=J(ce,y),F=J(ce," ("),k=J(ce,A),E=J(ce,")"),ce.forEach(C),P=R(Z),S=T(Z,"P",{class:!0});var he=O(S);N=J(he,L),he.forEach(C),Z.forEach(C),V.forEach(C),this.h()},h(){me(n.src,a=r[0].imgUrl||ct)||g(n,"src",a),g(n,"alt",i=r[0].id),g(n,"class","card pinImage bg-surface-300-600-token svelte-134rv7p"),kt(n,"hide",r[7]||r[8]),g(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(d,"class","badge badge-glass my-auto py-0.5 px-1"),g(u,"class","flex gap-2"),g(S,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(W,V){pe(W,e,V),I&&I.m(e,null),v(e,t),v(e,n),r[15](n),v(e,o),v(e,l),v(l,u),v(u,f),v(f,m),v(u,s),v(u,d),v(d,p),v(l,w),v(l,_),v(_,b),v(_,F),v(_,k),v(_,E),v(l,P),v(l,S),v(S,N),D=!0,j||(U=[ht(e,"mouseenter",r[11]),ht(e,"mouseleave",r[12])],j=!0)},p(W,[V]){var Z,$;W[7]?I?(I.p(W,V),V&128&&Ye(I,1)):(I=Pr(W),I.c(),Ye(I,1),I.m(e,t)):I&&(kr(),at(I,1,1,()=>{I=null}),Ur()),(!D||V&1&&!me(n.src,a=W[0].imgUrl||ct))&&g(n,"src",a),(!D||V&1&&i!==(i=W[0].id))&&g(n,"alt",i),(!D||V&384)&&kt(n,"hide",W[7]||W[8]),(!D||V&1)&&c!==(c=((Z=W[0].game)==null?void 0:Z.name)+"")&&ee(m,c),(!D||V&1)&&h!==(h=W[0].tableFormat+"")&&ee(p,h),(!D||V&512)&&y!==(y=W[9].manufacturer+"")&&ee(b,y),(!D||V&512)&&A!==(A=W[9].year+"")&&ee(k,A),(!D||V&1)&&L!==(L=(($=W[0].authors)==null?void 0:$.join(", "))+"")&&ee(N,L),(!D||V&2)&&g(e,"href",W[1])},i(W){D||(Ye(I),D=!0)},o(W){at(I),D=!1},d(W){W&&C(e),I&&I.d(),r[15](null),j=!1,nr(U)}}}const ii=200;function oi(r,e,t){let n,a;const{dbStore:i}=ot;Ar(r,i,F=>t(13,a=F));let{file:o=Lr}=e,{href:l=""}=e,u,f=0,c=0,m=0,s=0,d=!1,h=!1,p;const w=()=>{var A;const F=u.getBoundingClientRect();t(3,f=F.left),t(4,c=F.top),t(6,s=F.width),t(5,m=F.height),(A=document.getElementById("page"))==null||A.addEventListener("scroll",_),p=setTimeout(()=>{t(7,d=!0),p=void 0},ii)},_=()=>{var F;(F=document.getElementById("page"))==null||F.removeEventListener("scroll",_),p?(t(7,d=!1),clearTimeout(p)):d&&(t(7,d=!1),t(8,h=!0))},y=()=>t(8,h=!1);function b(F){xr[F?"unshift":"push"](()=>{u=F,t(2,u)})}return r.$$set=F=>{"file"in F&&t(0,o=F.file),"href"in F&&t(1,l=F.href)},r.$$.update=()=>{var F;r.$$.dirty&8193&&t(9,n=(F=o==null?void 0:o.game)!=null&&F.id?a[o.game.id]:Bt)},[o,l,u,f,c,m,s,d,h,n,i,w,_,a,y,b]}class li extends gt{constructor(e){super(),pt(this,e,oi,ai,mt,{file:0,href:1})}}const yi={game:{route:"games",name:"Games",component:ei},tableFiles:{route:"tables",name:"Tables",component:li},b2sFiles:{route:"b2s",name:"Backglasses",component:Pn},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:ke},altColorFiles:{route:"altcolors",name:"Alt. Colors",component:ke},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:ke},topperFiles:{route:"toppers",name:"Toppers",component:ke},romFiles:{route:"roms",name:"Roms",component:ke},povFiles:{route:"pov",name:"POVs",component:ke},soundFiles:{route:"sounds",name:"Sounds",component:ke},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:ke},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:ke},ruleFiles:{route:"rules",name:"Rules",component:ke}};export{ot as D,pi as S,li as T,vi as a,mi as b,gi as c,Ke as e,ci as f,hi as g,yi as m,di as u};
