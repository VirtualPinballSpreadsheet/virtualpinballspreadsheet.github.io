import{s as it,e as _t,i as Q,d,B as et,f as h,g,h as _,j as f,H as Mt,r as Ft,Y as Il,a as M,l as A,c as F,m as S,R as he,G as o,n as L,$ as Ct,Z as St,k as tt,T as se,I as ul,a8 as cl,x as dl,y as hl,z as gl,A as ml,Q as kl}from"./scheduler.a453f4b8.js";import{S as nt,i as ot,a as J,g as bt,t as ee,c as wt,b as lt,d as at,m as rt,e as st}from"./index.fa05b556.js";import{e as Oe}from"./each.f1319253.js";import{D as Ht,a as yl,d as Tl,c as vl,b as Pl,E as Cl}from"./DbStore.73c82363.js";import{P as Bt,g as Ml,p as Fl}from"./getBackglassUrl.fc240526.js";import{U as Dl,E as Vl}from"./UserStore.e4975efc.js";import{F as Ot,l as Al,h as Sl,i as Rl,A as Ut,B as Hl,C as Ol,D as zl,E as Ll,G as jl,H as Bl,I as Ul,z as Wl}from"./index.bb3a9776.js";import{w as Gl}from"./index.6e379fdf.js";import{m as pl}from"./ProgressBar.svelte_svelte_type_style_lang.c6c4a621.js";import{f as Vt}from"./formatDate.85208f9c.js";import{n as ql}from"./index.browser.7e542916.js";function Wt(t){let e,l,a,r,s;return l=new Ot({props:{icon:Al}}),{c(){e=h("a"),lt(l.$$.fragment),this.h()},l(i){e=g(i,"A",{href:!0,class:!0});var u=_(e);at(l.$$.fragment,u),u.forEach(d),this.h()},h(){f(e,"href","?edit=true"),f(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(i,u){Q(i,e,u),rt(l,e,null),a=!0,r||(s=Mt(e,"click",t[9]),r=!0)},p:Ft,i(i){a||(J(l.$$.fragment,i),a=!0)},o(i){ee(l.$$.fragment,i),a=!1},d(i){i&&d(e),st(l),r=!1,s()}}}function Nl(t){let e,l,a=t[0]&&t[1].admin&&Wt(t);return{c(){a&&a.c(),e=_t()},l(r){a&&a.l(r),e=_t()},m(r,s){a&&a.m(r,s),Q(r,e,s),l=!0},p(r,[s]){r[0]&&r[1].admin?a?(a.p(r,s),s&3&&J(a,1)):(a=Wt(r),a.c(),J(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),wt())},i(r){l||(J(a),l=!0)},o(r){ee(a),l=!1},d(r){r&&d(e),a&&a.d(r)}}}function Xl(t,e,l){let a,r,s,i;const{userStore:u}=Dl;et(t,u,m=>l(1,s=m));const{editStore:n}=Vl;et(t,n,m=>l(2,i=m));const{dbStore:p}=Ht;et(t,p,m=>l(8,r=m));let{file:v=void 0}=e,{game:I=void 0}=e;const E=()=>{Il(n,i.cache={id:a.id,action:"UPDATE",data:JSON.parse(JSON.stringify(a))},i)};return t.$$set=m=>{"file"in m&&l(6,v=m.file),"game"in m&&l(7,I=m.game)},t.$$.update=()=>{var m;t.$$.dirty&448&&l(0,a=I||((m=v==null?void 0:v.game)!=null&&m.id?r[v.game.id]:void 0))},[a,s,i,u,n,p,v,I,r,E]}class zt extends nt{constructor(e){super(),ot(this,e,Xl,Nl,it,{file:6,game:7})}}function Gt(t,e,l){const a=t.slice();return a[2]=e[l],a}function qt(t){let e,l=t[2]+"",a;return{c(){e=h("div"),a=A(l),this.h()},l(r){e=g(r,"DIV",{class:!0});var s=_(e);a=S(s,l),s.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,s){Q(r,e,s),o(e,a)},p(r,s){s&1&&l!==(l=r[2]+"")&&L(a,l)},d(r){r&&d(e)}}}function Zl(t){var W,x;let e,l,a,r,s,i,u,n,p,v,I=((W=t[0].game)==null?void 0:W.name)+"",E,m,w,T,z,O,U=(((x=t[0].authors)==null?void 0:x.join(", "))||"")+"",R,te,H,k,X=Oe(t[0].features||[]),y=[];for(let C=0;C<X.length;C+=1)y[C]=qt(Gt(t,X,C));return T=new zt({props:{file:t[0]}}),{c(){e=h("a"),l=h("img"),s=M(),i=h("hr"),u=M(),n=h("div"),p=h("div"),v=h("p"),E=A(I),m=M();for(let C=0;C<y.length;C+=1)y[C].c();w=M(),lt(T.$$.fragment),z=M(),O=h("h4"),R=A(U),this.h()},l(C){e=g(C,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var D=_(e);l=g(D,"IMG",{src:!0,alt:!0,class:!0}),s=F(D),i=g(D,"HR",{}),u=F(D),n=g(D,"DIV",{class:!0});var j=_(n);p=g(j,"DIV",{class:!0});var K=_(p);v=g(K,"P",{class:!0});var oe=_(v);E=S(oe,I),oe.forEach(d),m=F(K);for(let Z=0;Z<y.length;Z+=1)y[Z].l(K);w=F(K),at(T.$$.fragment,K),K.forEach(d),z=F(j),O=g(j,"H4",{class:!0});var re=_(O);R=S(re,U),re.forEach(d),j.forEach(d),D.forEach(d),this.h()},h(){var C;he(l.src,a=t[0].imgUrl||Bt)||f(l,"src",a),f(l,"alt",r=t[0].id),f(l,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),f(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(p,"class","flex gap-2"),f(O,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),f(n,"class","flex flex-col py-4"),f(e,"href",t[1]),f(e,"class","flex flex-col"),f(e,"id",te=t[0].id),f(e,"data-gameid",H=(C=t[0].game)==null?void 0:C.id),f(e,"data-filetype","b2sFiles")},m(C,D){Q(C,e,D),o(e,l),o(e,s),o(e,i),o(e,u),o(e,n),o(n,p),o(p,v),o(v,E),o(p,m);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(p,null);o(p,w),rt(T,p,null),o(n,z),o(n,O),o(O,R),k=!0},p(C,[D]){var K,oe,re;if((!k||D&1&&!he(l.src,a=C[0].imgUrl||Bt))&&f(l,"src",a),(!k||D&1&&r!==(r=C[0].id))&&f(l,"alt",r),(!k||D&1)&&I!==(I=((K=C[0].game)==null?void 0:K.name)+"")&&L(E,I),D&1){X=Oe(C[0].features||[]);let Z;for(Z=0;Z<X.length;Z+=1){const fe=Gt(C,X,Z);y[Z]?y[Z].p(fe,D):(y[Z]=qt(fe),y[Z].c(),y[Z].m(p,w))}for(;Z<y.length;Z+=1)y[Z].d(1);y.length=X.length}const j={};D&1&&(j.file=C[0]),T.$set(j),(!k||D&1)&&U!==(U=(((oe=C[0].authors)==null?void 0:oe.join(", "))||"")+"")&&L(R,U),(!k||D&2)&&f(e,"href",C[1]),(!k||D&1&&te!==(te=C[0].id))&&f(e,"id",te),(!k||D&1&&H!==(H=(re=C[0].game)==null?void 0:re.id))&&f(e,"data-gameid",H)},i(C){k||(J(T.$$.fragment,C),k=!0)},o(C){ee(T.$$.fragment,C),k=!1},d(C){C&&d(e),Ct(y,C),st(T)}}}function Jl(t,e,l){let{file:a=yl}=e,{href:r=""}=e;return t.$$set=s=>{"file"in s&&l(0,a=s.file),"href"in s&&l(1,r=s.href)},[a,r]}class Kl extends nt{constructor(e){super(),ot(this,e,Jl,Zl,it,{file:0,href:1})}}function Ql(t){var X;let e,l,a,r,s=(((X=t[0].game)==null?void 0:X.name)||"???")+"",i,u,n,p,v=(t[0].version||"")+"",I,E,m,w,T,z,O,U,R,te,H,k;return z=new zt({props:{file:t[0]}}),{c(){e=h("a"),l=h("div"),a=h("div"),r=h("span"),i=A(s),u=M(),n=h("div"),p=h("span"),I=A(v),E=M(),m=h("div"),w=M(),T=h("div"),lt(z.$$.fragment),O=M(),U=h("img"),this.h()},l(y){e=g(y,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var W=_(e);l=g(W,"DIV",{class:!0});var x=_(l);a=g(x,"DIV",{class:!0});var C=_(a);r=g(C,"SPAN",{class:!0});var D=_(r);i=S(D,s),D.forEach(d),u=F(C),n=g(C,"DIV",{class:!0});var j=_(n);p=g(j,"SPAN",{class:!0});var K=_(p);I=S(K,v),K.forEach(d),E=F(j),m=g(j,"DIV",{class:!0}),_(m).forEach(d),w=F(j),T=g(j,"DIV",{class:!0});var oe=_(T);at(z.$$.fragment,oe),oe.forEach(d),j.forEach(d),C.forEach(d),O=F(x),U=g(x,"IMG",{src:!0,class:!0,alt:!0}),x.forEach(d),W.forEach(d),this.h()},h(){var y;f(r,"class","font-bold"),f(p,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),f(m,"class","flex-1"),f(T,"class","shrink-0"),f(n,"class","flex justify-between max-w-full"),f(a,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),he(U.src,R=t[3])||f(U,"src",R),f(U,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),f(U,"alt",""),f(l,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),f(e,"href",t[1]),f(e,"id",te=t[0].id),f(e,"data-gameid",H=(y=t[0].game)==null?void 0:y.id),f(e,"data-filetype",t[2]),f(e,"class","aspect svelte-22xih4")},m(y,W){Q(y,e,W),o(e,l),o(l,a),o(a,r),o(r,i),o(a,u),o(a,n),o(n,p),o(p,I),o(n,E),o(n,m),o(n,w),o(n,T),rt(z,T,null),o(l,O),o(l,U),k=!0},p(y,[W]){var C,D;(!k||W&1)&&s!==(s=(((C=y[0].game)==null?void 0:C.name)||"???")+"")&&L(i,s),(!k||W&1)&&v!==(v=(y[0].version||"")+"")&&L(I,v);const x={};W&1&&(x.file=y[0]),z.$set(x),(!k||W&8&&!he(U.src,R=y[3]))&&f(U,"src",R),(!k||W&2)&&f(e,"href",y[1]),(!k||W&1&&te!==(te=y[0].id))&&f(e,"id",te),(!k||W&1&&H!==(H=(D=y[0].game)==null?void 0:D.id))&&f(e,"data-gameid",H),(!k||W&4)&&f(e,"data-filetype",y[2])},i(y){k||(J(z.$$.fragment,y),k=!0)},o(y){ee(z.$$.fragment,y),k=!1},d(y){y&&d(e),st(z)}}}function Yl(t,e,l){let a;const{getGameImage:r}=Ht;let{file:s=Tl}=e,{href:i=""}=e,{fileType:u}=e;return t.$$set=n=>{"file"in n&&l(0,s=n.file),"href"in n&&l(1,i=n.href),"fileType"in n&&l(2,u=n.fileType)},t.$$.update=()=>{var n;t.$$.dirty&1&&l(3,a=(n=s.game)!=null&&n.id?r(s.game.id):"")},[s,i,u,a]}class Xe extends nt{constructor(e){super(),ot(this,e,Yl,Ql,it,{file:0,href:1,fileType:2})}}/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function $l(t){var e=t.toString(16);return e.length===1?"0"+e:e}function Nt(t){return"#"+t.map($l).join("")}function xl(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function ea(t){return t?ta(t)?t:[t]:[]}function ta(t){return Array.isArray(t[0])}function Lt(t,e,l){for(var a=0;a<l.length;a++)if(la(t,e,l[a]))return!0;return!1}function la(t,e,l){switch(l.length){case 3:if(aa(t,e,l))return!0;break;case 4:if(ra(t,e,l))return!0;break;case 5:if(sa(t,e,l))return!0;break;default:return!1}}function aa(t,e,l){return t[e+3]!==255||t[e]===l[0]&&t[e+1]===l[1]&&t[e+2]===l[2]}function ra(t,e,l){return t[e+3]&&l[3]?t[e]===l[0]&&t[e+1]===l[1]&&t[e+2]===l[2]&&t[e+3]===l[3]:t[e+3]===l[3]}function Dt(t,e,l){return t>=e-l&&t<=e+l}function sa(t,e,l){var a=l[0],r=l[1],s=l[2],i=l[3],u=l[4],n=t[e+3],p=Dt(n,i,u);return i?!!(!n&&p||Dt(t[e],a,u)&&Dt(t[e+1],r,u)&&Dt(t[e+2],s,u)&&p):p}function ia(t,e,l){for(var a={},r=24,s=l.ignoredColor,i=l.step,u=[0,0,0,0,0],n=0;n<e;n+=i){var p=t[n],v=t[n+1],I=t[n+2],E=t[n+3];if(!(s&&Lt(t,n,s))){var m=Math.round(p/r)+","+Math.round(v/r)+","+Math.round(I/r);a[m]?a[m]=[a[m][0]+p*E,a[m][1]+v*E,a[m][2]+I*E,a[m][3]+E,a[m][4]+1]:a[m]=[p*E,v*E,I*E,E,1],u[4]<a[m][4]&&(u=a[m])}}var w=u[0],T=u[1],z=u[2],O=u[3],U=u[4];return O?[Math.round(w/O),Math.round(T/O),Math.round(z/O),Math.round(O/U)]:l.defaultColor}function na(t,e,l){for(var a=0,r=0,s=0,i=0,u=0,n=l.ignoredColor,p=l.step,v=0;v<e;v+=p){var I=t[v+3],E=t[v]*I,m=t[v+1]*I,w=t[v+2]*I;n&&Lt(t,v,n)||(a+=E,r+=m,s+=w,i+=I,u++)}return i?[Math.round(a/i),Math.round(r/i),Math.round(s/i),Math.round(i/u)]:l.defaultColor}function oa(t,e,l){for(var a=0,r=0,s=0,i=0,u=0,n=l.ignoredColor,p=l.step,v=0;v<e;v+=p){var I=t[v],E=t[v+1],m=t[v+2],w=t[v+3];n&&Lt(t,v,n)||(a+=I*I*w,r+=E*E*w,s+=m*m*w,i+=w,u++)}return i?[Math.round(Math.sqrt(a/i)),Math.round(Math.sqrt(r/i)),Math.round(Math.sqrt(s/i)),Math.round(i/u)]:l.defaultColor}function Xt(t){return Pt(t,"defaultColor",[0,0,0,0])}function Pt(t,e,l){return t[e]===void 0?l:t[e]}var Zt=10,Rt=100;function fa(t){return t.search(/\.svg(\?|$)/i)!==-1}function ua(t){if(_l(t)){var e=t.naturalWidth,l=t.naturalHeight;return!t.naturalWidth&&fa(t.src)&&(e=l=Rt),{width:e,height:l}}return da(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function Jt(t){return ha(t)?"canvas":ca(t)?"offscreencanvas":ga(t)?"imagebitmap":t.src}function _l(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var bl=typeof OffscreenCanvas<"u";function ca(t){return bl&&t instanceof OffscreenCanvas}function da(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function ha(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function ga(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function ma(t,e){var l=Pt(e,"left",0),a=Pt(e,"top",0),r=Pt(e,"width",t.width),s=Pt(e,"height",t.height),i=r,u=s;if(e.mode==="precision")return{srcLeft:l,srcTop:a,srcWidth:r,srcHeight:s,destWidth:i,destHeight:u};var n;return r>s?(n=r/s,i=Rt,u=Math.round(i/n)):(n=s/r,u=Rt,i=Math.round(u/n)),(i>r||u>s||i<Zt||u<Zt)&&(i=r,u=s),{srcLeft:l,srcTop:a,srcWidth:r,srcHeight:s,destWidth:i,destHeight:u}}var va=typeof window>"u";function pa(){return va?bl?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var _a="FastAverageColor: ";function He(t){return Error(_a+t)}function Tt(t,e){e||console.error(t)}var wl=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,l){if(!e)return Promise.reject(He("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(He("resource as string is not supported in this environment"));var a=new Image;return a.crossOrigin=l&&l.crossOrigin||"",a.src=e,this.bindImageEvents(a,l)}else{if(_l(e)&&!e.complete)return this.bindImageEvents(e,l);var r=this.getColor(e,l);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,l){l=l||{};var a=Xt(l);if(!e){var r=He("call .getColor(null) without resource");return Tt(r,l.silent),this.prepareResult(a,r)}var s=ua(e),i=ma(s,l);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var r=He('incorrect sizes for resource "'.concat(Jt(e),'"'));return Tt(r,l.silent),this.prepareResult(a,r)}if(!this.canvas&&(this.canvas=pa(),!this.canvas)){var r=He("OffscreenCanvas is not supported in this browser");return Tt(r,l.silent),this.prepareResult(a,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=He("Canvas Context 2D is not supported in this browser");return Tt(r,l.silent),this.prepareResult(a)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var u=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(u,l))}catch(n){var r=He("security error (CORS) for resource ".concat(Jt(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Tt(r,l.silent),!l.silent&&console.error(n),this.prepareResult(a,r)}},t.prototype.getColorFromArray4=function(e,l){l=l||{};var a=4,r=e.length,s=Xt(l);if(r<a)return s;var i=r-r%a,u=(l.step||1)*a,n;switch(l.algorithm||"sqrt"){case"simple":n=na;break;case"sqrt":n=oa;break;case"dominant":n=ia;break;default:throw He("".concat(l.algorithm," is unknown algorithm"))}return n(e,i,{defaultColor:s,ignoredColor:ea(l.ignoredColor),step:u})},t.prototype.prepareResult=function(e,l){var a=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],s=xl(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+a.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Nt(a),hexa:Nt(e),isDark:s,isLight:!s,error:l}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,l){var a=this;return new Promise(function(r,s){var i=function(){p();var v=a.getColor(e,l);v.error?s(v.error):r(v)},u=function(){p(),s(He('Error loading image "'.concat(e.src,'".')))},n=function(){p(),s(He('Image "'.concat(e.src,'" loading aborted')))},p=function(){e.removeEventListener("load",i),e.removeEventListener("error",u),e.removeEventListener("abort",n)};e.addEventListener("load",i),e.addEventListener("error",u),e.addEventListener("abort",n)})},t}();const El=Gl({width:0,height:0,mobile:!1});function Kt(t,e,l){const a=t.slice();return a[12]=e[l],a}function Qt(t,e,l){const a=t.slice();return a[15]=e[l],a}function Yt(t,e,l){const a=t.slice();return a[12]=e[l],a}function $t(t){let e,l,a;return{c(){e=h("img"),this.h()},l(r){e=g(r,"IMG",{src:!0,alt:!0,style:!0,class:!0,loading:!0,decoding:!0}),this.h()},h(){he(e.src,l=t[4])||f(e,"src",l),f(e,"alt",a=t[0].id),tt(e,"height","36%"),f(e,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),f(e,"loading","lazy"),f(e,"decoding","async")},m(r,s){Q(r,e,s)},p(r,s){s&16&&!he(e.src,l=r[4])&&f(e,"src",l),s&1&&a!==(a=r[0].id)&&f(e,"alt",a)},d(r){r&&d(e)}}}function xt(t){let e,l=t[12]+"",a,r;return{c(){e=h("div"),a=A(l),r=M(),this.h()},l(s){e=g(s,"DIV",{class:!0});var i=_(e);a=S(i,l),r=F(i),i.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){Q(s,e,i),o(e,a),o(e,r)},p(s,i){i&32&&l!==(l=s[12]+"")&&L(a,l)},d(s){s&&d(e)}}}function el(t){let e,l=t[15].toUpperCase()+"",a;return{c(){e=h("div"),a=A(l),this.h()},l(r){e=g(r,"DIV",{class:!0});var s=_(e);a=S(s,l),s.forEach(d),this.h()},h(){f(e,"class","badge variant-filled-surface")},m(r,s){Q(r,e,s),o(e,a)},p(r,s){s&1&&l!==(l=r[15].toUpperCase()+"")&&L(a,l)},d(r){r&&d(e)}}}function tl(t){let e,l=t[12]+"",a,r;return{c(){e=h("div"),a=A(l),r=M(),this.h()},l(s){e=g(s,"DIV",{class:!0});var i=_(e);a=S(i,l),r=F(i),i.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){Q(s,e,i),o(e,a),o(e,r)},p(s,i){i&32&&l!==(l=s[12]+"")&&L(a,l)},d(s){s&&d(e)}}}function ba(t){var Et,It;let e,l,a,r,s,i,u=t[0].name+"",n,p,v,I,E,m=t[0].manufacturer+"",w,T,z,O,U=t[0].year+"",R,te,H,k,X=(((Et=t[0].designers)==null?void 0:Et.join(", "))||"-")+"",y,W,x,C,D,j,K,oe="Updated at",re,Z,fe=Vt(t[0].lastCreatedAt??t[0].updatedAt)+"",ge,we,Ze,ft,ue,me,ut="Type",ct,Y,Te=(t[0].type||"-")+"",ze,dt,q,ve,pe,Le,ie,ce,Ee,je=t[0].name+"",Ie,Be,Je,_e,de=t[0].manufacturer+"",Pe,Ke,Ue=t[0].year+"",Ce,Qe,ht,Me,be=(((It=t[0].designers)==null?void 0:It.join(", "))||"")+"",Fe,We,Ye,gt,V=t[3]&&$t(t),De=Oe(t[5]),le=[];for(let c=0;c<De.length;c+=1)le[c]=xt(Yt(t,De,c));let $=Oe(t[0].theme||[]),B=[];for(let c=0;c<$.length;c+=1)B[c]=el(Qt(t,$,c));let Ge=Oe(t[5]),ae=[];for(let c=0;c<Ge.length;c+=1)ae[c]=tl(Kt(t,Ge,c));return{c(){e=h("a"),l=h("div"),V&&V.c(),a=M(),r=h("div"),s=h("div"),i=h("p"),n=A(u),p=M();for(let c=0;c<le.length;c+=1)le[c].c();v=M(),I=h("div"),E=h("p"),w=A(m),T=M(),z=h("p"),O=A("("),R=A(U),te=A(")"),H=M(),k=h("p"),y=A(X),W=M(),x=h("div");for(let c=0;c<B.length;c+=1)B[c].c();C=M(),D=h("div"),j=h("div"),K=h("p"),K.textContent=oe,re=M(),Z=h("p"),ge=A(fe),we=M(),Ze=h("div"),ft=M(),ue=h("div"),me=h("p"),me.textContent=ut,ct=M(),Y=h("p"),ze=A(Te),dt=M(),q=h("img"),Le=M(),ie=h("div"),ce=h("div"),Ee=h("p"),Ie=A(je),Be=M();for(let c=0;c<ae.length;c+=1)ae[c].c();Je=M(),_e=h("p"),Pe=A(de),Ke=A(" ("),Ce=A(Ue),Qe=A(")"),ht=M(),Me=h("p"),Fe=A(be),this.h()},l(c){e=g(c,"A",{class:!0,href:!0,id:!0});var b=_(e);l=g(b,"DIV",{class:!0,style:!0});var G=_(l);V&&V.l(G),a=F(G),r=g(G,"DIV",{class:!0,style:!0});var N=_(r);s=g(N,"DIV",{class:!0});var P=_(s);i=g(P,"P",{class:!0});var ne=_(i);n=S(ne,u),ne.forEach(d),p=F(P);for(let ye=0;ye<le.length;ye+=1)le[ye].l(P);P.forEach(d),v=F(N),I=g(N,"DIV",{class:!0});var Ve=_(I);E=g(Ve,"P",{class:!0});var Ae=_(E);w=S(Ae,m),Ae.forEach(d),T=F(Ve),z=g(Ve,"P",{});var Se=_(z);O=S(Se,"("),R=S(Se,U),te=S(Se,")"),Se.forEach(d),Ve.forEach(d),H=F(N),k=g(N,"P",{class:!0});var mt=_(k);y=S(mt,X),mt.forEach(d),W=F(N),x=g(N,"DIV",{class:!0});var kt=_(x);for(let ye=0;ye<B.length;ye+=1)B[ye].l(kt);kt.forEach(d),C=F(N),D=g(N,"DIV",{class:!0});var qe=_(D);j=g(qe,"DIV",{class:!0});var Ne=_(j);K=g(Ne,"P",{class:!0,"data-svelte-h":!0}),St(K)!=="svelte-g6tq99"&&(K.textContent=oe),re=F(Ne),Z=g(Ne,"P",{class:!0});var yt=_(Z);ge=S(yt,fe),yt.forEach(d),Ne.forEach(d),we=F(qe),Ze=g(qe,"DIV",{class:!0}),_(Ze).forEach(d),ft=F(qe),ue=g(qe,"DIV",{class:!0});var ke=_(ue);me=g(ke,"P",{class:!0,"data-svelte-h":!0}),St(me)!=="svelte-1h1g7sd"&&(me.textContent=ut),ct=F(ke),Y=g(ke,"P",{class:!0});var vt=_(Y);ze=S(vt,Te),vt.forEach(d),ke.forEach(d),qe.forEach(d),N.forEach(d),G.forEach(d),dt=F(b),q=g(b,"IMG",{src:!0,alt:!0,class:!0,loading:!0,decoding:!0}),Le=F(b),ie=g(b,"DIV",{class:!0});var Re=_(ie);ce=g(Re,"DIV",{class:!0});var pt=_(ce);Ee=g(pt,"P",{class:!0});var $e=_(Ee);Ie=S($e,je),$e.forEach(d),Be=F(pt);for(let ye=0;ye<ae.length;ye+=1)ae[ye].l(pt);pt.forEach(d),Je=F(Re),_e=g(Re,"P",{});var xe=_(_e);Pe=S(xe,de),Ke=S(xe," ("),Ce=S(xe,Ue),Qe=S(xe,")"),xe.forEach(d),ht=F(Re),Me=g(Re,"P",{class:!0});var jt=_(Me);Fe=S(jt,be),jt.forEach(d),Re.forEach(d),b.forEach(d),this.h()},h(){f(i,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(s,"class","flex gap-2 max-w-full"),f(E,"class","text-ellipsis whitespace-nowrap overflow-hidden"),f(I,"class","flex gap-1 text-center max-w-full"),f(k,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),f(x,"class","flex gap-2 mt-4 flex-wrap"),f(K,"class","text-xs font-bold uppercase opacity-40"),f(Z,"class",""),f(j,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(Ze,"class","bg-surface-900-50-token h-full w-px opacity-20"),f(me,"class","text-xs font-bold uppercase opacity-40"),f(Y,"class",""),f(ue,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(D,"class","flex mt-auto w-full"),f(r,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),tt(r,"top","calc(90% - 13rem)"),f(l,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-1sv6zb5"),tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),se(l,"hovered",t[3]),he(q.src,ve=t[4])||f(q,"src",ve),f(q,"alt",pe=t[0].name),f(q,"class","card pinImage bg-surface-300-600-token shadow-black svelte-1sv6zb5"),f(q,"loading","lazy"),f(q,"decoding","async"),se(q,"hovered",t[3]),se(q,"shadow-lg",t[3]),f(Ee,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(ce,"class","flex gap-2"),f(Me,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),f(ie,"class","info flex flex-col py-4 svelte-1sv6zb5"),se(ie,"opacity-0",t[3]),f(e,"class","wrapper relative z-0"),f(e,"href",t[1]),f(e,"id",We=t[0].id)},m(c,b){Q(c,e,b),o(e,l),V&&V.m(l,null),o(l,a),o(l,r),o(r,s),o(s,i),o(i,n),o(s,p);for(let G=0;G<le.length;G+=1)le[G]&&le[G].m(s,null);o(r,v),o(r,I),o(I,E),o(E,w),o(I,T),o(I,z),o(z,O),o(z,R),o(z,te),o(r,H),o(r,k),o(k,y),o(r,W),o(r,x);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(x,null);o(r,C),o(r,D),o(D,j),o(j,K),o(j,re),o(j,Z),o(Z,ge),o(D,we),o(D,Ze),o(D,ft),o(D,ue),o(ue,me),o(ue,ct),o(ue,Y),o(Y,ze),o(e,dt),o(e,q),o(e,Le),o(e,ie),o(ie,ce),o(ce,Ee),o(Ee,Ie),o(ce,Be);for(let G=0;G<ae.length;G+=1)ae[G]&&ae[G].m(ce,null);o(ie,Je),o(ie,_e),o(_e,Pe),o(_e,Ke),o(_e,Ce),o(_e,Qe),o(ie,ht),o(ie,Me),o(Me,Fe),Ye||(gt=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],Ye=!0)},p(c,[b]){var G,N;if(c[3]?V?V.p(c,b):(V=$t(c),V.c(),V.m(l,a)):V&&(V.d(1),V=null),b&1&&u!==(u=c[0].name+"")&&L(n,u),b&32){De=Oe(c[5]);let P;for(P=0;P<De.length;P+=1){const ne=Yt(c,De,P);le[P]?le[P].p(ne,b):(le[P]=xt(ne),le[P].c(),le[P].m(s,null))}for(;P<le.length;P+=1)le[P].d(1);le.length=De.length}if(b&1&&m!==(m=c[0].manufacturer+"")&&L(w,m),b&1&&U!==(U=c[0].year+"")&&L(R,U),b&1&&X!==(X=(((G=c[0].designers)==null?void 0:G.join(", "))||"-")+"")&&L(y,X),b&1){$=Oe(c[0].theme||[]);let P;for(P=0;P<$.length;P+=1){const ne=Qt(c,$,P);B[P]?B[P].p(ne,b):(B[P]=el(ne),B[P].c(),B[P].m(x,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=$.length}if(b&1&&fe!==(fe=Vt(c[0].lastCreatedAt??c[0].updatedAt)+"")&&L(ge,fe),b&1&&Te!==(Te=(c[0].type||"-")+"")&&L(ze,Te),b&68&&tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[6]?100:900)+")) "+(c[6]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[6]?100:600})`)+")",1),b&8&&se(l,"hovered",c[3]),b&16&&!he(q.src,ve=c[4])&&f(q,"src",ve),b&1&&pe!==(pe=c[0].name)&&f(q,"alt",pe),b&8&&se(q,"hovered",c[3]),b&8&&se(q,"shadow-lg",c[3]),b&1&&je!==(je=c[0].name+"")&&L(Ie,je),b&32){Ge=Oe(c[5]);let P;for(P=0;P<Ge.length;P+=1){const ne=Kt(c,Ge,P);ae[P]?ae[P].p(ne,b):(ae[P]=tl(ne),ae[P].c(),ae[P].m(ce,null))}for(;P<ae.length;P+=1)ae[P].d(1);ae.length=Ge.length}b&1&&de!==(de=c[0].manufacturer+"")&&L(Pe,de),b&1&&Ue!==(Ue=c[0].year+"")&&L(Ce,Ue),b&1&&be!==(be=(((N=c[0].designers)==null?void 0:N.join(", "))||"")+"")&&L(Fe,be),b&8&&se(ie,"opacity-0",c[3]),b&2&&f(e,"href",c[1]),b&1&&We!==(We=c[0].id)&&f(e,"id",We)},i:Ft,o:Ft,d(c){c&&d(e),V&&V.d(),Ct(le,c),Ct(B,c),Ct(ae,c),Ye=!1,ul(gt)}}}function wa(t,e,l){let a,r,s,i;et(t,El,w=>l(10,s=w)),et(t,pl,w=>l(6,i=w));const u=new wl;let{file:n=vl}=e,{href:p=""}=e,v="",I=!1;const E=()=>{s.mobile||l(3,I=!0)},m=()=>{s.mobile||l(3,I=!1)};return cl(()=>{u&&u.destroy()}),t.$$set=w=>{"file"in w&&l(0,n=w.file),"href"in w&&l(1,p=w.href)},t.$$.update=()=>{t.$$.dirty&1&&l(4,a=Ml(n)),t.$$.dirty&1&&l(5,r=Array.from(new Set((n.tableFiles||[]).map(w=>w.tableFormat).filter(w=>!!w)))),t.$$.dirty&28&&I&&a&&!v&&u.getColorAsync(a,{algorithm:"simple"}).then(w=>{w&&l(2,v=w.rgb)}).catch(()=>{})},[n,p,v,I,a,r,i,E,m]}class Ea extends nt{constructor(e){super(),ot(this,e,wa,ba,it,{file:0,href:1})}}const At=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,ll={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500",VLM:"bg-lime-500"},al={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",VLM:"VPX Light Mapper -- enhanced lighting",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function Ia(t){let e;const l=t[4].default,a=dl(l,t,t[3],null);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,s){a&&a.m(r,s),e=!0},p(r,s){a&&a.p&&(!e||s&8)&&hl(a,l,r,r[3],e?ml(l,r[3],s,null):gl(r[3]),null)},i(r){e||(J(a,r),e=!0)},o(r){ee(a,r),e=!1},d(r){a&&a.d(r)}}}function ka(t){let e,l,a,r,s,i,u,n,p,v;const I=t[4].default,E=dl(I,t,t[3],null);return{c(){e=h("div"),E&&E.c(),l=M(),a=h("div"),r=h("p"),s=A(t[0]),i=M(),u=h("div"),this.h()},l(m){e=g(m,"DIV",{});var w=_(e);E&&E.l(w),w.forEach(d),l=F(m),a=g(m,"DIV",{class:!0,"data-popup":!0});var T=_(a);r=g(T,"P",{});var z=_(r);s=S(z,t[0]),z.forEach(d),i=F(T),u=g(T,"DIV",{class:!0}),_(u).forEach(d),T.forEach(d),this.h()},h(){f(u,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),f(a,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),f(a,"data-popup",t[1])},m(m,w){Q(m,e,w),E&&E.m(e,null),Q(m,l,w),Q(m,a,w),o(a,r),o(r,s),o(a,i),o(a,u),n=!0,p||(v=kl(Fl.call(null,e,t[2])),p=!0)},p(m,w){E&&E.p&&(!n||w&8)&&hl(E,I,m,m[3],n?ml(I,m[3],w,null):gl(m[3]),null),(!n||w&1)&&L(s,m[0])},i(m){n||(J(E,m),n=!0)},o(m){ee(E,m),n=!1},d(m){m&&(d(e),d(l),d(a)),E&&E.d(m),p=!1,v()}}}function ya(t){let e,l,a,r;const s=[ka,Ia],i=[];function u(n,p){return n[0]?0:1}return e=u(t),l=i[e]=s[e](t),{c(){l.c(),a=_t()},l(n){l.l(n),a=_t()},m(n,p){i[e].m(n,p),Q(n,a,p),r=!0},p(n,[p]){let v=e;e=u(n),e===v?i[e].p(n,p):(bt(),ee(i[v],1,1,()=>{i[v]=null}),wt(),l=i[e],l?l.p(n,p):(l=i[e]=s[e](n),l.c()),J(l,1),l.m(a.parentNode,a))},i(n){r||(J(l),r=!0)},o(n){ee(l),r=!1},d(n){n&&d(a),i[e].d(n)}}}function Ta(t,e,l){let{$$slots:a={},$$scope:r}=e,{content:s=""}=e;const i=ql(10),u={event:"hover",target:i,placement:"top"};return t.$$set=n=>{"content"in n&&l(0,s=n.content),"$$scope"in n&&l(3,r=n.$$scope)},[s,i,u,r,a]}class Pa extends nt{constructor(e){super(),ot(this,e,Ta,ya,it,{content:0})}}function rl(t,e,l){const a=t.slice();return a[1]=e[l],a}function sl(t){let e,l,a=Oe(t[0]||[]),r=[];for(let i=0;i<a.length;i+=1)r[i]=il(rl(t,a,i));const s=i=>ee(r[i],1,1,()=>{r[i]=null});return{c(){e=h("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=g(i,"DIV",{class:!0});var u=_(e);for(let n=0;n<r.length;n+=1)r[n].l(u);u.forEach(d),this.h()},h(){f(e,"class","flex gap-1 flex-wrap")},m(i,u){Q(i,e,u);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);l=!0},p(i,u){if(u&1){a=Oe(i[0]||[]);let n;for(n=0;n<a.length;n+=1){const p=rl(i,a,n);r[n]?(r[n].p(p,u),J(r[n],1)):(r[n]=il(p),r[n].c(),J(r[n],1),r[n].m(e,null))}for(bt(),n=a.length;n<r.length;n+=1)s(n);wt()}},i(i){if(!l){for(let u=0;u<a.length;u+=1)J(r[u]);l=!0}},o(i){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)ee(r[u]);l=!1},d(i){i&&d(e),Ct(r,i)}}}function Ca(t){let e,l,a,r=t[1].toUpperCase()+"",s,i;return{c(){e=h("div"),l=h("span"),s=A(r),i=M(),this.h()},l(u){e=g(u,"DIV",{class:!0});var n=_(e);l=g(n,"SPAN",{class:!0}),_(l).forEach(d),s=S(n,r),n.forEach(d),i=F(u),this.h()},h(){f(l,"class",a="rounded-full h-2 w-2 "+(ll[t[1]]||"bg-slate-500")+" mr-2"),f(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(u,n){Q(u,e,n),o(e,l),o(e,s),Q(u,i,n)},p(u,n){n&1&&a!==(a="rounded-full h-2 w-2 "+(ll[u[1]]||"bg-slate-500")+" mr-2")&&f(l,"class",a),n&1&&r!==(r=u[1].toUpperCase()+"")&&L(s,r)},d(u){u&&(d(e),d(i))}}}function il(t){let e,l;return e=new Pa({props:{content:al[t[1]],$$slots:{default:[Ca]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},l(a){at(e.$$.fragment,a)},m(a,r){rt(e,a,r),l=!0},p(a,r){const s={};r&1&&(s.content=al[a[1]]),r&17&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){l||(J(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){st(e,a)}}}function Ma(t){var r;let e,l,a=((r=t[0])==null?void 0:r.length)&&sl(t);return{c(){a&&a.c(),e=_t()},l(s){a&&a.l(s),e=_t()},m(s,i){a&&a.m(s,i),Q(s,e,i),l=!0},p(s,[i]){var u;(u=s[0])!=null&&u.length?a?(a.p(s,i),i&1&&J(a,1)):(a=sl(s),a.c(),J(a,1),a.m(e.parentNode,e)):a&&(bt(),ee(a,1,1,()=>{a=null}),wt())},i(s){l||(J(a),l=!0)},o(s){ee(a),l=!1},d(s){s&&d(e),a&&a.d(s)}}}function Fa(t,e,l){let{data:a=[]}=e;return t.$$set=r=>{"data"in r&&l(0,a=r.data)},[a]}class Da extends nt{constructor(e){super(),ot(this,e,Fa,Ma,it,{data:0})}}function nl(t){let e,l,a;return{c(){e=h("img"),this.h()},l(r){e=g(r,"IMG",{src:!0,alt:!0,style:!0,class:!0,loading:!0,decoding:!0}),this.h()},h(){he(e.src,l=t[0].imgUrl||At)||f(e,"src",l),f(e,"alt",a=t[0].id),tt(e,"height","35%"),f(e,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),f(e,"loading","lazy"),f(e,"decoding","async")},m(r,s){Q(r,e,s)},p(r,s){s&1&&!he(e.src,l=r[0].imgUrl||At)&&f(e,"src",l),s&1&&a!==(a=r[0].id)&&f(e,"alt",a)},d(r){r&&d(e)}}}function ol(t){let e,l,a=t[0].edition+"",r;return{c(){e=h("div"),l=h("p"),r=A(a),this.h()},l(s){e=g(s,"DIV",{class:!0});var i=_(e);l=g(i,"P",{class:!0});var u=_(l);r=S(u,a),u.forEach(d),i.forEach(d),this.h()},h(){f(l,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(e,"class","flex gap-2 max-w-full")},m(s,i){Q(s,e,i),o(e,l),o(l,r)},p(s,i){i&1&&a!==(a=s[0].edition+"")&&L(r,a)},d(s){s&&d(e)}}}function Va(t){var Ge,ae,Et,It;let e,l,a,r,s,i,u=((Ge=t[0].game)==null?void 0:Ge.name)+"",n,p,v,I=t[0].tableFormat+"",E,m,w,T,z,O,U,R=t[4].manufacturer+"",te,H,k,X,y=t[4].year+"",W,x,C,D,j=(((ae=t[0].authors)==null?void 0:ae.join(", "))||"-")+"",K,oe,re,Z,fe,ge,we,Ze="Updated at",ft,ue,me=Vt(t[0].createdAt??t[0].updatedAt)+"",ut,ct,Y,Te,ze,dt,q,ve,pe,Le=((Et=t[0].game)==null?void 0:Et.name)+"",ie,ce=t[0].edition?` ${t[0].edition}`:"",Ee,je,Ie,Be=t[0].tableFormat+"",Je,_e,de,Pe=t[4].manufacturer+"",Ke,Ue,Ce=t[4].year+"",Qe,ht,Me,be,Fe=((It=t[0].authors)==null?void 0:It.join(", "))+"",We,Ye,gt,V,De,le,$=t[3]&&nl(t);w=new zt({props:{game:t[4]}});let B=t[0].edition&&ol(t);return re=new Da({props:{data:t[0].features}}),{c(){e=h("a"),l=h("div"),$&&$.c(),a=M(),r=h("div"),s=h("div"),i=h("p"),n=A(u),p=M(),v=h("div"),E=A(I),m=M(),lt(w.$$.fragment),T=M(),B&&B.c(),z=M(),O=h("div"),U=h("p"),te=A(R),H=M(),k=h("p"),X=A("("),W=A(y),x=A(")"),C=M(),D=h("p"),K=A(j),oe=M(),lt(re.$$.fragment),Z=M(),fe=h("div"),ge=h("div"),we=h("p"),we.textContent=Ze,ft=M(),ue=h("p"),ut=A(me),ct=M(),Y=h("img"),dt=M(),q=h("div"),ve=h("div"),pe=h("p"),ie=A(Le),Ee=A(ce),je=M(),Ie=h("div"),Je=A(Be),_e=M(),de=h("p"),Ke=A(Pe),Ue=A(" ("),Qe=A(Ce),ht=A(")"),Me=M(),be=h("p"),We=A(Fe),this.h()},l(c){e=g(c,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var b=_(e);l=g(b,"DIV",{style:!0,class:!0});var G=_(l);$&&$.l(G),a=F(G),r=g(G,"DIV",{class:!0,style:!0});var N=_(r);s=g(N,"DIV",{class:!0});var P=_(s);i=g(P,"P",{class:!0});var ne=_(i);n=S(ne,u),ne.forEach(d),p=F(P),v=g(P,"DIV",{class:!0});var Ve=_(v);E=S(Ve,I),Ve.forEach(d),m=F(P),at(w.$$.fragment,P),P.forEach(d),T=F(N),B&&B.l(N),z=F(N),O=g(N,"DIV",{class:!0});var Ae=_(O);U=g(Ae,"P",{class:!0});var Se=_(U);te=S(Se,R),Se.forEach(d),H=F(Ae),k=g(Ae,"P",{});var mt=_(k);X=S(mt,"("),W=S(mt,y),x=S(mt,")"),mt.forEach(d),Ae.forEach(d),C=F(N),D=g(N,"P",{class:!0});var kt=_(D);K=S(kt,j),kt.forEach(d),oe=F(N),at(re.$$.fragment,N),Z=F(N),fe=g(N,"DIV",{class:!0});var qe=_(fe);ge=g(qe,"DIV",{class:!0});var Ne=_(ge);we=g(Ne,"P",{class:!0,"data-svelte-h":!0}),St(we)!=="svelte-g6tq99"&&(we.textContent=Ze),ft=F(Ne),ue=g(Ne,"P",{class:!0});var yt=_(ue);ut=S(yt,me),yt.forEach(d),Ne.forEach(d),qe.forEach(d),N.forEach(d),G.forEach(d),ct=F(b),Y=g(b,"IMG",{src:!0,alt:!0,class:!0,loading:!0,decoding:!0}),dt=F(b),q=g(b,"DIV",{class:!0});var ke=_(q);ve=g(ke,"DIV",{class:!0});var vt=_(ve);pe=g(vt,"P",{class:!0});var Re=_(pe);ie=S(Re,Le),Ee=S(Re,ce),Re.forEach(d),je=F(vt),Ie=g(vt,"DIV",{class:!0});var pt=_(Ie);Je=S(pt,Be),pt.forEach(d),vt.forEach(d),_e=F(ke),de=g(ke,"P",{});var $e=_(de);Ke=S($e,Pe),Ue=S($e," ("),Qe=S($e,Ce),ht=S($e,")"),$e.forEach(d),Me=F(ke),be=g(ke,"P",{class:!0});var xe=_(be);We=S(xe,Fe),xe.forEach(d),ke.forEach(d),b.forEach(d),this.h()},h(){var c;f(i,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(v,"class","badge badge-glass my-auto py-0.5 px-1"),f(s,"class","flex gap-2 max-w-full"),f(U,"class","text-ellipsis whitespace-nowrap overflow-hidden"),f(O,"class","flex gap-1 text-center"),f(D,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),f(we,"class","text-xs font-bold uppercase opacity-40"),f(ue,"class",""),f(ge,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(fe,"class","flex mt-auto w-full"),f(r,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),tt(r,"top","calc(88.5% - 14rem)"),tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),f(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),se(l,"hovered",t[3]),he(Y.src,Te=t[0].imgUrl||At)||f(Y,"src",Te),f(Y,"alt",ze=t[0].id),f(Y,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),f(Y,"loading","lazy"),f(Y,"decoding","async"),se(Y,"hovered",t[3]),se(Y,"shadow-lg",t[3]),f(pe,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(Ie,"class","badge badge-glass my-auto py-0.5 px-1"),f(ve,"class","flex gap-2"),f(be,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),f(q,"class","flex flex-col py-4 info svelte-gfpzxg"),se(q,"opacity-0",t[3]),f(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),f(e,"href",t[1]),f(e,"id",Ye=t[0].id),f(e,"data-gameid",gt=(c=t[0].game)==null?void 0:c.id),f(e,"data-filetype","tableFiles")},m(c,b){Q(c,e,b),o(e,l),$&&$.m(l,null),o(l,a),o(l,r),o(r,s),o(s,i),o(i,n),o(s,p),o(s,v),o(v,E),o(s,m),rt(w,s,null),o(r,T),B&&B.m(r,null),o(r,z),o(r,O),o(O,U),o(U,te),o(O,H),o(O,k),o(k,X),o(k,W),o(k,x),o(r,C),o(r,D),o(D,K),o(r,oe),rt(re,r,null),o(r,Z),o(r,fe),o(fe,ge),o(ge,we),o(ge,ft),o(ge,ue),o(ue,ut),o(e,ct),o(e,Y),o(e,dt),o(e,q),o(q,ve),o(ve,pe),o(pe,ie),o(pe,Ee),o(ve,je),o(ve,Ie),o(Ie,Je),o(q,_e),o(q,de),o(de,Ke),o(de,Ue),o(de,Qe),o(de,ht),o(q,Me),o(q,be),o(be,We),V=!0,De||(le=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],De=!0)},p(c,[b]){var P,ne,Ve,Ae,Se;c[3]?$?$.p(c,b):($=nl(c),$.c(),$.m(l,a)):$&&($.d(1),$=null),(!V||b&1)&&u!==(u=((P=c[0].game)==null?void 0:P.name)+"")&&L(n,u),(!V||b&1)&&I!==(I=c[0].tableFormat+"")&&L(E,I);const G={};b&16&&(G.game=c[4]),w.$set(G),c[0].edition?B?B.p(c,b):(B=ol(c),B.c(),B.m(r,z)):B&&(B.d(1),B=null),(!V||b&16)&&R!==(R=c[4].manufacturer+"")&&L(te,R),(!V||b&16)&&y!==(y=c[4].year+"")&&L(W,y),(!V||b&1)&&j!==(j=(((ne=c[0].authors)==null?void 0:ne.join(", "))||"-")+"")&&L(K,j);const N={};b&1&&(N.data=c[0].features),re.$set(N),(!V||b&1)&&me!==(me=Vt(c[0].createdAt??c[0].updatedAt)+"")&&L(ut,me),(!V||b&36)&&tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[5]?100:900)+")) "+(c[5]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[5]?100:600})`)+")",1),(!V||b&8)&&se(l,"hovered",c[3]),(!V||b&1&&!he(Y.src,Te=c[0].imgUrl||At))&&f(Y,"src",Te),(!V||b&1&&ze!==(ze=c[0].id))&&f(Y,"alt",ze),(!V||b&8)&&se(Y,"hovered",c[3]),(!V||b&8)&&se(Y,"shadow-lg",c[3]),(!V||b&1)&&Le!==(Le=((Ve=c[0].game)==null?void 0:Ve.name)+"")&&L(ie,Le),(!V||b&1)&&ce!==(ce=c[0].edition?` ${c[0].edition}`:"")&&L(Ee,ce),(!V||b&1)&&Be!==(Be=c[0].tableFormat+"")&&L(Je,Be),(!V||b&16)&&Pe!==(Pe=c[4].manufacturer+"")&&L(Ke,Pe),(!V||b&16)&&Ce!==(Ce=c[4].year+"")&&L(Qe,Ce),(!V||b&1)&&Fe!==(Fe=((Ae=c[0].authors)==null?void 0:Ae.join(", "))+"")&&L(We,Fe),(!V||b&8)&&se(q,"opacity-0",c[3]),(!V||b&2)&&f(e,"href",c[1]),(!V||b&1&&Ye!==(Ye=c[0].id))&&f(e,"id",Ye),(!V||b&1&&gt!==(gt=(Se=c[0].game)==null?void 0:Se.id))&&f(e,"data-gameid",gt)},i(c){V||(J(w.$$.fragment,c),J(re.$$.fragment,c),V=!0)},o(c){ee(w.$$.fragment,c),ee(re.$$.fragment,c),V=!1},d(c){c&&d(e),$&&$.d(),st(w),B&&B.d(),st(re),De=!1,ul(le)}}}function Aa(t,e,l){let a,r,s,i;et(t,El,T=>l(11,r=T)),et(t,pl,T=>l(5,i=T));const u=new wl,{dbStore:n}=Ht;et(t,n,T=>l(9,s=T));let{file:p=Pl}=e,{href:v=""}=e,I="",E=!1;const m=()=>{r.mobile||l(3,E=!0)},w=()=>{r.mobile||l(3,E=!1)};return cl(()=>{u&&u.destroy()}),t.$$set=T=>{"file"in T&&l(0,p=T.file),"href"in T&&l(1,v=T.href)},t.$$.update=()=>{var T;t.$$.dirty&513&&l(4,a=(T=p==null?void 0:p.game)!=null&&T.id?s[p.game.id]:vl),t.$$.dirty&13&&E&&p.imgUrl&&!I&&u.getColorAsync(p.imgUrl,{algorithm:"simple"}).then(z=>{z&&l(2,I=z.rgb)}).catch(()=>{})},[p,v,I,E,a,i,n,m,w,s]}class Sa extends nt{constructor(e){super(),ot(this,e,Aa,Va,it,{file:0,href:1})}}function Ra(t){let e,l;return e=new Ot({props:{icon:Rl,title:t[0].title,class:"aspectTable hover:brightness-125 hover:scale-110 transition-all text-[146px]"}}),{c(){lt(e.$$.fragment)},l(a){at(e.$$.fragment,a)},m(a,r){rt(e,a,r),l=!0},p(a,r){const s={};r&1&&(s.title=a[0].title),e.$set(s)},i(a){l||(J(e.$$.fragment,a),l=!0)},o(a){ee(e.$$.fragment,a),l=!1},d(a){st(e,a)}}}function Ha(t){let e,l,a,r;return{c(){e=h("img"),this.h()},l(s){e=g(s,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),this.h()},h(){f(e,"alt",l=t[0].youtubeId),f(e,"title",a=t[0].title),f(e,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),f(e,"width","352"),he(e.src,r=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||f(e,"src",r),se(e,"glow",t[2])},m(s,i){Q(s,e,i)},p(s,i){i&1&&l!==(l=s[0].youtubeId)&&f(e,"alt",l),i&1&&a!==(a=s[0].title)&&f(e,"title",a),i&1&&!he(e.src,r=`https://img.youtube.com/vi/${s[0].youtubeId}/0.jpg`)&&f(e,"src",r),i&4&&se(e,"glow",s[2])},i:Ft,o:Ft,d(s){s&&d(e)}}}function fl(t){let e,l,a,r;return l=new Ot({props:{icon:Sl}}),{c(){e=h("a"),lt(l.$$.fragment),this.h()},l(s){e=g(s,"A",{href:!0,target:!0});var i=_(e);at(l.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"href",a=t[0].url),f(e,"target","_blank")},m(s,i){Q(s,e,i),rt(l,e,null),r=!0},p(s,i){(!r||i&1&&a!==(a=s[0].url))&&f(e,"href",a)},i(s){r||(J(l.$$.fragment,s),r=!0)},o(s){ee(l.$$.fragment,s),r=!1},d(s){s&&d(e),st(l)}}}function Oa(t){var te;let e,l,a,r,s,i,u=t[0].title+"",n,p,v,I,E=((te=t[0].authors)==null?void 0:te.join(", "))+"",m,w,T;const z=[Ha,Ra],O=[];function U(H,k){return H[0].youtubeId?0:1}l=U(t),a=O[l]=z[l](t);let R=t[0].youtubeId&&t[0].url&&fl(t);return{c(){e=h("a"),a.c(),r=M(),s=h("div"),i=h("p"),n=A(u),p=M(),v=h("p"),R&&R.c(),I=M(),m=A(E),this.h()},l(H){e=g(H,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var k=_(e);a.l(k),r=F(k),s=g(k,"DIV",{class:!0});var X=_(s);i=g(X,"P",{class:!0});var y=_(i);n=S(y,u),y.forEach(d),p=F(X),v=g(X,"P",{class:!0});var W=_(v);R&&R.l(W),I=F(W),m=S(W,E),W.forEach(d),X.forEach(d),k.forEach(d),this.h()},h(){f(i,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),f(v,"class","flex items-center gap-1 text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),f(s,"class","flex flex-col py-4"),f(e,"href",t[1]),f(e,"class","flex flex-col"),f(e,"id",w=t[0].id),f(e,"data-gameid",t[3]),f(e,"data-filetype","b2sFiles")},m(H,k){Q(H,e,k),O[l].m(e,null),o(e,r),o(e,s),o(s,i),o(i,n),o(s,p),o(s,v),R&&R.m(v,null),o(v,I),o(v,m),T=!0},p(H,[k]){var y;let X=l;l=U(H),l===X?O[l].p(H,k):(bt(),ee(O[X],1,1,()=>{O[X]=null}),wt(),a=O[l],a?a.p(H,k):(a=O[l]=z[l](H),a.c()),J(a,1),a.m(e,r)),(!T||k&1)&&u!==(u=H[0].title+"")&&L(n,u),H[0].youtubeId&&H[0].url?R?(R.p(H,k),k&1&&J(R,1)):(R=fl(H),R.c(),J(R,1),R.m(v,I)):R&&(bt(),ee(R,1,1,()=>{R=null}),wt()),(!T||k&1)&&E!==(E=((y=H[0].authors)==null?void 0:y.join(", "))+"")&&L(m,E),(!T||k&2)&&f(e,"href",H[1]),(!T||k&1&&w!==(w=H[0].id))&&f(e,"id",w),(!T||k&8)&&f(e,"data-gameid",H[3])},i(H){T||(J(a),J(R),T=!0)},o(H){ee(a),ee(R),T=!1},d(H){H&&d(e),O[l].d(),R&&R.d()}}}function za(t,e,l){let{file:a=Cl}=e,{href:r=""}=e,{active:s=!1}=e,{gameId:i}=e;return t.$$set=u=>{"file"in u&&l(0,a=u.file),"href"in u&&l(1,r=u.href),"active"in u&&l(2,s=u.active),"gameId"in u&&l(3,i=u.gameId)},[a,r,s,i]}class La extends nt{constructor(e){super(),ot(this,e,za,Oa,it,{file:0,href:1,active:2,gameId:3})}}const Qa={game:{route:"games",name:"Games",component:Ea},tableFiles:{route:"tables",name:"Tables",component:Sa},b2sFiles:{route:"b2s",name:"Backglasses",component:Kl},tutorialFiles:{route:"tutorials",name:"Tutorials",component:La,icon:Ut},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Xe,icon:Hl},romFiles:{route:"roms",name:"Roms",component:Xe,icon:Ol},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:Xe,icon:zl},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Xe,icon:Ll},topperFiles:{route:"toppers",name:"Toppers",component:Xe,icon:jl},povFiles:{route:"pov",name:"POVs",component:Xe,icon:Bl},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Xe,icon:Ul},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Xe,icon:Wl},ruleFiles:{route:"rules",name:"Rules",component:Xe,icon:Ut}};export{Da as F,At as P,Pa as T,El as a,wl as b,Sa as c,Qa as m};
