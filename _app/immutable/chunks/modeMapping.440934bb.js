import{s as it,e as wt,i as te,d as c,B as st,f as d,g as h,h as m,j as u,H as At,r as St,Y as Da,a as C,l as A,c as T,m as S,R as me,G as o,n as O,$ as Vt,Z as zt,k as rt,T as ie,I as _a,x as ba,y as wa,z as Ea,A as Ia,Q as Fa}from"./scheduler.a453f4b8.js";import{S as nt,i as ot,a as ae,g as Bt,t as he,c as Ut,b as Et,d as It,m as kt,e as yt}from"./index.fa05b556.js";import{e as Ge}from"./each.013e569e.js";import{D as qt,a as Va,d as Aa,c as ka,b as Sa,E as Ra}from"./DbStore.481d56c5.js";import{P as Yt,g as Ha,p as Oa}from"./getBackglassUrl.fc240526.js";import{U as ja,E as La}from"./UserStore.d5e06a30.js";import{F as za,j as Ba,n as Ua,C as $t,D as Wa,z as Ga,E as qa,G as Na,H as Xa,I as Ja,J as Za,x as Ka}from"./index.browser.6ce462fc.js";import{w as Qa}from"./index.6e379fdf.js";import{m as ya}from"./ProgressBar.svelte_svelte_type_style_lang.c6c4a621.js";import{f as bt}from"./formatDate.85208f9c.js";function xt(t){let e,a,l,r,i;return a=new za({props:{icon:Ba}}),{c(){e=d("a"),Et(a.$$.fragment),this.h()},l(s){e=h(s,"A",{href:!0,class:!0});var f=m(e);It(a.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"href","?edit=true"),u(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(s,f){te(s,e,f),kt(a,e,null),l=!0,r||(i=At(e,"click",t[9]),r=!0)},p:St,i(s){l||(ae(a.$$.fragment,s),l=!0)},o(s){he(a.$$.fragment,s),l=!1},d(s){s&&c(e),yt(a),r=!1,i()}}}function Ya(t){let e,a,l=t[0]&&t[1].admin&&xt(t);return{c(){l&&l.c(),e=wt()},l(r){l&&l.l(r),e=wt()},m(r,i){l&&l.m(r,i),te(r,e,i),a=!0},p(r,[i]){r[0]&&r[1].admin?l?(l.p(r,i),i&3&&ae(l,1)):(l=xt(r),l.c(),ae(l,1),l.m(e.parentNode,e)):l&&(Bt(),he(l,1,1,()=>{l=null}),Ut())},i(r){a||(ae(l),a=!0)},o(r){he(l),a=!1},d(r){r&&c(e),l&&l.d(r)}}}function $a(t,e,a){let l,r,i,s;const{userStore:f}=ja;st(t,f,g=>a(1,i=g));const{editStore:n}=La;st(t,n,g=>a(2,s=g));const{dbStore:v}=qt;st(t,v,g=>a(8,r=g));let{file:p=void 0}=e,{game:k=void 0}=e;const w=()=>{Da(n,s.cache={id:l.id,action:"UPDATE",data:JSON.parse(JSON.stringify(l))},s)};return t.$$set=g=>{"file"in g&&a(6,p=g.file),"game"in g&&a(7,k=g.game)},t.$$.update=()=>{var g;t.$$.dirty&448&&a(0,l=k||((g=p==null?void 0:p.game)!=null&&g.id?r[p.game.id]:void 0))},[l,i,s,f,n,v,p,k,r,w]}class Nt extends nt{constructor(e){super(),ot(this,e,$a,Ya,it,{file:6,game:7})}}function ea(t,e,a){const l=t.slice();return l[2]=e[a],l}function ta(t){let e,a=t[2]+"",l;return{c(){e=d("div"),l=A(a),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=m(e);l=S(i,a),i.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,i){te(r,e,i),o(e,l)},p(r,i){i&1&&a!==(a=r[2]+"")&&O(l,a)},d(r){r&&c(e)}}}function xa(t){var B,$;let e,a,l,r,i,s,f,n,v,p,k=((B=t[0].game)==null?void 0:B.name)+"",w,g,b,E,z,D,R=((($=t[0].authors)==null?void 0:$.join(", "))||"")+"",W,X,J,j,le=Ge(t[0].features||[]),M=[];for(let y=0;y<le.length;y+=1)M[y]=ta(ea(t,le,y));return E=new Nt({props:{file:t[0]}}),{c(){e=d("a"),a=d("img"),i=C(),s=d("hr"),f=C(),n=d("div"),v=d("div"),p=d("p"),w=A(k),g=C();for(let y=0;y<M.length;y+=1)M[y].c();b=C(),Et(E.$$.fragment),z=C(),D=d("h4"),W=A(R),this.h()},l(y){e=h(y,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var L=m(e);a=h(L,"IMG",{src:!0,alt:!0,class:!0}),i=T(L),s=h(L,"HR",{}),f=T(L),n=h(L,"DIV",{class:!0});var U=m(n);v=h(U,"DIV",{class:!0});var x=m(v);p=h(x,"P",{class:!0});var N=m(p);w=S(N,k),N.forEach(c),g=T(x);for(let G=0;G<M.length;G+=1)M[G].l(x);b=T(x),It(E.$$.fragment,x),x.forEach(c),z=T(U),D=h(U,"H4",{class:!0});var ee=m(D);W=S(ee,R),ee.forEach(c),U.forEach(c),L.forEach(c),this.h()},h(){var y;me(a.src,l=t[0].imgUrl||Yt)||u(a,"src",l),u(a,"alt",r=t[0].id),u(a,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),u(p,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(v,"class","flex gap-2"),u(D,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",X=t[0].id),u(e,"data-gameid",J=(y=t[0].game)==null?void 0:y.id),u(e,"data-filetype","b2sFiles")},m(y,L){te(y,e,L),o(e,a),o(e,i),o(e,s),o(e,f),o(e,n),o(n,v),o(v,p),o(p,w),o(v,g);for(let U=0;U<M.length;U+=1)M[U]&&M[U].m(v,null);o(v,b),kt(E,v,null),o(n,z),o(n,D),o(D,W),j=!0},p(y,[L]){var x,N,ee;if((!j||L&1&&!me(a.src,l=y[0].imgUrl||Yt))&&u(a,"src",l),(!j||L&1&&r!==(r=y[0].id))&&u(a,"alt",r),(!j||L&1)&&k!==(k=((x=y[0].game)==null?void 0:x.name)+"")&&O(w,k),L&1){le=Ge(y[0].features||[]);let G;for(G=0;G<le.length;G+=1){const qe=ea(y,le,G);M[G]?M[G].p(qe,L):(M[G]=ta(qe),M[G].c(),M[G].m(v,b))}for(;G<M.length;G+=1)M[G].d(1);M.length=le.length}const U={};L&1&&(U.file=y[0]),E.$set(U),(!j||L&1)&&R!==(R=(((N=y[0].authors)==null?void 0:N.join(", "))||"")+"")&&O(W,R),(!j||L&2)&&u(e,"href",y[1]),(!j||L&1&&X!==(X=y[0].id))&&u(e,"id",X),(!j||L&1&&J!==(J=(ee=y[0].game)==null?void 0:ee.id))&&u(e,"data-gameid",J)},i(y){j||(ae(E.$$.fragment,y),j=!0)},o(y){he(E.$$.fragment,y),j=!1},d(y){y&&c(e),Vt(M,y),yt(E)}}}function el(t,e,a){let{file:l=Va}=e,{href:r=""}=e;return t.$$set=i=>{"file"in i&&a(0,l=i.file),"href"in i&&a(1,r=i.href)},[l,r]}class tl extends nt{constructor(e){super(),ot(this,e,el,xa,it,{file:0,href:1})}}function al(t){var le;let e,a,l,r,i=(((le=t[0].game)==null?void 0:le.name)||"???")+"",s,f,n,v,p=(t[0].version||"")+"",k,w,g,b,E,z,D,R,W,X,J,j;return z=new Nt({props:{file:t[0]}}),{c(){e=d("a"),a=d("div"),l=d("div"),r=d("span"),s=A(i),f=C(),n=d("div"),v=d("span"),k=A(p),w=C(),g=d("div"),b=C(),E=d("div"),Et(z.$$.fragment),D=C(),R=d("img"),this.h()},l(M){e=h(M,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var B=m(e);a=h(B,"DIV",{class:!0});var $=m(a);l=h($,"DIV",{class:!0});var y=m(l);r=h(y,"SPAN",{class:!0});var L=m(r);s=S(L,i),L.forEach(c),f=T(y),n=h(y,"DIV",{class:!0});var U=m(n);v=h(U,"SPAN",{class:!0});var x=m(v);k=S(x,p),x.forEach(c),w=T(U),g=h(U,"DIV",{class:!0}),m(g).forEach(c),b=T(U),E=h(U,"DIV",{class:!0});var N=m(E);It(z.$$.fragment,N),N.forEach(c),U.forEach(c),y.forEach(c),D=T($),R=h($,"IMG",{src:!0,class:!0,alt:!0}),$.forEach(c),B.forEach(c),this.h()},h(){var M;u(r,"class","font-bold"),u(v,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),u(g,"class","flex-1"),u(E,"class","shrink-0"),u(n,"class","flex justify-between max-w-full"),u(l,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),me(R.src,W=t[3])||u(R,"src",W),u(R,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),u(R,"alt",""),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),u(e,"href",t[1]),u(e,"id",X=t[0].id),u(e,"data-gameid",J=(M=t[0].game)==null?void 0:M.id),u(e,"data-filetype",t[2]),u(e,"class","aspect svelte-22xih4")},m(M,B){te(M,e,B),o(e,a),o(a,l),o(l,r),o(r,s),o(l,f),o(l,n),o(n,v),o(v,k),o(n,w),o(n,g),o(n,b),o(n,E),kt(z,E,null),o(a,D),o(a,R),j=!0},p(M,[B]){var y,L;(!j||B&1)&&i!==(i=(((y=M[0].game)==null?void 0:y.name)||"???")+"")&&O(s,i),(!j||B&1)&&p!==(p=(M[0].version||"")+"")&&O(k,p);const $={};B&1&&($.file=M[0]),z.$set($),(!j||B&8&&!me(R.src,W=M[3]))&&u(R,"src",W),(!j||B&2)&&u(e,"href",M[1]),(!j||B&1&&X!==(X=M[0].id))&&u(e,"id",X),(!j||B&1&&J!==(J=(L=M[0].game)==null?void 0:L.id))&&u(e,"data-gameid",J),(!j||B&4)&&u(e,"data-filetype",M[2])},i(M){j||(ae(z.$$.fragment,M),j=!0)},o(M){he(z.$$.fragment,M),j=!1},d(M){M&&c(e),yt(z)}}}function ll(t,e,a){let l;const{getGameImage:r}=qt;let{file:i=Aa}=e,{href:s=""}=e,{fileType:f}=e;return t.$$set=n=>{"file"in n&&a(0,i=n.file),"href"in n&&a(1,s=n.href),"fileType"in n&&a(2,f=n.fileType)},t.$$.update=()=>{var n;t.$$.dirty&1&&a(3,l=(n=i.game)!=null&&n.id?r(i.game.id):"")},[i,s,f,l]}class Qe extends nt{constructor(e){super(),ot(this,e,ll,al,it,{file:0,href:1,fileType:2})}}/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function rl(t){var e=t.toString(16);return e.length===1?"0"+e:e}function aa(t){return"#"+t.map(rl).join("")}function sl(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function il(t){return t?nl(t)?t:[t]:[]}function nl(t){return Array.isArray(t[0])}function Xt(t,e,a){for(var l=0;l<a.length;l++)if(ol(t,e,a[l]))return!0;return!1}function ol(t,e,a){switch(a.length){case 3:if(fl(t,e,a))return!0;break;case 4:if(ul(t,e,a))return!0;break;case 5:if(cl(t,e,a))return!0;break;default:return!1}}function fl(t,e,a){return t[e+3]!==255||t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]}function ul(t,e,a){return t[e+3]&&a[3]?t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]&&t[e+3]===a[3]:t[e+3]===a[3]}function jt(t,e,a){return t>=e-a&&t<=e+a}function cl(t,e,a){var l=a[0],r=a[1],i=a[2],s=a[3],f=a[4],n=t[e+3],v=jt(n,s,f);return s?!!(!n&&v||jt(t[e],l,f)&&jt(t[e+1],r,f)&&jt(t[e+2],i,f)&&v):v}function dl(t,e,a){for(var l={},r=24,i=a.ignoredColor,s=a.step,f=[0,0,0,0,0],n=0;n<e;n+=s){var v=t[n],p=t[n+1],k=t[n+2],w=t[n+3];if(!(i&&Xt(t,n,i))){var g=Math.round(v/r)+","+Math.round(p/r)+","+Math.round(k/r);l[g]?l[g]=[l[g][0]+v*w,l[g][1]+p*w,l[g][2]+k*w,l[g][3]+w,l[g][4]+1]:l[g]=[v*w,p*w,k*w,w,1],f[4]<l[g][4]&&(f=l[g])}}var b=f[0],E=f[1],z=f[2],D=f[3],R=f[4];return D?[Math.round(b/D),Math.round(E/D),Math.round(z/D),Math.round(D/R)]:a.defaultColor}function hl(t,e,a){for(var l=0,r=0,i=0,s=0,f=0,n=a.ignoredColor,v=a.step,p=0;p<e;p+=v){var k=t[p+3],w=t[p]*k,g=t[p+1]*k,b=t[p+2]*k;n&&Xt(t,p,n)||(l+=w,r+=g,i+=b,s+=k,f++)}return s?[Math.round(l/s),Math.round(r/s),Math.round(i/s),Math.round(s/f)]:a.defaultColor}function vl(t,e,a){for(var l=0,r=0,i=0,s=0,f=0,n=a.ignoredColor,v=a.step,p=0;p<e;p+=v){var k=t[p],w=t[p+1],g=t[p+2],b=t[p+3];n&&Xt(t,p,n)||(l+=k*k*b,r+=w*w*b,i+=g*g*b,s+=b,f++)}return s?[Math.round(Math.sqrt(l/s)),Math.round(Math.sqrt(r/s)),Math.round(Math.sqrt(i/s)),Math.round(s/f)]:a.defaultColor}function la(t){return Ft(t,"defaultColor",[0,0,0,0])}function Ft(t,e,a){return t[e]===void 0?a:t[e]}var ra=10,Gt=100;function gl(t){return t.search(/\.svg(\?|$)/i)!==-1}function ml(t){if(Pa(t)){var e=t.naturalWidth,a=t.naturalHeight;return!t.naturalWidth&&gl(t.src)&&(e=a=Gt),{width:e,height:a}}return _l(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function sa(t){return bl(t)?"canvas":pl(t)?"offscreencanvas":wl(t)?"imagebitmap":t.src}function Pa(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var Ca=typeof OffscreenCanvas<"u";function pl(t){return Ca&&t instanceof OffscreenCanvas}function _l(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function bl(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function wl(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function El(t,e){var a=Ft(e,"left",0),l=Ft(e,"top",0),r=Ft(e,"width",t.width),i=Ft(e,"height",t.height),s=r,f=i;if(e.mode==="precision")return{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:i,destWidth:s,destHeight:f};var n;return r>i?(n=r/i,s=Gt,f=Math.round(s/n)):(n=i/r,f=Gt,s=Math.round(f/n)),(s>r||f>i||s<ra||f<ra)&&(s=r,f=i),{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:i,destWidth:s,destHeight:f}}var Il=typeof window>"u";function kl(){return Il?Ca?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var yl="FastAverageColor: ";function We(t){return Error(yl+t)}function Dt(t,e){e||console.error(t)}var Ta=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,a){if(!e)return Promise.reject(We("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(We("resource as string is not supported in this environment"));var l=new Image;return l.crossOrigin=a&&a.crossOrigin||"",l.src=e,this.bindImageEvents(l,a)}else{if(Pa(e)&&!e.complete)return this.bindImageEvents(e,a);var r=this.getColor(e,a);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,a){a=a||{};var l=la(a);if(!e){var r=We("call .getColor(null) without resource");return Dt(r,a.silent),this.prepareResult(l,r)}var i=ml(e),s=El(i,a);if(!s.srcWidth||!s.srcHeight||!s.destWidth||!s.destHeight){var r=We('incorrect sizes for resource "'.concat(sa(e),'"'));return Dt(r,a.silent),this.prepareResult(l,r)}if(!this.canvas&&(this.canvas=kl(),!this.canvas)){var r=We("OffscreenCanvas is not supported in this browser");return Dt(r,a.silent),this.prepareResult(l,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=We("Canvas Context 2D is not supported in this browser");return Dt(r,a.silent),this.prepareResult(l)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=s.destWidth,this.canvas.height=s.destHeight;try{this.ctx.clearRect(0,0,s.destWidth,s.destHeight),this.ctx.drawImage(e,s.srcLeft,s.srcTop,s.srcWidth,s.srcHeight,0,0,s.destWidth,s.destHeight);var f=this.ctx.getImageData(0,0,s.destWidth,s.destHeight).data;return this.prepareResult(this.getColorFromArray4(f,a))}catch(n){var r=We("security error (CORS) for resource ".concat(sa(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Dt(r,a.silent),!a.silent&&console.error(n),this.prepareResult(l,r)}},t.prototype.getColorFromArray4=function(e,a){a=a||{};var l=4,r=e.length,i=la(a);if(r<l)return i;var s=r-r%l,f=(a.step||1)*l,n;switch(a.algorithm||"sqrt"){case"simple":n=hl;break;case"sqrt":n=vl;break;case"dominant":n=dl;break;default:throw We("".concat(a.algorithm," is unknown algorithm"))}return n(e,s,{defaultColor:i,ignoredColor:il(a.ignoredColor),step:f})},t.prototype.prepareResult=function(e,a){var l=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],i=sl(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+l.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:aa(l),hexa:aa(e),isDark:i,isLight:!i,error:a}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,a){var l=this;return new Promise(function(r,i){var s=function(){v();var p=l.getColor(e,a);p.error?i(p.error):r(p)},f=function(){v(),i(We('Error loading image "'.concat(e.src,'".')))},n=function(){v(),i(We('Image "'.concat(e.src,'" loading aborted')))},v=function(){e.removeEventListener("load",s),e.removeEventListener("error",f),e.removeEventListener("abort",n)};e.addEventListener("load",s),e.addEventListener("error",f),e.addEventListener("abort",n)})},t}();const Ma=Qa({width:0,height:0,mobile:!1});function ia(t,e,a){const l=t.slice();return l[11]=e[a],l}function na(t,e,a){const l=t.slice();return l[14]=e[a],l}function oa(t,e,a){const l=t.slice();return l[11]=e[a],l}function fa(t){let e,a=t[11]+"",l,r;return{c(){e=d("div"),l=A(a),r=C(),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=m(e);l=S(s,a),r=T(s),s.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,s){te(i,e,s),o(e,l),o(e,r)},p(i,s){s&32&&a!==(a=i[11]+"")&&O(l,a)},d(i){i&&c(e)}}}function ua(t){let e,a=t[14].toUpperCase()+"",l;return{c(){e=d("div"),l=A(a),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=m(e);l=S(i,a),i.forEach(c),this.h()},h(){u(e,"class","badge variant-filled-surface")},m(r,i){te(r,e,i),o(e,l)},p(r,i){i&1&&a!==(a=r[14].toUpperCase()+"")&&O(l,a)},d(r){r&&c(e)}}}function ca(t){let e,a=t[11]+"",l,r;return{c(){e=d("div"),l=A(a),r=C(),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=m(e);l=S(s,a),r=T(s),s.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,s){te(i,e,s),o(e,l),o(e,r)},p(i,s){s&32&&a!==(a=i[11]+"")&&O(l,a)},d(i){i&&c(e)}}}function Pl(t){var tt,gt;let e,a,l,r,i,s,f,n,v,p=t[0].name+"",k,w,g,b,E,z=t[0].manufacturer+"",D,R,W,X,J=t[0].year+"",j,le,M,B,$=(((tt=t[0].designers)==null?void 0:tt.join(", "))||"-")+"",y,L,U,x,N,ee,G,qe="Updated at",ke,Re,ce=bt(t[0].updatedAt)+"",pe,De,Ye,ft,ve,_e,ut="Type",ct,ye,Ne=(t[0].type||"-")+"",be,Fe,ne,$e,Ve,Xe,oe,we,Q,He=t[0].name+"",Je,dt,de,fe,Ee=t[0].manufacturer+"",Oe,xe,Ae=t[0].year+"",Ze,ht,je,Pe,Le=(((gt=t[0].designers)==null?void 0:gt.join(", "))||"")+"",et,Ie,Ke,vt,ze=Ge(t[5]),K=[];for(let _=0;_<ze.length;_+=1)K[_]=fa(oa(t,ze,_));let Se=Ge(t[0].theme||[]),Y=[];for(let _=0;_<Se.length;_+=1)Y[_]=ua(na(t,Se,_));let Be=Ge(t[5]),Z=[];for(let _=0;_<Be.length;_+=1)Z[_]=ca(ia(t,Be,_));return{c(){e=d("a"),a=d("div"),l=d("img"),s=C(),f=d("div"),n=d("div"),v=d("p"),k=A(p),w=C();for(let _=0;_<K.length;_+=1)K[_].c();g=C(),b=d("div"),E=d("p"),D=A(z),R=C(),W=d("p"),X=A("("),j=A(J),le=A(")"),M=C(),B=d("p"),y=A($),L=C(),U=d("div");for(let _=0;_<Y.length;_+=1)Y[_].c();x=C(),N=d("div"),ee=d("div"),G=d("p"),G.textContent=qe,ke=C(),Re=d("p"),pe=A(ce),De=C(),Ye=d("div"),ft=C(),ve=d("div"),_e=d("p"),_e.textContent=ut,ct=C(),ye=d("p"),be=A(Ne),Fe=C(),ne=d("img"),Xe=C(),oe=d("div"),we=d("div"),Q=d("p"),Je=A(He),dt=C();for(let _=0;_<Z.length;_+=1)Z[_].c();de=C(),fe=d("p"),Oe=A(Ee),xe=A(" ("),Ze=A(Ae),ht=A(")"),je=C(),Pe=d("p"),et=A(Le),this.h()},l(_){e=h(_,"A",{class:!0,href:!0,id:!0});var H=m(e);a=h(H,"DIV",{class:!0,style:!0});var P=m(a);l=h(P,"IMG",{src:!0,alt:!0,style:!0,class:!0}),s=T(P),f=h(P,"DIV",{class:!0,style:!0});var ue=m(f);n=h(ue,"DIV",{class:!0});var F=m(n);v=h(F,"P",{class:!0});var q=m(v);k=S(q,p),q.forEach(c),w=T(F);for(let se=0;se<K.length;se+=1)K[se].l(F);F.forEach(c),g=T(ue),b=h(ue,"DIV",{class:!0});var mt=m(b);E=h(mt,"P",{class:!0});var Pt=m(E);D=S(Pt,z),Pt.forEach(c),R=T(mt),W=h(mt,"P",{});var pt=m(W);X=S(pt,"("),j=S(pt,J),le=S(pt,")"),pt.forEach(c),mt.forEach(c),M=T(ue),B=h(ue,"P",{class:!0});var Ct=m(B);y=S(Ct,$),Ct.forEach(c),L=T(ue),U=h(ue,"DIV",{class:!0});var I=m(U);for(let se=0;se<Y.length;se+=1)Y[se].l(I);I.forEach(c),x=T(ue),N=h(ue,"DIV",{class:!0});var V=m(N);ee=h(V,"DIV",{class:!0});var Ce=m(ee);G=h(Ce,"P",{class:!0,"data-svelte-h":!0}),zt(G)!=="svelte-g6tq99"&&(G.textContent=qe),ke=T(Ce),Re=h(Ce,"P",{class:!0});var re=m(Re);pe=S(re,ce),re.forEach(c),Ce.forEach(c),De=T(V),Ye=h(V,"DIV",{class:!0}),m(Ye).forEach(c),ft=T(V),ve=h(V,"DIV",{class:!0});var ge=m(ve);_e=h(ge,"P",{class:!0,"data-svelte-h":!0}),zt(_e)!=="svelte-1h1g7sd"&&(_e.textContent=ut),ct=T(ge),ye=h(ge,"P",{class:!0});var at=m(ye);be=S(at,Ne),at.forEach(c),ge.forEach(c),V.forEach(c),ue.forEach(c),P.forEach(c),Fe=T(H),ne=h(H,"IMG",{src:!0,alt:!0,class:!0}),Xe=T(H),oe=h(H,"DIV",{class:!0});var Te=m(oe);we=h(Te,"DIV",{class:!0});var Me=m(we);Q=h(Me,"P",{class:!0});var lt=m(Q);Je=S(lt,He),lt.forEach(c),dt=T(Me);for(let se=0;se<Z.length;se+=1)Z[se].l(Me);Me.forEach(c),de=T(Te),fe=h(Te,"P",{});var Ue=m(fe);Oe=S(Ue,Ee),xe=S(Ue," ("),Ze=S(Ue,Ae),ht=S(Ue,")"),Ue.forEach(c),je=T(Te),Pe=h(Te,"P",{class:!0});var Tt=m(Pe);et=S(Tt,Le),Tt.forEach(c),Te.forEach(c),H.forEach(c),this.h()},h(){me(l.src,r=t[2])||u(l,"src",r),u(l,"alt",i=t[0].id),rt(l,"height","36%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),u(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex gap-2 max-w-full"),u(E,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(b,"class","flex gap-1 text-center max-w-full"),u(B,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(U,"class","flex gap-2 mt-4 flex-wrap"),u(G,"class","text-xs font-bold uppercase opacity-40"),u(Re,"class",""),u(ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(Ye,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(_e,"class","text-xs font-bold uppercase opacity-40"),u(ye,"class",""),u(ve,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(N,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),rt(f,"top","calc(90% - 13rem)"),u(a,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-1jt2e09"),rt(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[3]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),ie(a,"hovered",t[4]),me(ne.src,$e=t[2])||u(ne,"src",$e),u(ne,"alt",Ve=t[0].name),u(ne,"class","card pinImage bg-surface-300-600-token shadow-black svelte-1jt2e09"),ie(ne,"hovered",t[4]),ie(ne,"shadow-lg",t[4]),u(Q,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(we,"class","flex gap-2"),u(Pe,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(oe,"class","info flex flex-col py-4 svelte-1jt2e09"),ie(oe,"opacity-0",t[4]),u(e,"class","wrapper relative z-0"),u(e,"href",t[1]),u(e,"id",Ie=t[0].id)},m(_,H){te(_,e,H),o(e,a),o(a,l),o(a,s),o(a,f),o(f,n),o(n,v),o(v,k),o(n,w);for(let P=0;P<K.length;P+=1)K[P]&&K[P].m(n,null);o(f,g),o(f,b),o(b,E),o(E,D),o(b,R),o(b,W),o(W,X),o(W,j),o(W,le),o(f,M),o(f,B),o(B,y),o(f,L),o(f,U);for(let P=0;P<Y.length;P+=1)Y[P]&&Y[P].m(U,null);o(f,x),o(f,N),o(N,ee),o(ee,G),o(ee,ke),o(ee,Re),o(Re,pe),o(N,De),o(N,Ye),o(N,ft),o(N,ve),o(ve,_e),o(ve,ct),o(ve,ye),o(ye,be),o(e,Fe),o(e,ne),o(e,Xe),o(e,oe),o(oe,we),o(we,Q),o(Q,Je),o(we,dt);for(let P=0;P<Z.length;P+=1)Z[P]&&Z[P].m(we,null);o(oe,de),o(oe,fe),o(fe,Oe),o(fe,xe),o(fe,Ze),o(fe,ht),o(oe,je),o(oe,Pe),o(Pe,et),Ke||(vt=[At(e,"mouseenter",t[7]),At(e,"mouseleave",t[8])],Ke=!0)},p(_,[H]){var P,ue;if(H&4&&!me(l.src,r=_[2])&&u(l,"src",r),H&1&&i!==(i=_[0].id)&&u(l,"alt",i),H&1&&p!==(p=_[0].name+"")&&O(k,p),H&32){ze=Ge(_[5]);let F;for(F=0;F<ze.length;F+=1){const q=oa(_,ze,F);K[F]?K[F].p(q,H):(K[F]=fa(q),K[F].c(),K[F].m(n,null))}for(;F<K.length;F+=1)K[F].d(1);K.length=ze.length}if(H&1&&z!==(z=_[0].manufacturer+"")&&O(D,z),H&1&&J!==(J=_[0].year+"")&&O(j,J),H&1&&$!==($=(((P=_[0].designers)==null?void 0:P.join(", "))||"-")+"")&&O(y,$),H&1){Se=Ge(_[0].theme||[]);let F;for(F=0;F<Se.length;F+=1){const q=na(_,Se,F);Y[F]?Y[F].p(q,H):(Y[F]=ua(q),Y[F].c(),Y[F].m(U,null))}for(;F<Y.length;F+=1)Y[F].d(1);Y.length=Se.length}if(H&1&&ce!==(ce=bt(_[0].updatedAt)+"")&&O(pe,ce),H&1&&Ne!==(Ne=(_[0].type||"-")+"")&&O(be,Ne),H&72&&rt(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(_[6]?100:900)+")) "+(_[6]?80:60)+"%, "+(_[3]||`rgb(var(--color-surface-${_[6]?100:600})`)+")",1),H&16&&ie(a,"hovered",_[4]),H&4&&!me(ne.src,$e=_[2])&&u(ne,"src",$e),H&1&&Ve!==(Ve=_[0].name)&&u(ne,"alt",Ve),H&16&&ie(ne,"hovered",_[4]),H&16&&ie(ne,"shadow-lg",_[4]),H&1&&He!==(He=_[0].name+"")&&O(Je,He),H&32){Be=Ge(_[5]);let F;for(F=0;F<Be.length;F+=1){const q=ia(_,Be,F);Z[F]?Z[F].p(q,H):(Z[F]=ca(q),Z[F].c(),Z[F].m(we,null))}for(;F<Z.length;F+=1)Z[F].d(1);Z.length=Be.length}H&1&&Ee!==(Ee=_[0].manufacturer+"")&&O(Oe,Ee),H&1&&Ae!==(Ae=_[0].year+"")&&O(Ze,Ae),H&1&&Le!==(Le=(((ue=_[0].designers)==null?void 0:ue.join(", "))||"")+"")&&O(et,Le),H&16&&ie(oe,"opacity-0",_[4]),H&2&&u(e,"href",_[1]),H&1&&Ie!==(Ie=_[0].id)&&u(e,"id",Ie)},i:St,o:St,d(_){_&&c(e),Vt(K,_),Vt(Y,_),Vt(Z,_),Ke=!1,_a(vt)}}}function Cl(t,e,a){let l,r,i,s;st(t,Ma,b=>a(9,i=b)),st(t,ya,b=>a(6,s=b));const f=new Ta;let{file:n=ka}=e,{href:v=""}=e,p="",k=!1;const w=()=>{i.mobile||a(4,k=!0)},g=()=>{i.mobile||a(4,k=!1)};return t.$$set=b=>{"file"in b&&a(0,n=b.file),"href"in b&&a(1,v=b.href)},t.$$.update=()=>{t.$$.dirty&1&&a(2,l=Ha(n)),t.$$.dirty&1&&a(5,r=Array.from(new Set((n.tableFiles||[]).map(b=>b.tableFormat).filter(b=>!!b)))),t.$$.dirty&4&&l&&f.getColorAsync(l).then(b=>{b&&a(3,p=b.rgb)})},[n,v,l,p,k,r,s,w,g]}class Tl extends nt{constructor(e){super(),ot(this,e,Cl,Pl,it,{file:0,href:1})}}const Lt=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,da={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500"},ha={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function Ml(t){let e;const a=t[4].default,l=ba(a,t,t[3],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,i){l&&l.m(r,i),e=!0},p(r,i){l&&l.p&&(!e||i&8)&&wa(l,a,r,r[3],e?Ia(a,r[3],i,null):Ea(r[3]),null)},i(r){e||(ae(l,r),e=!0)},o(r){he(l,r),e=!1},d(r){l&&l.d(r)}}}function Dl(t){let e,a,l,r,i,s,f,n,v,p;const k=t[4].default,w=ba(k,t,t[3],null);return{c(){e=d("div"),w&&w.c(),a=C(),l=d("div"),r=d("p"),i=A(t[0]),s=C(),f=d("div"),this.h()},l(g){e=h(g,"DIV",{});var b=m(e);w&&w.l(b),b.forEach(c),a=T(g),l=h(g,"DIV",{class:!0,"data-popup":!0});var E=m(l);r=h(E,"P",{});var z=m(r);i=S(z,t[0]),z.forEach(c),s=T(E),f=h(E,"DIV",{class:!0}),m(f).forEach(c),E.forEach(c),this.h()},h(){u(f,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),u(l,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),u(l,"data-popup",t[1])},m(g,b){te(g,e,b),w&&w.m(e,null),te(g,a,b),te(g,l,b),o(l,r),o(r,i),o(l,s),o(l,f),n=!0,v||(p=Fa(Oa.call(null,e,t[2])),v=!0)},p(g,b){w&&w.p&&(!n||b&8)&&wa(w,k,g,g[3],n?Ia(k,g[3],b,null):Ea(g[3]),null),(!n||b&1)&&O(i,g[0])},i(g){n||(ae(w,g),n=!0)},o(g){he(w,g),n=!1},d(g){g&&(c(e),c(a),c(l)),w&&w.d(g),v=!1,p()}}}function Fl(t){let e,a,l,r;const i=[Dl,Ml],s=[];function f(n,v){return n[0]?0:1}return e=f(t),a=s[e]=i[e](t),{c(){a.c(),l=wt()},l(n){a.l(n),l=wt()},m(n,v){s[e].m(n,v),te(n,l,v),r=!0},p(n,[v]){let p=e;e=f(n),e===p?s[e].p(n,v):(Bt(),he(s[p],1,1,()=>{s[p]=null}),Ut(),a=s[e],a?a.p(n,v):(a=s[e]=i[e](n),a.c()),ae(a,1),a.m(l.parentNode,l))},i(n){r||(ae(a),r=!0)},o(n){he(a),r=!1},d(n){n&&c(l),s[e].d(n)}}}function Vl(t,e,a){let{$$slots:l={},$$scope:r}=e,{content:i=""}=e;const s=Ua(10),f={event:"hover",target:s,placement:"top"};return t.$$set=n=>{"content"in n&&a(0,i=n.content),"$$scope"in n&&a(3,r=n.$$scope)},[i,s,f,r,l]}class Al extends nt{constructor(e){super(),ot(this,e,Vl,Fl,it,{content:0})}}function va(t,e,a){const l=t.slice();return l[1]=e[a],l}function ga(t){let e,a,l=Ge(t[0]||[]),r=[];for(let s=0;s<l.length;s+=1)r[s]=ma(va(t,l,s));const i=s=>he(r[s],1,1,()=>{r[s]=null});return{c(){e=d("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=h(s,"DIV",{class:!0});var f=m(e);for(let n=0;n<r.length;n+=1)r[n].l(f);f.forEach(c),this.h()},h(){u(e,"class","flex gap-1 flex-wrap")},m(s,f){te(s,e,f);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);a=!0},p(s,f){if(f&1){l=Ge(s[0]||[]);let n;for(n=0;n<l.length;n+=1){const v=va(s,l,n);r[n]?(r[n].p(v,f),ae(r[n],1)):(r[n]=ma(v),r[n].c(),ae(r[n],1),r[n].m(e,null))}for(Bt(),n=l.length;n<r.length;n+=1)i(n);Ut()}},i(s){if(!a){for(let f=0;f<l.length;f+=1)ae(r[f]);a=!0}},o(s){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)he(r[f]);a=!1},d(s){s&&c(e),Vt(r,s)}}}function Sl(t){let e,a,l,r=t[1].toUpperCase()+"",i,s;return{c(){e=d("div"),a=d("span"),i=A(r),s=C(),this.h()},l(f){e=h(f,"DIV",{class:!0});var n=m(e);a=h(n,"SPAN",{class:!0}),m(a).forEach(c),i=S(n,r),n.forEach(c),s=T(f),this.h()},h(){u(a,"class",l="rounded-full h-2 w-2 "+(da[t[1]]||"bg-slate-500")+" mr-2"),u(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(f,n){te(f,e,n),o(e,a),o(e,i),te(f,s,n)},p(f,n){n&1&&l!==(l="rounded-full h-2 w-2 "+(da[f[1]]||"bg-slate-500")+" mr-2")&&u(a,"class",l),n&1&&r!==(r=f[1].toUpperCase()+"")&&O(i,r)},d(f){f&&(c(e),c(s))}}}function ma(t){let e,a;return e=new Al({props:{content:ha[t[1]],$$slots:{default:[Sl]},$$scope:{ctx:t}}}),{c(){Et(e.$$.fragment)},l(l){It(e.$$.fragment,l)},m(l,r){kt(e,l,r),a=!0},p(l,r){const i={};r&1&&(i.content=ha[l[1]]),r&17&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){a||(ae(e.$$.fragment,l),a=!0)},o(l){he(e.$$.fragment,l),a=!1},d(l){yt(e,l)}}}function Rl(t){var r;let e,a,l=((r=t[0])==null?void 0:r.length)&&ga(t);return{c(){l&&l.c(),e=wt()},l(i){l&&l.l(i),e=wt()},m(i,s){l&&l.m(i,s),te(i,e,s),a=!0},p(i,[s]){var f;(f=i[0])!=null&&f.length?l?(l.p(i,s),s&1&&ae(l,1)):(l=ga(i),l.c(),ae(l,1),l.m(e.parentNode,e)):l&&(Bt(),he(l,1,1,()=>{l=null}),Ut())},i(i){a||(ae(l),a=!0)},o(i){he(l),a=!1},d(i){i&&c(e),l&&l.d(i)}}}function Hl(t,e,a){let{data:l=[]}=e;return t.$$set=r=>{"data"in r&&a(0,l=r.data)},[l]}class Ol extends nt{constructor(e){super(),ot(this,e,Hl,Rl,it,{data:0})}}function pa(t){let e,a,l=t[0].edition+"",r;return{c(){e=d("div"),a=d("p"),r=A(l),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=m(e);a=h(s,"P",{class:!0});var f=m(a);r=S(f,l),f.forEach(c),s.forEach(c),this.h()},h(){u(a,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(e,"class","flex gap-2 max-w-full")},m(i,s){te(i,e,s),o(e,a),o(a,r)},p(i,s){s&1&&l!==(l=i[0].edition+"")&&O(r,l)},d(i){i&&c(e)}}}function jl(t){var mt,Pt,pt,Ct;let e,a,l,r,i,s,f,n,v,p=((mt=t[0].game)==null?void 0:mt.name)+"",k,w,g,b=t[0].tableFormat+"",E,z,D,R,W,X,J,j=t[4].manufacturer+"",le,M,B,$,y=t[4].year+"",L,U,x,N,ee=(((Pt=t[0].authors)==null?void 0:Pt.join(", "))||"-")+"",G,qe,ke,Re,ce,pe,De,Ye="Updated at",ft,ve,_e=bt(t[0].updatedAt)+"",ut,ct,ye,Ne,be,Fe,ne="Added at",$e,Ve,Xe=bt(t[0].createdAt||t[0].updatedAt)+"",oe,we,Q,He,Je,dt,de,fe,Ee,Oe=((pt=t[0].game)==null?void 0:pt.name)+"",xe,Ae=t[0].edition?` ${t[0].edition}`:"",Ze,ht,je,Pe=t[0].tableFormat+"",Le,et,Ie,Ke=t[4].manufacturer+"",vt,ze,K=t[4].year+"",Se,Y,Be,Z,tt=((Ct=t[0].authors)==null?void 0:Ct.join(", "))+"",gt,_,H,P,ue,F;D=new Nt({props:{game:t[4]}});let q=t[0].edition&&pa(t);return ke=new Ol({props:{data:t[0].features}}),{c(){e=d("a"),a=d("div"),l=d("img"),s=C(),f=d("div"),n=d("div"),v=d("p"),k=A(p),w=C(),g=d("div"),E=A(b),z=C(),Et(D.$$.fragment),R=C(),q&&q.c(),W=C(),X=d("div"),J=d("p"),le=A(j),M=C(),B=d("p"),$=A("("),L=A(y),U=A(")"),x=C(),N=d("p"),G=A(ee),qe=C(),Et(ke.$$.fragment),Re=C(),ce=d("div"),pe=d("div"),De=d("p"),De.textContent=Ye,ft=C(),ve=d("p"),ut=A(_e),ct=C(),ye=d("div"),Ne=C(),be=d("div"),Fe=d("p"),Fe.textContent=ne,$e=C(),Ve=d("p"),oe=A(Xe),we=C(),Q=d("img"),dt=C(),de=d("div"),fe=d("div"),Ee=d("p"),xe=A(Oe),Ze=A(Ae),ht=C(),je=d("div"),Le=A(Pe),et=C(),Ie=d("p"),vt=A(Ke),ze=A(" ("),Se=A(K),Y=A(")"),Be=C(),Z=d("p"),gt=A(tt),this.h()},l(I){e=h(I,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var V=m(e);a=h(V,"DIV",{style:!0,class:!0});var Ce=m(a);l=h(Ce,"IMG",{src:!0,alt:!0,style:!0,class:!0}),s=T(Ce),f=h(Ce,"DIV",{class:!0,style:!0});var re=m(f);n=h(re,"DIV",{class:!0});var ge=m(n);v=h(ge,"P",{class:!0});var at=m(v);k=S(at,p),at.forEach(c),w=T(ge),g=h(ge,"DIV",{class:!0});var Te=m(g);E=S(Te,b),Te.forEach(c),z=T(ge),It(D.$$.fragment,ge),ge.forEach(c),R=T(re),q&&q.l(re),W=T(re),X=h(re,"DIV",{class:!0});var Me=m(X);J=h(Me,"P",{class:!0});var lt=m(J);le=S(lt,j),lt.forEach(c),M=T(Me),B=h(Me,"P",{});var Ue=m(B);$=S(Ue,"("),L=S(Ue,y),U=S(Ue,")"),Ue.forEach(c),Me.forEach(c),x=T(re),N=h(re,"P",{class:!0});var Tt=m(N);G=S(Tt,ee),Tt.forEach(c),qe=T(re),It(ke.$$.fragment,re),Re=T(re),ce=h(re,"DIV",{class:!0});var se=m(ce);pe=h(se,"DIV",{class:!0});var Rt=m(pe);De=h(Rt,"P",{class:!0,"data-svelte-h":!0}),zt(De)!=="svelte-g6tq99"&&(De.textContent=Ye),ft=T(Rt),ve=h(Rt,"P",{class:!0});var Jt=m(ve);ut=S(Jt,_e),Jt.forEach(c),Rt.forEach(c),ct=T(se),ye=h(se,"DIV",{class:!0}),m(ye).forEach(c),Ne=T(se),be=h(se,"DIV",{class:!0});var Ht=m(be);Fe=h(Ht,"P",{class:!0,"data-svelte-h":!0}),zt(Fe)!=="svelte-1gbi7dm"&&(Fe.textContent=ne),$e=T(Ht),Ve=h(Ht,"P",{class:!0});var Zt=m(Ve);oe=S(Zt,Xe),Zt.forEach(c),Ht.forEach(c),se.forEach(c),re.forEach(c),Ce.forEach(c),we=T(V),Q=h(V,"IMG",{src:!0,alt:!0,class:!0}),dt=T(V),de=h(V,"DIV",{class:!0});var _t=m(de);fe=h(_t,"DIV",{class:!0});var Ot=m(fe);Ee=h(Ot,"P",{class:!0});var Wt=m(Ee);xe=S(Wt,Oe),Ze=S(Wt,Ae),Wt.forEach(c),ht=T(Ot),je=h(Ot,"DIV",{class:!0});var Kt=m(je);Le=S(Kt,Pe),Kt.forEach(c),Ot.forEach(c),et=T(_t),Ie=h(_t,"P",{});var Mt=m(Ie);vt=S(Mt,Ke),ze=S(Mt," ("),Se=S(Mt,K),Y=S(Mt,")"),Mt.forEach(c),Be=T(_t),Z=h(_t,"P",{class:!0});var Qt=m(Z);gt=S(Qt,tt),Qt.forEach(c),_t.forEach(c),V.forEach(c),this.h()},h(){var I;me(l.src,r=t[0].imgUrl||Lt)||u(l,"src",r),u(l,"alt",i=t[0].id),rt(l,"height","35%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),u(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(g,"class","badge badge-glass my-auto py-0.5 px-1"),u(n,"class","flex gap-2 max-w-full"),u(J,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(X,"class","flex gap-1 text-center"),u(N,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),u(De,"class","text-xs font-bold uppercase opacity-40"),u(ve,"class",""),u(pe,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(ye,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(Fe,"class","text-xs font-bold uppercase opacity-40"),u(Ve,"class",""),u(be,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(ce,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),rt(f,"top","calc(88.5% - 14rem)"),rt(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),ie(a,"hovered",t[3]),me(Q.src,He=t[0].imgUrl||Lt)||u(Q,"src",He),u(Q,"alt",Je=t[0].id),u(Q,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),ie(Q,"hovered",t[3]),ie(Q,"shadow-lg",t[3]),u(Ee,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(je,"class","badge badge-glass my-auto py-0.5 px-1"),u(fe,"class","flex gap-2"),u(Z,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(de,"class","flex flex-col py-4 info svelte-gfpzxg"),ie(de,"opacity-0",t[3]),u(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),u(e,"href",t[1]),u(e,"id",_=t[0].id),u(e,"data-gameid",H=(I=t[0].game)==null?void 0:I.id),u(e,"data-filetype","tableFiles")},m(I,V){te(I,e,V),o(e,a),o(a,l),o(a,s),o(a,f),o(f,n),o(n,v),o(v,k),o(n,w),o(n,g),o(g,E),o(n,z),kt(D,n,null),o(f,R),q&&q.m(f,null),o(f,W),o(f,X),o(X,J),o(J,le),o(X,M),o(X,B),o(B,$),o(B,L),o(B,U),o(f,x),o(f,N),o(N,G),o(f,qe),kt(ke,f,null),o(f,Re),o(f,ce),o(ce,pe),o(pe,De),o(pe,ft),o(pe,ve),o(ve,ut),o(ce,ct),o(ce,ye),o(ce,Ne),o(ce,be),o(be,Fe),o(be,$e),o(be,Ve),o(Ve,oe),o(e,we),o(e,Q),o(e,dt),o(e,de),o(de,fe),o(fe,Ee),o(Ee,xe),o(Ee,Ze),o(fe,ht),o(fe,je),o(je,Le),o(de,et),o(de,Ie),o(Ie,vt),o(Ie,ze),o(Ie,Se),o(Ie,Y),o(de,Be),o(de,Z),o(Z,gt),P=!0,ue||(F=[At(e,"mouseenter",t[7]),At(e,"mouseleave",t[8])],ue=!0)},p(I,[V]){var ge,at,Te,Me,lt;(!P||V&1&&!me(l.src,r=I[0].imgUrl||Lt))&&u(l,"src",r),(!P||V&1&&i!==(i=I[0].id))&&u(l,"alt",i),(!P||V&1)&&p!==(p=((ge=I[0].game)==null?void 0:ge.name)+"")&&O(k,p),(!P||V&1)&&b!==(b=I[0].tableFormat+"")&&O(E,b);const Ce={};V&16&&(Ce.game=I[4]),D.$set(Ce),I[0].edition?q?q.p(I,V):(q=pa(I),q.c(),q.m(f,W)):q&&(q.d(1),q=null),(!P||V&16)&&j!==(j=I[4].manufacturer+"")&&O(le,j),(!P||V&16)&&y!==(y=I[4].year+"")&&O(L,y),(!P||V&1)&&ee!==(ee=(((at=I[0].authors)==null?void 0:at.join(", "))||"-")+"")&&O(G,ee);const re={};V&1&&(re.data=I[0].features),ke.$set(re),(!P||V&1)&&_e!==(_e=bt(I[0].updatedAt)+"")&&O(ut,_e),(!P||V&1)&&Xe!==(Xe=bt(I[0].createdAt||I[0].updatedAt)+"")&&O(oe,Xe),(!P||V&36)&&rt(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(I[5]?100:900)+")) "+(I[5]?80:60)+"%, "+(I[2]||`rgb(var(--color-surface-${I[5]?100:600})`)+")",1),(!P||V&8)&&ie(a,"hovered",I[3]),(!P||V&1&&!me(Q.src,He=I[0].imgUrl||Lt))&&u(Q,"src",He),(!P||V&1&&Je!==(Je=I[0].id))&&u(Q,"alt",Je),(!P||V&8)&&ie(Q,"hovered",I[3]),(!P||V&8)&&ie(Q,"shadow-lg",I[3]),(!P||V&1)&&Oe!==(Oe=((Te=I[0].game)==null?void 0:Te.name)+"")&&O(xe,Oe),(!P||V&1)&&Ae!==(Ae=I[0].edition?` ${I[0].edition}`:"")&&O(Ze,Ae),(!P||V&1)&&Pe!==(Pe=I[0].tableFormat+"")&&O(Le,Pe),(!P||V&16)&&Ke!==(Ke=I[4].manufacturer+"")&&O(vt,Ke),(!P||V&16)&&K!==(K=I[4].year+"")&&O(Se,K),(!P||V&1)&&tt!==(tt=((Me=I[0].authors)==null?void 0:Me.join(", "))+"")&&O(gt,tt),(!P||V&8)&&ie(de,"opacity-0",I[3]),(!P||V&2)&&u(e,"href",I[1]),(!P||V&1&&_!==(_=I[0].id))&&u(e,"id",_),(!P||V&1&&H!==(H=(lt=I[0].game)==null?void 0:lt.id))&&u(e,"data-gameid",H)},i(I){P||(ae(D.$$.fragment,I),ae(ke.$$.fragment,I),P=!0)},o(I){he(D.$$.fragment,I),he(ke.$$.fragment,I),P=!1},d(I){I&&c(e),yt(D),q&&q.d(),yt(ke),ue=!1,_a(F)}}}function Ll(t,e,a){let l,r,i,s;st(t,Ma,E=>a(10,r=E)),st(t,ya,E=>a(5,s=E));const f=new Ta,{dbStore:n}=qt;st(t,n,E=>a(9,i=E));let{file:v=Sa}=e,{href:p=""}=e,k="",w=!1;const g=()=>{r.mobile||a(3,w=!0)},b=()=>{r.mobile||a(3,w=!1)};return t.$$set=E=>{"file"in E&&a(0,v=E.file),"href"in E&&a(1,p=E.href)},t.$$.update=()=>{var E;t.$$.dirty&513&&a(4,l=(E=v==null?void 0:v.game)!=null&&E.id?i[v.game.id]:ka),t.$$.dirty&1&&v.imgUrl&&f.getColorAsync(v.imgUrl).then(z=>{z&&a(2,k=z.rgb)})},[v,p,k,w,l,s,n,g,b,i]}class zl extends nt{constructor(e){super(),ot(this,e,Ll,jl,it,{file:0,href:1})}}function Bl(t){var z;let e,a,l,r,i,s,f,n,v=t[0].title+"",p,k,w,g=((z=t[0].authors)==null?void 0:z.join(", "))+"",b,E;return{c(){e=d("a"),a=d("img"),s=C(),f=d("div"),n=d("p"),p=A(v),k=C(),w=d("p"),b=A(g),this.h()},l(D){e=h(D,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var R=m(e);a=h(R,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),s=T(R),f=h(R,"DIV",{class:!0});var W=m(f);n=h(W,"P",{class:!0});var X=m(n);p=S(X,v),X.forEach(c),k=T(W),w=h(W,"P",{class:!0});var J=m(w);b=S(J,g),J.forEach(c),W.forEach(c),R.forEach(c),this.h()},h(){u(a,"alt",l=t[0].youtubeId),u(a,"title",r=t[0].title),u(a,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),u(a,"width","352"),me(a.src,i=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||u(a,"src",i),ie(a,"glow",t[2]),u(n,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),u(w,"class","text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),u(f,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",E=t[0].id),u(e,"data-gameid",t[3]),u(e,"data-filetype","b2sFiles")},m(D,R){te(D,e,R),o(e,a),o(e,s),o(e,f),o(f,n),o(n,p),o(f,k),o(f,w),o(w,b)},p(D,[R]){var W;R&1&&l!==(l=D[0].youtubeId)&&u(a,"alt",l),R&1&&r!==(r=D[0].title)&&u(a,"title",r),R&1&&!me(a.src,i=`https://img.youtube.com/vi/${D[0].youtubeId}/0.jpg`)&&u(a,"src",i),R&4&&ie(a,"glow",D[2]),R&1&&v!==(v=D[0].title+"")&&O(p,v),R&1&&g!==(g=((W=D[0].authors)==null?void 0:W.join(", "))+"")&&O(b,g),R&2&&u(e,"href",D[1]),R&1&&E!==(E=D[0].id)&&u(e,"id",E),R&8&&u(e,"data-gameid",D[3])},i:St,o:St,d(D){D&&c(e)}}}function Ul(t,e,a){let{file:l=Ra}=e,{href:r=""}=e,{active:i=!1}=e,{gameId:s}=e;return t.$$set=f=>{"file"in f&&a(0,l=f.file),"href"in f&&a(1,r=f.href),"active"in f&&a(2,i=f.active),"gameId"in f&&a(3,s=f.gameId)},[l,r,i,s]}class Wl extends nt{constructor(e){super(),ot(this,e,Ul,Bl,it,{file:0,href:1,active:2,gameId:3})}}const xl={game:{route:"games",name:"Games",component:Tl},tableFiles:{route:"tables",name:"Tables",component:zl},b2sFiles:{route:"b2s",name:"Backglasses",component:tl},tutorialFiles:{route:"tutorials",name:"Tutorials",component:Wl,icon:$t},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Qe,icon:Wa},romFiles:{route:"roms",name:"Roms",component:Qe,icon:Ga},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:Qe,icon:qa},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Qe,icon:Na},topperFiles:{route:"toppers",name:"Toppers",component:Qe,icon:Xa},povFiles:{route:"pov",name:"POVs",component:Qe,icon:Ja},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Qe,icon:Za},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Qe,icon:Ka},ruleFiles:{route:"rules",name:"Rules",component:Qe,icon:$t}};export{Ol as F,Lt as P,Al as T,Ma as a,Ta as b,zl as c,xl as m};
