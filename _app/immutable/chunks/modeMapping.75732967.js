import{s as ot,e as wt,i as $,d,B as et,f as h,g,h as b,j as f,H as Mt,r as Rt,Y as Tl,a as M,l as A,c as F,m as S,R as he,G as n,n as z,$ as Ct,Z as Ht,k as tt,T as se,I as dl,a8 as hl,L as gl,x as ml,y as vl,z as pl,A as _l,Q as Pl}from"./scheduler.a453f4b8.js";import{S as ft,i as ut,a as W,g as lt,t as Q,c as at,b as rt,d as st,m as it,e as nt,o as Dt}from"./index.d5b56548.js";import{e as Oe}from"./each.e32f5f5a.js";import{D as Lt,a as Cl,d as Ml,c as bl,b as Fl,E as Dl}from"./DbStore.c58032fc.js";import{P as Wt,g as Vl,f as Vt,p as Al}from"./getBackglassUrl.cdc5017e.js";import{U as Sl,E as Rl}from"./UserStore.4ac8ceee.js";import{F as zt,l as Hl,h as Ol,i as Ll,A as Gt,B as zl,C as jl,D as Bl,E as Ul,G as Wl,H as Gl,I as ql,z as Nl}from"./index.9891b57b.js";import{w as Xl}from"./index.6e379fdf.js";import{m as wl}from"./ProgressBar.svelte_svelte_type_style_lang.c6c4a621.js";import{f as At}from"./formatDate.85208f9c.js";import{n as Zl}from"./index.browser.7e542916.js";function qt(t){let e,l,a,r,i;return l=new zt({props:{icon:Hl}}),{c(){e=h("a"),rt(l.$$.fragment),this.h()},l(s){e=g(s,"A",{href:!0,class:!0});var u=b(e);st(l.$$.fragment,u),u.forEach(d),this.h()},h(){f(e,"href","?edit=true"),f(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(s,u){$(s,e,u),it(l,e,null),a=!0,r||(i=Mt(e,"click",t[9]),r=!0)},p:Rt,i(s){a||(W(l.$$.fragment,s),a=!0)},o(s){Q(l.$$.fragment,s),a=!1},d(s){s&&d(e),nt(l),r=!1,i()}}}function Jl(t){let e,l,a=t[0]&&t[1].admin&&qt(t);return{c(){a&&a.c(),e=wt()},l(r){a&&a.l(r),e=wt()},m(r,i){a&&a.m(r,i),$(r,e,i),l=!0},p(r,[i]){r[0]&&r[1].admin?a?(a.p(r,i),i&3&&W(a,1)):(a=qt(r),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(lt(),Q(a,1,1,()=>{a=null}),at())},i(r){l||(W(a),l=!0)},o(r){Q(a),l=!1},d(r){r&&d(e),a&&a.d(r)}}}function Kl(t,e,l){let a,r,i,s;const{userStore:u}=Sl;et(t,u,m=>l(1,i=m));const{editStore:o}=Rl;et(t,o,m=>l(2,s=m));const{dbStore:p}=Lt;et(t,p,m=>l(8,r=m));let{file:v=void 0}=e,{game:I=void 0}=e;const E=()=>{Tl(o,s.cache={id:a.id,action:"UPDATE",data:JSON.parse(JSON.stringify(a))},s)};return t.$$set=m=>{"file"in m&&l(6,v=m.file),"game"in m&&l(7,I=m.game)},t.$$.update=()=>{var m;t.$$.dirty&448&&l(0,a=I||((m=v==null?void 0:v.game)!=null&&m.id?r[v.game.id]:void 0))},[a,i,s,u,o,p,v,I,r,E]}class jt extends ft{constructor(e){super(),ut(this,e,Kl,Jl,ot,{file:6,game:7})}}function Nt(t,e,l){const a=t.slice();return a[2]=e[l],a}function Xt(t){let e,l=t[2]+"",a;return{c(){e=h("div"),a=A(l),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=b(e);a=S(i,l),i.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,i){$(r,e,i),n(e,a)},p(r,i){i&1&&l!==(l=r[2]+"")&&z(a,l)},d(r){r&&d(e)}}}function Ql(t){var G,ee;let e,l,a,r,i,s,u,o,p,v,I=((G=t[0].game)==null?void 0:G.name)+"",E,m,w,T,L,O,U=(((ee=t[0].authors)==null?void 0:ee.join(", "))||"")+"",R,te,H,k,Z=Oe(t[0].features||[]),y=[];for(let C=0;C<Z.length;C+=1)y[C]=Xt(Nt(t,Z,C));return T=new jt({props:{file:t[0]}}),{c(){e=h("a"),l=h("img"),i=M(),s=h("hr"),u=M(),o=h("div"),p=h("div"),v=h("p"),E=A(I),m=M();for(let C=0;C<y.length;C+=1)y[C].c();w=M(),rt(T.$$.fragment),L=M(),O=h("h4"),R=A(U),this.h()},l(C){e=g(C,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var V=b(e);l=g(V,"IMG",{src:!0,alt:!0,class:!0}),i=F(V),s=g(V,"HR",{}),u=F(V),o=g(V,"DIV",{class:!0});var j=b(o);p=g(j,"DIV",{class:!0});var Y=b(p);v=g(Y,"P",{class:!0});var oe=b(v);E=S(oe,I),oe.forEach(d),m=F(Y);for(let J=0;J<y.length;J+=1)y[J].l(Y);w=F(Y),st(T.$$.fragment,Y),Y.forEach(d),L=F(j),O=g(j,"H4",{class:!0});var re=b(O);R=S(re,U),re.forEach(d),j.forEach(d),V.forEach(d),this.h()},h(){var C;he(l.src,a=t[0].imgUrl||Wt)||f(l,"src",a),f(l,"alt",r=t[0].id),f(l,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),f(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(p,"class","flex gap-2"),f(O,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),f(o,"class","flex flex-col py-4"),f(e,"href",t[1]),f(e,"class","flex flex-col"),f(e,"id",te=t[0].id),f(e,"data-gameid",H=(C=t[0].game)==null?void 0:C.id),f(e,"data-filetype","b2sFiles")},m(C,V){$(C,e,V),n(e,l),n(e,i),n(e,s),n(e,u),n(e,o),n(o,p),n(p,v),n(v,E),n(p,m);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(p,null);n(p,w),it(T,p,null),n(o,L),n(o,O),n(O,R),k=!0},p(C,[V]){var Y,oe,re;if((!k||V&1&&!he(l.src,a=C[0].imgUrl||Wt))&&f(l,"src",a),(!k||V&1&&r!==(r=C[0].id))&&f(l,"alt",r),(!k||V&1)&&I!==(I=((Y=C[0].game)==null?void 0:Y.name)+"")&&z(E,I),V&1){Z=Oe(C[0].features||[]);let J;for(J=0;J<Z.length;J+=1){const fe=Nt(C,Z,J);y[J]?y[J].p(fe,V):(y[J]=Xt(fe),y[J].c(),y[J].m(p,w))}for(;J<y.length;J+=1)y[J].d(1);y.length=Z.length}const j={};V&1&&(j.file=C[0]),T.$set(j),(!k||V&1)&&U!==(U=(((oe=C[0].authors)==null?void 0:oe.join(", "))||"")+"")&&z(R,U),(!k||V&2)&&f(e,"href",C[1]),(!k||V&1&&te!==(te=C[0].id))&&f(e,"id",te),(!k||V&1&&H!==(H=(re=C[0].game)==null?void 0:re.id))&&f(e,"data-gameid",H)},i(C){k||(W(T.$$.fragment,C),k=!0)},o(C){Q(T.$$.fragment,C),k=!1},d(C){C&&d(e),Ct(y,C),nt(T)}}}function Yl(t,e,l){let{file:a=Cl}=e,{href:r=""}=e;return t.$$set=i=>{"file"in i&&l(0,a=i.file),"href"in i&&l(1,r=i.href)},[a,r]}class $l extends ft{constructor(e){super(),ut(this,e,Yl,Ql,ot,{file:0,href:1})}}function xl(t){var Z;let e,l,a,r,i=(((Z=t[0].game)==null?void 0:Z.name)||"???")+"",s,u,o,p,v=(t[0].version||"")+"",I,E,m,w,T,L,O,U,R,te,H,k;return L=new jt({props:{file:t[0]}}),{c(){e=h("a"),l=h("div"),a=h("div"),r=h("span"),s=A(i),u=M(),o=h("div"),p=h("span"),I=A(v),E=M(),m=h("div"),w=M(),T=h("div"),rt(L.$$.fragment),O=M(),U=h("img"),this.h()},l(y){e=g(y,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var G=b(e);l=g(G,"DIV",{class:!0});var ee=b(l);a=g(ee,"DIV",{class:!0});var C=b(a);r=g(C,"SPAN",{class:!0});var V=b(r);s=S(V,i),V.forEach(d),u=F(C),o=g(C,"DIV",{class:!0});var j=b(o);p=g(j,"SPAN",{class:!0});var Y=b(p);I=S(Y,v),Y.forEach(d),E=F(j),m=g(j,"DIV",{class:!0}),b(m).forEach(d),w=F(j),T=g(j,"DIV",{class:!0});var oe=b(T);st(L.$$.fragment,oe),oe.forEach(d),j.forEach(d),C.forEach(d),O=F(ee),U=g(ee,"IMG",{src:!0,class:!0,alt:!0}),ee.forEach(d),G.forEach(d),this.h()},h(){var y;f(r,"class","font-bold"),f(p,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),f(m,"class","flex-1"),f(T,"class","shrink-0"),f(o,"class","flex justify-between max-w-full"),f(a,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),he(U.src,R=t[3])||f(U,"src",R),f(U,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),f(U,"alt",""),f(l,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),f(e,"href",t[1]),f(e,"id",te=t[0].id),f(e,"data-gameid",H=(y=t[0].game)==null?void 0:y.id),f(e,"data-filetype",t[2]),f(e,"class","aspect svelte-22xih4")},m(y,G){$(y,e,G),n(e,l),n(l,a),n(a,r),n(r,s),n(a,u),n(a,o),n(o,p),n(p,I),n(o,E),n(o,m),n(o,w),n(o,T),it(L,T,null),n(l,O),n(l,U),k=!0},p(y,[G]){var C,V;(!k||G&1)&&i!==(i=(((C=y[0].game)==null?void 0:C.name)||"???")+"")&&z(s,i),(!k||G&1)&&v!==(v=(y[0].version||"")+"")&&z(I,v);const ee={};G&1&&(ee.file=y[0]),L.$set(ee),(!k||G&8&&!he(U.src,R=y[3]))&&f(U,"src",R),(!k||G&2)&&f(e,"href",y[1]),(!k||G&1&&te!==(te=y[0].id))&&f(e,"id",te),(!k||G&1&&H!==(H=(V=y[0].game)==null?void 0:V.id))&&f(e,"data-gameid",H),(!k||G&4)&&f(e,"data-filetype",y[2])},i(y){k||(W(L.$$.fragment,y),k=!0)},o(y){Q(L.$$.fragment,y),k=!1},d(y){y&&d(e),nt(L)}}}function ea(t,e,l){let a;const{getGameImage:r}=Lt;let{file:i=Ml}=e,{href:s=""}=e,{fileType:u}=e;return t.$$set=o=>{"file"in o&&l(0,i=o.file),"href"in o&&l(1,s=o.href),"fileType"in o&&l(2,u=o.fileType)},t.$$.update=()=>{var o;t.$$.dirty&1&&l(3,a=(o=i.game)!=null&&o.id?r(i.game.id):"")},[i,s,u,a]}class Xe extends ft{constructor(e){super(),ut(this,e,ea,xl,ot,{file:0,href:1,fileType:2})}}/*! Fast Average Color | © 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function ta(t){var e=t.toString(16);return e.length===1?"0"+e:e}function Zt(t){return"#"+t.map(ta).join("")}function la(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function aa(t){return t?ra(t)?t:[t]:[]}function ra(t){return Array.isArray(t[0])}function Bt(t,e,l){for(var a=0;a<l.length;a++)if(sa(t,e,l[a]))return!0;return!1}function sa(t,e,l){switch(l.length){case 3:if(ia(t,e,l))return!0;break;case 4:if(na(t,e,l))return!0;break;case 5:if(oa(t,e,l))return!0;break;default:return!1}}function ia(t,e,l){return t[e+3]!==255||t[e]===l[0]&&t[e+1]===l[1]&&t[e+2]===l[2]}function na(t,e,l){return t[e+3]&&l[3]?t[e]===l[0]&&t[e+1]===l[1]&&t[e+2]===l[2]&&t[e+3]===l[3]:t[e+3]===l[3]}function Ft(t,e,l){return t>=e-l&&t<=e+l}function oa(t,e,l){var a=l[0],r=l[1],i=l[2],s=l[3],u=l[4],o=t[e+3],p=Ft(o,s,u);return s?!!(!o&&p||Ft(t[e],a,u)&&Ft(t[e+1],r,u)&&Ft(t[e+2],i,u)&&p):p}function fa(t,e,l){for(var a={},r=24,i=l.ignoredColor,s=l.step,u=[0,0,0,0,0],o=0;o<e;o+=s){var p=t[o],v=t[o+1],I=t[o+2],E=t[o+3];if(!(i&&Bt(t,o,i))){var m=Math.round(p/r)+","+Math.round(v/r)+","+Math.round(I/r);a[m]?a[m]=[a[m][0]+p*E,a[m][1]+v*E,a[m][2]+I*E,a[m][3]+E,a[m][4]+1]:a[m]=[p*E,v*E,I*E,E,1],u[4]<a[m][4]&&(u=a[m])}}var w=u[0],T=u[1],L=u[2],O=u[3],U=u[4];return O?[Math.round(w/O),Math.round(T/O),Math.round(L/O),Math.round(O/U)]:l.defaultColor}function ua(t,e,l){for(var a=0,r=0,i=0,s=0,u=0,o=l.ignoredColor,p=l.step,v=0;v<e;v+=p){var I=t[v+3],E=t[v]*I,m=t[v+1]*I,w=t[v+2]*I;o&&Bt(t,v,o)||(a+=E,r+=m,i+=w,s+=I,u++)}return s?[Math.round(a/s),Math.round(r/s),Math.round(i/s),Math.round(s/u)]:l.defaultColor}function ca(t,e,l){for(var a=0,r=0,i=0,s=0,u=0,o=l.ignoredColor,p=l.step,v=0;v<e;v+=p){var I=t[v],E=t[v+1],m=t[v+2],w=t[v+3];o&&Bt(t,v,o)||(a+=I*I*w,r+=E*E*w,i+=m*m*w,s+=w,u++)}return s?[Math.round(Math.sqrt(a/s)),Math.round(Math.sqrt(r/s)),Math.round(Math.sqrt(i/s)),Math.round(s/u)]:l.defaultColor}function Jt(t){return Pt(t,"defaultColor",[0,0,0,0])}function Pt(t,e,l){return t[e]===void 0?l:t[e]}var Kt=10,Ot=100;function da(t){return t.search(/\.svg(\?|$)/i)!==-1}function ha(t){if(El(t)){var e=t.naturalWidth,l=t.naturalHeight;return!t.naturalWidth&&da(t.src)&&(e=l=Ot),{width:e,height:l}}return ma(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function Qt(t){return va(t)?"canvas":ga(t)?"offscreencanvas":pa(t)?"imagebitmap":t.src}function El(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var Il=typeof OffscreenCanvas<"u";function ga(t){return Il&&t instanceof OffscreenCanvas}function ma(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function va(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function pa(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function _a(t,e){var l=Pt(e,"left",0),a=Pt(e,"top",0),r=Pt(e,"width",t.width),i=Pt(e,"height",t.height),s=r,u=i;if(e.mode==="precision")return{srcLeft:l,srcTop:a,srcWidth:r,srcHeight:i,destWidth:s,destHeight:u};var o;return r>i?(o=r/i,s=Ot,u=Math.round(s/o)):(o=i/r,u=Ot,s=Math.round(u/o)),(s>r||u>i||s<Kt||u<Kt)&&(s=r,u=i),{srcLeft:l,srcTop:a,srcWidth:r,srcHeight:i,destWidth:s,destHeight:u}}var ba=typeof window>"u";function wa(){return ba?Il?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var Ea="FastAverageColor: ";function He(t){return Error(Ea+t)}function Tt(t,e){e||console.error(t)}var kl=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,l){if(!e)return Promise.reject(He("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(He("resource as string is not supported in this environment"));var a=new Image;return a.crossOrigin=l&&l.crossOrigin||"",a.src=e,this.bindImageEvents(a,l)}else{if(El(e)&&!e.complete)return this.bindImageEvents(e,l);var r=this.getColor(e,l);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,l){l=l||{};var a=Jt(l);if(!e){var r=He("call .getColor(null) without resource");return Tt(r,l.silent),this.prepareResult(a,r)}var i=ha(e),s=_a(i,l);if(!s.srcWidth||!s.srcHeight||!s.destWidth||!s.destHeight){var r=He('incorrect sizes for resource "'.concat(Qt(e),'"'));return Tt(r,l.silent),this.prepareResult(a,r)}if(!this.canvas&&(this.canvas=wa(),!this.canvas)){var r=He("OffscreenCanvas is not supported in this browser");return Tt(r,l.silent),this.prepareResult(a,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=He("Canvas Context 2D is not supported in this browser");return Tt(r,l.silent),this.prepareResult(a)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=s.destWidth,this.canvas.height=s.destHeight;try{this.ctx.clearRect(0,0,s.destWidth,s.destHeight),this.ctx.drawImage(e,s.srcLeft,s.srcTop,s.srcWidth,s.srcHeight,0,0,s.destWidth,s.destHeight);var u=this.ctx.getImageData(0,0,s.destWidth,s.destHeight).data;return this.prepareResult(this.getColorFromArray4(u,l))}catch(o){var r=He("security error (CORS) for resource ".concat(Qt(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Tt(r,l.silent),!l.silent&&console.error(o),this.prepareResult(a,r)}},t.prototype.getColorFromArray4=function(e,l){l=l||{};var a=4,r=e.length,i=Jt(l);if(r<a)return i;var s=r-r%a,u=(l.step||1)*a,o;switch(l.algorithm||"sqrt"){case"simple":o=ua;break;case"sqrt":o=ca;break;case"dominant":o=fa;break;default:throw He("".concat(l.algorithm," is unknown algorithm"))}return o(e,s,{defaultColor:i,ignoredColor:aa(l.ignoredColor),step:u})},t.prototype.prepareResult=function(e,l){var a=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],i=la(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+a.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Zt(a),hexa:Zt(e),isDark:i,isLight:!i,error:l}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,l){var a=this;return new Promise(function(r,i){var s=function(){p();var v=a.getColor(e,l);v.error?i(v.error):r(v)},u=function(){p(),i(He('Error loading image "'.concat(e.src,'".')))},o=function(){p(),i(He('Image "'.concat(e.src,'" loading aborted')))},p=function(){e.removeEventListener("load",s),e.removeEventListener("error",u),e.removeEventListener("abort",o)};e.addEventListener("load",s),e.addEventListener("error",u),e.addEventListener("abort",o)})},t}();const yl=Xl({width:0,height:0,mobile:!1});function Yt(t,e,l){const a=t.slice();return a[12]=e[l],a}function $t(t,e,l){const a=t.slice();return a[15]=e[l],a}function xt(t,e,l){const a=t.slice();return a[12]=e[l],a}function el(t){let e,l,a,r,i;return{c(){e=h("img"),this.h()},l(s){e=g(s,"IMG",{src:!0,alt:!0,style:!0,class:!0,loading:!0,decoding:!0}),this.h()},h(){he(e.src,l=t[4])||f(e,"src",l),f(e,"alt",a=t[0].id),tt(e,"height","36%"),f(e,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),f(e,"loading","lazy"),f(e,"decoding","async")},m(s,u){$(s,e,u),i=!0},p(s,u){(!i||u&16&&!he(e.src,l=s[4]))&&f(e,"src",l),(!i||u&1&&a!==(a=s[0].id))&&f(e,"alt",a)},i(s){i||(s&&gl(()=>{i&&(r||(r=Dt(e,Vt,{duration:300},!0)),r.run(1))}),i=!0)},o(s){s&&(r||(r=Dt(e,Vt,{duration:300},!1)),r.run(0)),i=!1},d(s){s&&d(e),s&&r&&r.end()}}}function tl(t){let e,l=t[12]+"",a,r;return{c(){e=h("div"),a=A(l),r=M(),this.h()},l(i){e=g(i,"DIV",{class:!0});var s=b(e);a=S(s,l),r=F(s),s.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,s){$(i,e,s),n(e,a),n(e,r)},p(i,s){s&32&&l!==(l=i[12]+"")&&z(a,l)},d(i){i&&d(e)}}}function ll(t){let e,l=t[15].toUpperCase()+"",a,r;return{c(){e=h("div"),a=A(l),r=M(),this.h()},l(i){e=g(i,"DIV",{class:!0});var s=b(e);a=S(s,l),r=F(s),s.forEach(d),this.h()},h(){f(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(i,s){$(i,e,s),n(e,a),n(e,r)},p(i,s){s&1&&l!==(l=i[15].toUpperCase()+"")&&z(a,l)},d(i){i&&d(e)}}}function al(t){let e,l=t[12]+"",a,r;return{c(){e=h("div"),a=A(l),r=M(),this.h()},l(i){e=g(i,"DIV",{class:!0});var s=b(e);a=S(s,l),r=F(s),s.forEach(d),this.h()},h(){f(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,s){$(i,e,s),n(e,a),n(e,r)},p(i,s){s&32&&l!==(l=i[12]+"")&&z(a,l)},d(i){i&&d(e)}}}function Ia(t){var Et,It;let e,l,a,r,i,s,u=t[0].name+"",o,p,v,I,E,m=t[0].manufacturer+"",w,T,L,O,U=t[0].year+"",R,te,H,k,Z=(((Et=t[0].designers)==null?void 0:Et.join(", "))||"-")+"",y,G,ee,C,V,j,Y,oe="Updated at",re,J,fe=At(t[0].lastCreatedAt??t[0].updatedAt)+"",ge,we,Ze,ct,ue,me,dt="Type",ht,x,Te=(t[0].type||"-")+"",Le,gt,N,ve,pe,ze,ie,ce,Ee,je=t[0].name+"",Ie,Be,Je,_e,de=t[0].manufacturer+"",Pe,Ke,Ue=t[0].year+"",Ce,Qe,mt,Me,be=(((It=t[0].designers)==null?void 0:It.join(", "))||" ")+"",Fe,We,Ye,vt,D=t[3]&&el(t),De=Oe(t[5]),le=[];for(let c=0;c<De.length;c+=1)le[c]=tl(xt(t,De,c));let K=Oe(t[0].theme||[]),B=[];for(let c=0;c<K.length;c+=1)B[c]=ll($t(t,K,c));let Ge=Oe(t[5]),ae=[];for(let c=0;c<Ge.length;c+=1)ae[c]=al(Yt(t,Ge,c));return{c(){e=h("a"),l=h("div"),D&&D.c(),a=M(),r=h("div"),i=h("div"),s=h("p"),o=A(u),p=M();for(let c=0;c<le.length;c+=1)le[c].c();v=M(),I=h("div"),E=h("p"),w=A(m),T=M(),L=h("p"),O=A("("),R=A(U),te=A(")"),H=M(),k=h("p"),y=A(Z),G=M(),ee=h("div");for(let c=0;c<B.length;c+=1)B[c].c();C=M(),V=h("div"),j=h("div"),Y=h("p"),Y.textContent=oe,re=M(),J=h("p"),ge=A(fe),we=M(),Ze=h("div"),ct=M(),ue=h("div"),me=h("p"),me.textContent=dt,ht=M(),x=h("p"),Le=A(Te),gt=M(),N=h("img"),ze=M(),ie=h("div"),ce=h("div"),Ee=h("p"),Ie=A(je),Be=M();for(let c=0;c<ae.length;c+=1)ae[c].c();Je=M(),_e=h("p"),Pe=A(de),Ke=A(" ("),Ce=A(Ue),Qe=A(")"),mt=M(),Me=h("p"),Fe=A(be),this.h()},l(c){e=g(c,"A",{class:!0,href:!0,id:!0});var _=b(e);l=g(_,"DIV",{class:!0,style:!0});var q=b(l);D&&D.l(q),a=F(q),r=g(q,"DIV",{class:!0,style:!0});var X=b(r);i=g(X,"DIV",{class:!0});var P=b(i);s=g(P,"P",{class:!0});var ne=b(s);o=S(ne,u),ne.forEach(d),p=F(P);for(let ye=0;ye<le.length;ye+=1)le[ye].l(P);P.forEach(d),v=F(X),I=g(X,"DIV",{class:!0});var Ve=b(I);E=g(Ve,"P",{class:!0});var Ae=b(E);w=S(Ae,m),Ae.forEach(d),T=F(Ve),L=g(Ve,"P",{});var Se=b(L);O=S(Se,"("),R=S(Se,U),te=S(Se,")"),Se.forEach(d),Ve.forEach(d),H=F(X),k=g(X,"P",{class:!0});var pt=b(k);y=S(pt,Z),pt.forEach(d),G=F(X),ee=g(X,"DIV",{class:!0});var kt=b(ee);for(let ye=0;ye<B.length;ye+=1)B[ye].l(kt);kt.forEach(d),C=F(X),V=g(X,"DIV",{class:!0});var qe=b(V);j=g(qe,"DIV",{class:!0});var Ne=b(j);Y=g(Ne,"P",{class:!0,"data-svelte-h":!0}),Ht(Y)!=="svelte-g6tq99"&&(Y.textContent=oe),re=F(Ne),J=g(Ne,"P",{class:!0});var yt=b(J);ge=S(yt,fe),yt.forEach(d),Ne.forEach(d),we=F(qe),Ze=g(qe,"DIV",{class:!0}),b(Ze).forEach(d),ct=F(qe),ue=g(qe,"DIV",{class:!0});var ke=b(ue);me=g(ke,"P",{class:!0,"data-svelte-h":!0}),Ht(me)!=="svelte-1h1g7sd"&&(me.textContent=dt),ht=F(ke),x=g(ke,"P",{class:!0});var _t=b(x);Le=S(_t,Te),_t.forEach(d),ke.forEach(d),qe.forEach(d),X.forEach(d),q.forEach(d),gt=F(_),N=g(_,"IMG",{src:!0,alt:!0,class:!0,loading:!0,decoding:!0}),ze=F(_),ie=g(_,"DIV",{class:!0});var Re=b(ie);ce=g(Re,"DIV",{class:!0});var bt=b(ce);Ee=g(bt,"P",{class:!0});var $e=b(Ee);Ie=S($e,je),$e.forEach(d),Be=F(bt);for(let ye=0;ye<ae.length;ye+=1)ae[ye].l(bt);bt.forEach(d),Je=F(Re),_e=g(Re,"P",{});var xe=b(_e);Pe=S(xe,de),Ke=S(xe," ("),Ce=S(xe,Ue),Qe=S(xe,")"),xe.forEach(d),mt=F(Re),Me=g(Re,"P",{class:!0});var Ut=b(Me);Fe=S(Ut,be),Ut.forEach(d),Re.forEach(d),_.forEach(d),this.h()},h(){f(s,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(i,"class","flex gap-2 max-w-full"),f(E,"class","text-ellipsis whitespace-nowrap overflow-hidden"),f(I,"class","flex gap-1 text-center max-w-full"),f(k,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),f(ee,"class","flex gap-2 mt-4 flex-wrap"),f(Y,"class","text-xs font-bold uppercase opacity-40"),f(J,"class",""),f(j,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(Ze,"class","bg-surface-900-50-token h-full w-px opacity-20"),f(me,"class","text-xs font-bold uppercase opacity-40"),f(x,"class",""),f(ue,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(V,"class","flex mt-auto w-full"),f(r,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),tt(r,"top","calc(90% - 13rem)"),f(l,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-11ob0c8"),tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),se(l,"hovered",t[3]),he(N.src,ve=t[4])||f(N,"src",ve),f(N,"alt",pe=t[0].name),f(N,"class","card pinImage bg-surface-300-600-token shadow-black svelte-11ob0c8"),f(N,"loading","lazy"),f(N,"decoding","async"),se(N,"hovered",t[3]),se(N,"shadow-lg",t[3]),f(Ee,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(ce,"class","flex gap-2"),f(Me,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full designers-line svelte-11ob0c8"),f(ie,"class","info flex flex-col py-4 svelte-11ob0c8"),se(ie,"opacity-0",t[3]),f(e,"class","wrapper relative z-0 overflow-visible block"),f(e,"href",t[1]),f(e,"id",We=t[0].id)},m(c,_){$(c,e,_),n(e,l),D&&D.m(l,null),n(l,a),n(l,r),n(r,i),n(i,s),n(s,o),n(i,p);for(let q=0;q<le.length;q+=1)le[q]&&le[q].m(i,null);n(r,v),n(r,I),n(I,E),n(E,w),n(I,T),n(I,L),n(L,O),n(L,R),n(L,te),n(r,H),n(r,k),n(k,y),n(r,G),n(r,ee);for(let q=0;q<B.length;q+=1)B[q]&&B[q].m(ee,null);n(r,C),n(r,V),n(V,j),n(j,Y),n(j,re),n(j,J),n(J,ge),n(V,we),n(V,Ze),n(V,ct),n(V,ue),n(ue,me),n(ue,ht),n(ue,x),n(x,Le),n(e,gt),n(e,N),n(e,ze),n(e,ie),n(ie,ce),n(ce,Ee),n(Ee,Ie),n(ce,Be);for(let q=0;q<ae.length;q+=1)ae[q]&&ae[q].m(ce,null);n(ie,Je),n(ie,_e),n(_e,Pe),n(_e,Ke),n(_e,Ce),n(_e,Qe),n(ie,mt),n(ie,Me),n(Me,Fe),Ye||(vt=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],Ye=!0)},p(c,[_]){var q,X;if(c[3]?D?(D.p(c,_),_&8&&W(D,1)):(D=el(c),D.c(),W(D,1),D.m(l,a)):D&&(lt(),Q(D,1,1,()=>{D=null}),at()),_&1&&u!==(u=c[0].name+"")&&z(o,u),_&32){De=Oe(c[5]);let P;for(P=0;P<De.length;P+=1){const ne=xt(c,De,P);le[P]?le[P].p(ne,_):(le[P]=tl(ne),le[P].c(),le[P].m(i,null))}for(;P<le.length;P+=1)le[P].d(1);le.length=De.length}if(_&1&&m!==(m=c[0].manufacturer+"")&&z(w,m),_&1&&U!==(U=c[0].year+"")&&z(R,U),_&1&&Z!==(Z=(((q=c[0].designers)==null?void 0:q.join(", "))||"-")+"")&&z(y,Z),_&1){K=Oe(c[0].theme||[]);let P;for(P=0;P<K.length;P+=1){const ne=$t(c,K,P);B[P]?B[P].p(ne,_):(B[P]=ll(ne),B[P].c(),B[P].m(ee,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=K.length}if(_&1&&fe!==(fe=At(c[0].lastCreatedAt??c[0].updatedAt)+"")&&z(ge,fe),_&1&&Te!==(Te=(c[0].type||"-")+"")&&z(Le,Te),_&68&&tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[6]?100:900)+")) "+(c[6]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[6]?100:600})`)+")",1),_&8&&se(l,"hovered",c[3]),_&16&&!he(N.src,ve=c[4])&&f(N,"src",ve),_&1&&pe!==(pe=c[0].name)&&f(N,"alt",pe),_&8&&se(N,"hovered",c[3]),_&8&&se(N,"shadow-lg",c[3]),_&1&&je!==(je=c[0].name+"")&&z(Ie,je),_&32){Ge=Oe(c[5]);let P;for(P=0;P<Ge.length;P+=1){const ne=Yt(c,Ge,P);ae[P]?ae[P].p(ne,_):(ae[P]=al(ne),ae[P].c(),ae[P].m(ce,null))}for(;P<ae.length;P+=1)ae[P].d(1);ae.length=Ge.length}_&1&&de!==(de=c[0].manufacturer+"")&&z(Pe,de),_&1&&Ue!==(Ue=c[0].year+"")&&z(Ce,Ue),_&1&&be!==(be=(((X=c[0].designers)==null?void 0:X.join(", "))||" ")+"")&&z(Fe,be),_&8&&se(ie,"opacity-0",c[3]),_&2&&f(e,"href",c[1]),_&1&&We!==(We=c[0].id)&&f(e,"id",We)},i(c){W(D)},o(c){Q(D)},d(c){c&&d(e),D&&D.d(),Ct(le,c),Ct(B,c),Ct(ae,c),Ye=!1,dl(vt)}}}function ka(t,e,l){let a,r,i,s;et(t,yl,w=>l(10,i=w)),et(t,wl,w=>l(6,s=w));const u=new kl;let{file:o=bl}=e,{href:p=""}=e,v="",I=!1;const E=()=>{i.mobile||l(3,I=!0)},m=()=>{i.mobile||l(3,I=!1)};return hl(()=>{u&&u.destroy()}),t.$$set=w=>{"file"in w&&l(0,o=w.file),"href"in w&&l(1,p=w.href)},t.$$.update=()=>{t.$$.dirty&1&&l(4,a=Vl(o)),t.$$.dirty&1&&l(5,r=Array.from(new Set((o.tableFiles||[]).map(w=>w.tableFormat).filter(w=>!!w)))),t.$$.dirty&28&&I&&a&&!v&&u.getColorAsync(a,{algorithm:"simple"}).then(w=>{w&&l(2,v=w.rgb)}).catch(()=>{})},[o,p,v,I,a,r,s,E,m]}class ya extends ft{constructor(e){super(),ut(this,e,ka,Ia,ot,{file:0,href:1})}}const St=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,rl={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500",VLM:"bg-lime-500"},sl={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",VLM:"VPX Light Mapper -- enhanced lighting",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function Ta(t){let e;const l=t[4].default,a=ml(l,t,t[3],null);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,i){a&&a.m(r,i),e=!0},p(r,i){a&&a.p&&(!e||i&8)&&vl(a,l,r,r[3],e?_l(l,r[3],i,null):pl(r[3]),null)},i(r){e||(W(a,r),e=!0)},o(r){Q(a,r),e=!1},d(r){a&&a.d(r)}}}function Pa(t){let e,l,a,r,i,s,u,o,p,v;const I=t[4].default,E=ml(I,t,t[3],null);return{c(){e=h("div"),E&&E.c(),l=M(),a=h("div"),r=h("p"),i=A(t[0]),s=M(),u=h("div"),this.h()},l(m){e=g(m,"DIV",{});var w=b(e);E&&E.l(w),w.forEach(d),l=F(m),a=g(m,"DIV",{class:!0,"data-popup":!0});var T=b(a);r=g(T,"P",{});var L=b(r);i=S(L,t[0]),L.forEach(d),s=F(T),u=g(T,"DIV",{class:!0}),b(u).forEach(d),T.forEach(d),this.h()},h(){f(u,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),f(a,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),f(a,"data-popup",t[1])},m(m,w){$(m,e,w),E&&E.m(e,null),$(m,l,w),$(m,a,w),n(a,r),n(r,i),n(a,s),n(a,u),o=!0,p||(v=Pl(Al.call(null,e,t[2])),p=!0)},p(m,w){E&&E.p&&(!o||w&8)&&vl(E,I,m,m[3],o?_l(I,m[3],w,null):pl(m[3]),null),(!o||w&1)&&z(i,m[0])},i(m){o||(W(E,m),o=!0)},o(m){Q(E,m),o=!1},d(m){m&&(d(e),d(l),d(a)),E&&E.d(m),p=!1,v()}}}function Ca(t){let e,l,a,r;const i=[Pa,Ta],s=[];function u(o,p){return o[0]?0:1}return e=u(t),l=s[e]=i[e](t),{c(){l.c(),a=wt()},l(o){l.l(o),a=wt()},m(o,p){s[e].m(o,p),$(o,a,p),r=!0},p(o,[p]){let v=e;e=u(o),e===v?s[e].p(o,p):(lt(),Q(s[v],1,1,()=>{s[v]=null}),at(),l=s[e],l?l.p(o,p):(l=s[e]=i[e](o),l.c()),W(l,1),l.m(a.parentNode,a))},i(o){r||(W(l),r=!0)},o(o){Q(l),r=!1},d(o){o&&d(a),s[e].d(o)}}}function Ma(t,e,l){let{$$slots:a={},$$scope:r}=e,{content:i=""}=e;const s=Zl(10),u={event:"hover",target:s,placement:"top"};return t.$$set=o=>{"content"in o&&l(0,i=o.content),"$$scope"in o&&l(3,r=o.$$scope)},[i,s,u,r,a]}class Fa extends ft{constructor(e){super(),ut(this,e,Ma,Ca,ot,{content:0})}}function il(t,e,l){const a=t.slice();return a[1]=e[l],a}function nl(t){let e,l,a=Oe(t[0]||[]),r=[];for(let s=0;s<a.length;s+=1)r[s]=ol(il(t,a,s));const i=s=>Q(r[s],1,1,()=>{r[s]=null});return{c(){e=h("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var u=b(e);for(let o=0;o<r.length;o+=1)r[o].l(u);u.forEach(d),this.h()},h(){f(e,"class","flex gap-1 flex-wrap")},m(s,u){$(s,e,u);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);l=!0},p(s,u){if(u&1){a=Oe(s[0]||[]);let o;for(o=0;o<a.length;o+=1){const p=il(s,a,o);r[o]?(r[o].p(p,u),W(r[o],1)):(r[o]=ol(p),r[o].c(),W(r[o],1),r[o].m(e,null))}for(lt(),o=a.length;o<r.length;o+=1)i(o);at()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)W(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)Q(r[u]);l=!1},d(s){s&&d(e),Ct(r,s)}}}function Da(t){let e,l,a,r=t[1].toUpperCase()+"",i,s;return{c(){e=h("div"),l=h("span"),i=A(r),s=M(),this.h()},l(u){e=g(u,"DIV",{class:!0});var o=b(e);l=g(o,"SPAN",{class:!0}),b(l).forEach(d),i=S(o,r),o.forEach(d),s=F(u),this.h()},h(){f(l,"class",a="rounded-full h-2 w-2 "+(rl[t[1]]||"bg-slate-500")+" mr-2"),f(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(u,o){$(u,e,o),n(e,l),n(e,i),$(u,s,o)},p(u,o){o&1&&a!==(a="rounded-full h-2 w-2 "+(rl[u[1]]||"bg-slate-500")+" mr-2")&&f(l,"class",a),o&1&&r!==(r=u[1].toUpperCase()+"")&&z(i,r)},d(u){u&&(d(e),d(s))}}}function ol(t){let e,l;return e=new Fa({props:{content:sl[t[1]],$$slots:{default:[Da]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},l(a){st(e.$$.fragment,a)},m(a,r){it(e,a,r),l=!0},p(a,r){const i={};r&1&&(i.content=sl[a[1]]),r&17&&(i.$$scope={dirty:r,ctx:a}),e.$set(i)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){Q(e.$$.fragment,a),l=!1},d(a){nt(e,a)}}}function Va(t){var r;let e,l,a=((r=t[0])==null?void 0:r.length)&&nl(t);return{c(){a&&a.c(),e=wt()},l(i){a&&a.l(i),e=wt()},m(i,s){a&&a.m(i,s),$(i,e,s),l=!0},p(i,[s]){var u;(u=i[0])!=null&&u.length?a?(a.p(i,s),s&1&&W(a,1)):(a=nl(i),a.c(),W(a,1),a.m(e.parentNode,e)):a&&(lt(),Q(a,1,1,()=>{a=null}),at())},i(i){l||(W(a),l=!0)},o(i){Q(a),l=!1},d(i){i&&d(e),a&&a.d(i)}}}function Aa(t,e,l){let{data:a=[]}=e;return t.$$set=r=>{"data"in r&&l(0,a=r.data)},[a]}class Sa extends ft{constructor(e){super(),ut(this,e,Aa,Va,ot,{data:0})}}function fl(t){let e,l,a,r,i;return{c(){e=h("img"),this.h()},l(s){e=g(s,"IMG",{src:!0,alt:!0,style:!0,class:!0,loading:!0,decoding:!0}),this.h()},h(){he(e.src,l=t[0].imgUrl||St)||f(e,"src",l),f(e,"alt",a=t[0].id),tt(e,"height","35%"),f(e,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),f(e,"loading","lazy"),f(e,"decoding","async")},m(s,u){$(s,e,u),i=!0},p(s,u){(!i||u&1&&!he(e.src,l=s[0].imgUrl||St))&&f(e,"src",l),(!i||u&1&&a!==(a=s[0].id))&&f(e,"alt",a)},i(s){i||(s&&gl(()=>{i&&(r||(r=Dt(e,Vt,{duration:600},!0)),r.run(1))}),i=!0)},o(s){s&&(r||(r=Dt(e,Vt,{duration:600},!1)),r.run(0)),i=!1},d(s){s&&d(e),s&&r&&r.end()}}}function ul(t){let e,l,a=t[0].edition+"",r;return{c(){e=h("div"),l=h("p"),r=A(a),this.h()},l(i){e=g(i,"DIV",{class:!0});var s=b(e);l=g(s,"P",{class:!0});var u=b(l);r=S(u,a),u.forEach(d),s.forEach(d),this.h()},h(){f(l,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(e,"class","flex gap-2 max-w-full")},m(i,s){$(i,e,s),n(e,l),n(l,r)},p(i,s){s&1&&a!==(a=i[0].edition+"")&&z(r,a)},d(i){i&&d(e)}}}function Ra(t){var Ge,ae,Et,It;let e,l,a,r,i,s,u=((Ge=t[0].game)==null?void 0:Ge.name)+"",o,p,v,I=t[0].tableFormat+"",E,m,w,T,L,O,U,R=t[4].manufacturer+"",te,H,k,Z,y=t[4].year+"",G,ee,C,V,j=(((ae=t[0].authors)==null?void 0:ae.join(", "))||"-")+"",Y,oe,re,J,fe,ge,we,Ze="Updated at",ct,ue,me=At(t[0].createdAt??t[0].updatedAt)+"",dt,ht,x,Te,Le,gt,N,ve,pe,ze=((Et=t[0].game)==null?void 0:Et.name)+"",ie,ce=t[0].edition?` ${t[0].edition}`:"",Ee,je,Ie,Be=t[0].tableFormat+"",Je,_e,de,Pe=t[4].manufacturer+"",Ke,Ue,Ce=t[4].year+"",Qe,mt,Me,be,Fe=((It=t[0].authors)==null?void 0:It.join(", "))+"",We,Ye,vt,D,De,le,K=t[3]&&fl(t);w=new jt({props:{game:t[4]}});let B=t[0].edition&&ul(t);return re=new Sa({props:{data:t[0].features}}),{c(){e=h("a"),l=h("div"),K&&K.c(),a=M(),r=h("div"),i=h("div"),s=h("p"),o=A(u),p=M(),v=h("div"),E=A(I),m=M(),rt(w.$$.fragment),T=M(),B&&B.c(),L=M(),O=h("div"),U=h("p"),te=A(R),H=M(),k=h("p"),Z=A("("),G=A(y),ee=A(")"),C=M(),V=h("p"),Y=A(j),oe=M(),rt(re.$$.fragment),J=M(),fe=h("div"),ge=h("div"),we=h("p"),we.textContent=Ze,ct=M(),ue=h("p"),dt=A(me),ht=M(),x=h("img"),gt=M(),N=h("div"),ve=h("div"),pe=h("p"),ie=A(ze),Ee=A(ce),je=M(),Ie=h("div"),Je=A(Be),_e=M(),de=h("p"),Ke=A(Pe),Ue=A(" ("),Qe=A(Ce),mt=A(")"),Me=M(),be=h("p"),We=A(Fe),this.h()},l(c){e=g(c,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var _=b(e);l=g(_,"DIV",{style:!0,class:!0});var q=b(l);K&&K.l(q),a=F(q),r=g(q,"DIV",{class:!0,style:!0});var X=b(r);i=g(X,"DIV",{class:!0});var P=b(i);s=g(P,"P",{class:!0});var ne=b(s);o=S(ne,u),ne.forEach(d),p=F(P),v=g(P,"DIV",{class:!0});var Ve=b(v);E=S(Ve,I),Ve.forEach(d),m=F(P),st(w.$$.fragment,P),P.forEach(d),T=F(X),B&&B.l(X),L=F(X),O=g(X,"DIV",{class:!0});var Ae=b(O);U=g(Ae,"P",{class:!0});var Se=b(U);te=S(Se,R),Se.forEach(d),H=F(Ae),k=g(Ae,"P",{});var pt=b(k);Z=S(pt,"("),G=S(pt,y),ee=S(pt,")"),pt.forEach(d),Ae.forEach(d),C=F(X),V=g(X,"P",{class:!0});var kt=b(V);Y=S(kt,j),kt.forEach(d),oe=F(X),st(re.$$.fragment,X),J=F(X),fe=g(X,"DIV",{class:!0});var qe=b(fe);ge=g(qe,"DIV",{class:!0});var Ne=b(ge);we=g(Ne,"P",{class:!0,"data-svelte-h":!0}),Ht(we)!=="svelte-g6tq99"&&(we.textContent=Ze),ct=F(Ne),ue=g(Ne,"P",{class:!0});var yt=b(ue);dt=S(yt,me),yt.forEach(d),Ne.forEach(d),qe.forEach(d),X.forEach(d),q.forEach(d),ht=F(_),x=g(_,"IMG",{src:!0,alt:!0,class:!0,loading:!0,decoding:!0}),gt=F(_),N=g(_,"DIV",{class:!0});var ke=b(N);ve=g(ke,"DIV",{class:!0});var _t=b(ve);pe=g(_t,"P",{class:!0});var Re=b(pe);ie=S(Re,ze),Ee=S(Re,ce),Re.forEach(d),je=F(_t),Ie=g(_t,"DIV",{class:!0});var bt=b(Ie);Je=S(bt,Be),bt.forEach(d),_t.forEach(d),_e=F(ke),de=g(ke,"P",{});var $e=b(de);Ke=S($e,Pe),Ue=S($e," ("),Qe=S($e,Ce),mt=S($e,")"),$e.forEach(d),Me=F(ke),be=g(ke,"P",{class:!0});var xe=b(be);We=S(xe,Fe),xe.forEach(d),ke.forEach(d),_.forEach(d),this.h()},h(){var c;f(s,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(v,"class","badge badge-glass my-auto py-0.5 px-1"),f(i,"class","flex gap-2 max-w-full"),f(U,"class","text-ellipsis whitespace-nowrap overflow-hidden"),f(O,"class","flex gap-1 text-center"),f(V,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),f(we,"class","text-xs font-bold uppercase opacity-40"),f(ue,"class",""),f(ge,"class","flex flex-col items-center justify-center flex-1 gap-1"),f(fe,"class","flex mt-auto w-full"),f(r,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),tt(r,"top","calc(88.5% - 14rem)"),tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),f(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),se(l,"hovered",t[3]),he(x.src,Te=t[0].imgUrl||St)||f(x,"src",Te),f(x,"alt",Le=t[0].id),f(x,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),f(x,"loading","lazy"),f(x,"decoding","async"),se(x,"hovered",t[3]),se(x,"shadow-lg",t[3]),f(pe,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),f(Ie,"class","badge badge-glass my-auto py-0.5 px-1"),f(ve,"class","flex gap-2"),f(be,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),f(N,"class","flex flex-col py-4 info svelte-gfpzxg"),se(N,"opacity-0",t[3]),f(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),f(e,"href",t[1]),f(e,"id",Ye=t[0].id),f(e,"data-gameid",vt=(c=t[0].game)==null?void 0:c.id),f(e,"data-filetype","tableFiles")},m(c,_){$(c,e,_),n(e,l),K&&K.m(l,null),n(l,a),n(l,r),n(r,i),n(i,s),n(s,o),n(i,p),n(i,v),n(v,E),n(i,m),it(w,i,null),n(r,T),B&&B.m(r,null),n(r,L),n(r,O),n(O,U),n(U,te),n(O,H),n(O,k),n(k,Z),n(k,G),n(k,ee),n(r,C),n(r,V),n(V,Y),n(r,oe),it(re,r,null),n(r,J),n(r,fe),n(fe,ge),n(ge,we),n(ge,ct),n(ge,ue),n(ue,dt),n(e,ht),n(e,x),n(e,gt),n(e,N),n(N,ve),n(ve,pe),n(pe,ie),n(pe,Ee),n(ve,je),n(ve,Ie),n(Ie,Je),n(N,_e),n(N,de),n(de,Ke),n(de,Ue),n(de,Qe),n(de,mt),n(N,Me),n(N,be),n(be,We),D=!0,De||(le=[Mt(e,"mouseenter",t[7]),Mt(e,"mouseleave",t[8])],De=!0)},p(c,[_]){var P,ne,Ve,Ae,Se;c[3]?K?(K.p(c,_),_&8&&W(K,1)):(K=fl(c),K.c(),W(K,1),K.m(l,a)):K&&(lt(),Q(K,1,1,()=>{K=null}),at()),(!D||_&1)&&u!==(u=((P=c[0].game)==null?void 0:P.name)+"")&&z(o,u),(!D||_&1)&&I!==(I=c[0].tableFormat+"")&&z(E,I);const q={};_&16&&(q.game=c[4]),w.$set(q),c[0].edition?B?B.p(c,_):(B=ul(c),B.c(),B.m(r,L)):B&&(B.d(1),B=null),(!D||_&16)&&R!==(R=c[4].manufacturer+"")&&z(te,R),(!D||_&16)&&y!==(y=c[4].year+"")&&z(G,y),(!D||_&1)&&j!==(j=(((ne=c[0].authors)==null?void 0:ne.join(", "))||"-")+"")&&z(Y,j);const X={};_&1&&(X.data=c[0].features),re.$set(X),(!D||_&1)&&me!==(me=At(c[0].createdAt??c[0].updatedAt)+"")&&z(dt,me),(!D||_&36)&&tt(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[5]?100:900)+")) "+(c[5]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[5]?100:600})`)+")",1),(!D||_&8)&&se(l,"hovered",c[3]),(!D||_&1&&!he(x.src,Te=c[0].imgUrl||St))&&f(x,"src",Te),(!D||_&1&&Le!==(Le=c[0].id))&&f(x,"alt",Le),(!D||_&8)&&se(x,"hovered",c[3]),(!D||_&8)&&se(x,"shadow-lg",c[3]),(!D||_&1)&&ze!==(ze=((Ve=c[0].game)==null?void 0:Ve.name)+"")&&z(ie,ze),(!D||_&1)&&ce!==(ce=c[0].edition?` ${c[0].edition}`:"")&&z(Ee,ce),(!D||_&1)&&Be!==(Be=c[0].tableFormat+"")&&z(Je,Be),(!D||_&16)&&Pe!==(Pe=c[4].manufacturer+"")&&z(Ke,Pe),(!D||_&16)&&Ce!==(Ce=c[4].year+"")&&z(Qe,Ce),(!D||_&1)&&Fe!==(Fe=((Ae=c[0].authors)==null?void 0:Ae.join(", "))+"")&&z(We,Fe),(!D||_&8)&&se(N,"opacity-0",c[3]),(!D||_&2)&&f(e,"href",c[1]),(!D||_&1&&Ye!==(Ye=c[0].id))&&f(e,"id",Ye),(!D||_&1&&vt!==(vt=(Se=c[0].game)==null?void 0:Se.id))&&f(e,"data-gameid",vt)},i(c){D||(W(K),W(w.$$.fragment,c),W(re.$$.fragment,c),D=!0)},o(c){Q(K),Q(w.$$.fragment,c),Q(re.$$.fragment,c),D=!1},d(c){c&&d(e),K&&K.d(),nt(w),B&&B.d(),nt(re),De=!1,dl(le)}}}function Ha(t,e,l){let a,r,i,s;et(t,yl,T=>l(11,r=T)),et(t,wl,T=>l(5,s=T));const u=new kl,{dbStore:o}=Lt;et(t,o,T=>l(9,i=T));let{file:p=Fl}=e,{href:v=""}=e,I="",E=!1;const m=()=>{r.mobile||l(3,E=!0)},w=()=>{r.mobile||l(3,E=!1)};return hl(()=>{u&&u.destroy()}),t.$$set=T=>{"file"in T&&l(0,p=T.file),"href"in T&&l(1,v=T.href)},t.$$.update=()=>{var T;t.$$.dirty&513&&l(4,a=(T=p==null?void 0:p.game)!=null&&T.id?i[p.game.id]:bl),t.$$.dirty&13&&E&&p.imgUrl&&!I&&u.getColorAsync(p.imgUrl,{algorithm:"simple"}).then(L=>{L&&l(2,I=L.rgb)}).catch(()=>{})},[p,v,I,E,a,s,o,m,w,i]}class Oa extends ft{constructor(e){super(),ut(this,e,Ha,Ra,ot,{file:0,href:1})}}function La(t){let e,l;return e=new zt({props:{icon:Ll,title:t[0].title,class:"aspectTable hover:brightness-125 hover:scale-110 transition-all text-[146px]"}}),{c(){rt(e.$$.fragment)},l(a){st(e.$$.fragment,a)},m(a,r){it(e,a,r),l=!0},p(a,r){const i={};r&1&&(i.title=a[0].title),e.$set(i)},i(a){l||(W(e.$$.fragment,a),l=!0)},o(a){Q(e.$$.fragment,a),l=!1},d(a){nt(e,a)}}}function za(t){let e,l,a,r;return{c(){e=h("img"),this.h()},l(i){e=g(i,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),this.h()},h(){f(e,"alt",l=t[0].youtubeId),f(e,"title",a=t[0].title),f(e,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),f(e,"width","352"),he(e.src,r=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||f(e,"src",r),se(e,"glow",t[2])},m(i,s){$(i,e,s)},p(i,s){s&1&&l!==(l=i[0].youtubeId)&&f(e,"alt",l),s&1&&a!==(a=i[0].title)&&f(e,"title",a),s&1&&!he(e.src,r=`https://img.youtube.com/vi/${i[0].youtubeId}/0.jpg`)&&f(e,"src",r),s&4&&se(e,"glow",i[2])},i:Rt,o:Rt,d(i){i&&d(e)}}}function cl(t){let e,l,a,r;return l=new zt({props:{icon:Ol}}),{c(){e=h("a"),rt(l.$$.fragment),this.h()},l(i){e=g(i,"A",{href:!0,target:!0});var s=b(e);st(l.$$.fragment,s),s.forEach(d),this.h()},h(){f(e,"href",a=t[0].url),f(e,"target","_blank")},m(i,s){$(i,e,s),it(l,e,null),r=!0},p(i,s){(!r||s&1&&a!==(a=i[0].url))&&f(e,"href",a)},i(i){r||(W(l.$$.fragment,i),r=!0)},o(i){Q(l.$$.fragment,i),r=!1},d(i){i&&d(e),nt(l)}}}function ja(t){var te;let e,l,a,r,i,s,u=t[0].title+"",o,p,v,I,E=((te=t[0].authors)==null?void 0:te.join(", "))+"",m,w,T;const L=[za,La],O=[];function U(H,k){return H[0].youtubeId?0:1}l=U(t),a=O[l]=L[l](t);let R=t[0].youtubeId&&t[0].url&&cl(t);return{c(){e=h("a"),a.c(),r=M(),i=h("div"),s=h("p"),o=A(u),p=M(),v=h("p"),R&&R.c(),I=M(),m=A(E),this.h()},l(H){e=g(H,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var k=b(e);a.l(k),r=F(k),i=g(k,"DIV",{class:!0});var Z=b(i);s=g(Z,"P",{class:!0});var y=b(s);o=S(y,u),y.forEach(d),p=F(Z),v=g(Z,"P",{class:!0});var G=b(v);R&&R.l(G),I=F(G),m=S(G,E),G.forEach(d),Z.forEach(d),k.forEach(d),this.h()},h(){f(s,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),f(v,"class","flex items-center gap-1 text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),f(i,"class","flex flex-col py-4"),f(e,"href",t[1]),f(e,"class","flex flex-col"),f(e,"id",w=t[0].id),f(e,"data-gameid",t[3]),f(e,"data-filetype","b2sFiles")},m(H,k){$(H,e,k),O[l].m(e,null),n(e,r),n(e,i),n(i,s),n(s,o),n(i,p),n(i,v),R&&R.m(v,null),n(v,I),n(v,m),T=!0},p(H,[k]){var y;let Z=l;l=U(H),l===Z?O[l].p(H,k):(lt(),Q(O[Z],1,1,()=>{O[Z]=null}),at(),a=O[l],a?a.p(H,k):(a=O[l]=L[l](H),a.c()),W(a,1),a.m(e,r)),(!T||k&1)&&u!==(u=H[0].title+"")&&z(o,u),H[0].youtubeId&&H[0].url?R?(R.p(H,k),k&1&&W(R,1)):(R=cl(H),R.c(),W(R,1),R.m(v,I)):R&&(lt(),Q(R,1,1,()=>{R=null}),at()),(!T||k&1)&&E!==(E=((y=H[0].authors)==null?void 0:y.join(", "))+"")&&z(m,E),(!T||k&2)&&f(e,"href",H[1]),(!T||k&1&&w!==(w=H[0].id))&&f(e,"id",w),(!T||k&8)&&f(e,"data-gameid",H[3])},i(H){T||(W(a),W(R),T=!0)},o(H){Q(a),Q(R),T=!1},d(H){H&&d(e),O[l].d(),R&&R.d()}}}function Ba(t,e,l){let{file:a=Dl}=e,{href:r=""}=e,{active:i=!1}=e,{gameId:s}=e;return t.$$set=u=>{"file"in u&&l(0,a=u.file),"href"in u&&l(1,r=u.href),"active"in u&&l(2,i=u.active),"gameId"in u&&l(3,s=u.gameId)},[a,r,i,s]}class Ua extends ft{constructor(e){super(),ut(this,e,Ba,ja,ot,{file:0,href:1,active:2,gameId:3})}}const xa={game:{route:"games",name:"Games",component:ya},tableFiles:{route:"tables",name:"Tables",component:Oa},b2sFiles:{route:"b2s",name:"Backglasses",component:$l},tutorialFiles:{route:"tutorials",name:"Tutorials",component:Ua,icon:Gt},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Xe,icon:zl},romFiles:{route:"roms",name:"Roms",component:Xe,icon:jl},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:Xe,icon:Bl},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Xe,icon:Ul},topperFiles:{route:"toppers",name:"Toppers",component:Xe,icon:Wl},povFiles:{route:"pov",name:"POVs",component:Xe,icon:Gl},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Xe,icon:ql},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Xe,icon:Nl},ruleFiles:{route:"rules",name:"Rules",component:Xe,icon:Gt}};export{Sa as F,St as P,Fa as T,yl as a,kl as b,Oa as c,xa as m};
