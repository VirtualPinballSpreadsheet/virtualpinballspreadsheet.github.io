import{s as nt,e as yt,i as te,d as c,B as it,f as d,g as h,h as p,j as u,H as At,r as St,Y as ka,a as P,l as V,c as T,m as A,R as we,G as o,n as O,$ as Vt,Z as jt,k as st,T as re,I as ha,x as va,y as ga,z as ma,A as pa,Q as Ca}from"./scheduler.c1c84dbf.js";import{S as ot,i as ft,a as ae,g as Lt,t as ce,c as Bt,b as kt,d as Ct,m as Pt,e as Tt}from"./index.64b0efba.js";import{e as Xe}from"./each.388c6565.js";import{D as zt,a as Pa,d as Ta,c as _a,b as Ma,E as Fa}from"./DbStore.18255923.js";import{P as Zt,g as Da,p as Va}from"./getBackglassUrl.d642dc18.js";import{U as Aa,E as Sa}from"./UserStore.9abaa4a0.js";import{F as Ra,i as Ha,n as Oa,B as Jt,C as ja,y as La,D as Ba,E as Ua,G as za,H as Wa,I as Ga,w as qa}from"./index.browser.a39b2f72.js";import{w as Na}from"./index.eb17cf1d.js";import{m as ba}from"./ProgressBar.svelte_svelte_type_style_lang.ec37df6e.js";import{f as It}from"./formatDate.85208f9c.js";function Kt(t){let e,a,l,r,n;return a=new Ra({props:{icon:Ha}}),{c(){e=d("a"),kt(a.$$.fragment),this.h()},l(i){e=h(i,"A",{href:!0,class:!0});var f=p(e);Ct(a.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"href","?edit=true"),u(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(i,f){te(i,e,f),Pt(a,e,null),l=!0,r||(n=At(e,"click",t[9]),r=!0)},p:St,i(i){l||(ae(a.$$.fragment,i),l=!0)},o(i){ce(a.$$.fragment,i),l=!1},d(i){i&&c(e),Tt(a),r=!1,n()}}}function Xa(t){let e,a,l=t[0]&&t[1].admin&&Kt(t);return{c(){l&&l.c(),e=yt()},l(r){l&&l.l(r),e=yt()},m(r,n){l&&l.m(r,n),te(r,e,n),a=!0},p(r,[n]){r[0]&&r[1].admin?l?(l.p(r,n),n&3&&ae(l,1)):(l=Kt(r),l.c(),ae(l,1),l.m(e.parentNode,e)):l&&(Lt(),ce(l,1,1,()=>{l=null}),Bt())},i(r){a||(ae(l),a=!0)},o(r){ce(l),a=!1},d(r){r&&c(e),l&&l.d(r)}}}function Za(t,e,a){let l,r,n,i;const{userStore:f}=Aa;it(t,f,g=>a(1,n=g));const{editStore:s}=Sa;it(t,s,g=>a(2,i=g));const{dbStore:v}=zt;it(t,v,g=>a(8,r=g));let{file:m=void 0}=e,{game:I=void 0}=e;const w=()=>{ka(s,i.cache={id:l.id,action:"UPDATE",data:JSON.parse(JSON.stringify(l))},i)};return t.$$set=g=>{"file"in g&&a(6,m=g.file),"game"in g&&a(7,I=g.game)},t.$$.update=()=>{var g;t.$$.dirty&448&&a(0,l=I||((g=m==null?void 0:m.game)!=null&&g.id?r[m.game.id]:void 0))},[l,n,i,f,s,v,m,I,r,w]}class Wt extends ot{constructor(e){super(),ft(this,e,Za,Xa,nt,{file:6,game:7})}}function Qt(t,e,a){const l=t.slice();return l[2]=e[a],l}function Yt(t){let e,a=t[2]+"",l;return{c(){e=d("div"),l=V(a),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=p(e);l=A(n,a),n.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,n){te(r,e,n),o(e,l)},p(r,n){n&1&&a!==(a=r[2]+"")&&O(l,a)},d(r){r&&c(e)}}}function Ja(t){var G,Y;let e,a,l,r,n,i,f,s,v,m,I=((G=t[0].game)==null?void 0:G.name)+"",w,g,b,E,j,M,D=(((Y=t[0].authors)==null?void 0:Y.join(", "))||"")+"",H,J,X,L,se=Xe(t[0].features||[]),y=[];for(let k=0;k<se.length;k+=1)y[k]=Yt(Qt(t,se,k));return E=new Wt({props:{file:t[0]}}),{c(){e=d("a"),a=d("img"),n=P(),i=d("hr"),f=P(),s=d("div"),v=d("div"),m=d("p"),w=V(I),g=P();for(let k=0;k<y.length;k+=1)y[k].c();b=P(),kt(E.$$.fragment),j=P(),M=d("h4"),H=V(D),this.h()},l(k){e=h(k,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var B=p(e);a=h(B,"IMG",{src:!0,alt:!0,class:!0}),n=T(B),i=h(B,"HR",{}),f=T(B),s=h(B,"DIV",{class:!0});var U=p(s);v=h(U,"DIV",{class:!0});var K=p(v);m=h(K,"P",{class:!0});var q=p(m);w=A(q,I),q.forEach(c),g=T(K);for(let W=0;W<y.length;W+=1)y[W].l(K);b=T(K),Ct(E.$$.fragment,K),K.forEach(c),j=T(U),M=h(U,"H4",{class:!0});var ee=p(M);H=A(ee,D),ee.forEach(c),U.forEach(c),B.forEach(c),this.h()},h(){var k;we(a.src,l=t[0].imgUrl||Zt)||u(a,"src",l),u(a,"alt",r=t[0].id),u(a,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),u(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(v,"class","flex gap-2"),u(M,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(s,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",J=t[0].id),u(e,"data-gameid",X=(k=t[0].game)==null?void 0:k.id),u(e,"data-filetype","b2sFiles")},m(k,B){te(k,e,B),o(e,a),o(e,n),o(e,i),o(e,f),o(e,s),o(s,v),o(v,m),o(m,w),o(v,g);for(let U=0;U<y.length;U+=1)y[U]&&y[U].m(v,null);o(v,b),Pt(E,v,null),o(s,j),o(s,M),o(M,H),L=!0},p(k,[B]){var K,q,ee;if((!L||B&1&&!we(a.src,l=k[0].imgUrl||Zt))&&u(a,"src",l),(!L||B&1&&r!==(r=k[0].id))&&u(a,"alt",r),(!L||B&1)&&I!==(I=((K=k[0].game)==null?void 0:K.name)+"")&&O(w,I),B&1){se=Xe(k[0].features||[]);let W;for(W=0;W<se.length;W+=1){const ve=Qt(k,se,W);y[W]?y[W].p(ve,B):(y[W]=Yt(ve),y[W].c(),y[W].m(v,b))}for(;W<y.length;W+=1)y[W].d(1);y.length=se.length}const U={};B&1&&(U.file=k[0]),E.$set(U),(!L||B&1)&&D!==(D=(((q=k[0].authors)==null?void 0:q.join(", "))||"")+"")&&O(H,D),(!L||B&2)&&u(e,"href",k[1]),(!L||B&1&&J!==(J=k[0].id))&&u(e,"id",J),(!L||B&1&&X!==(X=(ee=k[0].game)==null?void 0:ee.id))&&u(e,"data-gameid",X)},i(k){L||(ae(E.$$.fragment,k),L=!0)},o(k){ce(E.$$.fragment,k),L=!1},d(k){k&&c(e),Vt(y,k),Tt(E)}}}function Ka(t,e,a){let{file:l=Pa}=e,{href:r=""}=e;return t.$$set=n=>{"file"in n&&a(0,l=n.file),"href"in n&&a(1,r=n.href)},[l,r]}class Qa extends ot{constructor(e){super(),ft(this,e,Ka,Ja,nt,{file:0,href:1})}}function Ya(t){var se;let e,a,l,r,n=(((se=t[0].game)==null?void 0:se.name)||"???")+"",i,f,s,v,m=(t[0].version||"")+"",I,w,g,b,E,j,M,D,H,J,X,L;return j=new Wt({props:{file:t[0]}}),{c(){e=d("a"),a=d("div"),l=d("div"),r=d("span"),i=V(n),f=P(),s=d("div"),v=d("span"),I=V(m),w=P(),g=d("div"),b=P(),E=d("div"),kt(j.$$.fragment),M=P(),D=d("img"),this.h()},l(y){e=h(y,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var G=p(e);a=h(G,"DIV",{class:!0});var Y=p(a);l=h(Y,"DIV",{class:!0});var k=p(l);r=h(k,"SPAN",{class:!0});var B=p(r);i=A(B,n),B.forEach(c),f=T(k),s=h(k,"DIV",{class:!0});var U=p(s);v=h(U,"SPAN",{class:!0});var K=p(v);I=A(K,m),K.forEach(c),w=T(U),g=h(U,"DIV",{class:!0}),p(g).forEach(c),b=T(U),E=h(U,"DIV",{class:!0});var q=p(E);Ct(j.$$.fragment,q),q.forEach(c),U.forEach(c),k.forEach(c),M=T(Y),D=h(Y,"IMG",{src:!0,class:!0,alt:!0}),Y.forEach(c),G.forEach(c),this.h()},h(){var y;u(r,"class","font-bold"),u(v,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),u(g,"class","flex-1"),u(E,"class","shrink-0"),u(s,"class","flex justify-between max-w-full"),u(l,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),we(D.src,H=t[3])||u(D,"src",H),u(D,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),u(D,"alt",""),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),u(e,"href",t[1]),u(e,"id",J=t[0].id),u(e,"data-gameid",X=(y=t[0].game)==null?void 0:y.id),u(e,"data-filetype",t[2]),u(e,"class","aspect svelte-22xih4")},m(y,G){te(y,e,G),o(e,a),o(a,l),o(l,r),o(r,i),o(l,f),o(l,s),o(s,v),o(v,I),o(s,w),o(s,g),o(s,b),o(s,E),Pt(j,E,null),o(a,M),o(a,D),L=!0},p(y,[G]){var k,B;(!L||G&1)&&n!==(n=(((k=y[0].game)==null?void 0:k.name)||"???")+"")&&O(i,n),(!L||G&1)&&m!==(m=(y[0].version||"")+"")&&O(I,m);const Y={};G&1&&(Y.file=y[0]),j.$set(Y),(!L||G&8&&!we(D.src,H=y[3]))&&u(D,"src",H),(!L||G&2)&&u(e,"href",y[1]),(!L||G&1&&J!==(J=y[0].id))&&u(e,"id",J),(!L||G&1&&X!==(X=(B=y[0].game)==null?void 0:B.id))&&u(e,"data-gameid",X),(!L||G&4)&&u(e,"data-filetype",y[2])},i(y){L||(ae(j.$$.fragment,y),L=!0)},o(y){ce(j.$$.fragment,y),L=!1},d(y){y&&c(e),Tt(j)}}}function $a(t,e,a){let l;const{getGameImage:r}=zt;let{file:n=Ta}=e,{href:i=""}=e,{fileType:f}=e;return t.$$set=s=>{"file"in s&&a(0,n=s.file),"href"in s&&a(1,i=s.href),"fileType"in s&&a(2,f=s.fileType)},t.$$.update=()=>{var s;t.$$.dirty&1&&a(3,l=(s=n.game)!=null&&s.id?r(n.game.id):"")},[n,i,f,l]}class xe extends ot{constructor(e){super(),ft(this,e,$a,Ya,nt,{file:0,href:1,fileType:2})}}/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function xa(t){var e=t.toString(16);return e.length===1?"0"+e:e}function $t(t){return"#"+t.map(xa).join("")}function el(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function tl(t){return t?al(t)?t:[t]:[]}function al(t){return Array.isArray(t[0])}function Gt(t,e,a){for(var l=0;l<a.length;l++)if(ll(t,e,a[l]))return!0;return!1}function ll(t,e,a){switch(a.length){case 3:if(rl(t,e,a))return!0;break;case 4:if(sl(t,e,a))return!0;break;case 5:if(il(t,e,a))return!0;break;default:return!1}}function rl(t,e,a){return t[e+3]!==255||t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]}function sl(t,e,a){return t[e+3]&&a[3]?t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]&&t[e+3]===a[3]:t[e+3]===a[3]}function Ht(t,e,a){return t>=e-a&&t<=e+a}function il(t,e,a){var l=a[0],r=a[1],n=a[2],i=a[3],f=a[4],s=t[e+3],v=Ht(s,i,f);return i?!!(!s&&v||Ht(t[e],l,f)&&Ht(t[e+1],r,f)&&Ht(t[e+2],n,f)&&v):v}function nl(t,e,a){for(var l={},r=24,n=a.ignoredColor,i=a.step,f=[0,0,0,0,0],s=0;s<e;s+=i){var v=t[s],m=t[s+1],I=t[s+2],w=t[s+3];if(!(n&&Gt(t,s,n))){var g=Math.round(v/r)+","+Math.round(m/r)+","+Math.round(I/r);l[g]?l[g]=[l[g][0]+v*w,l[g][1]+m*w,l[g][2]+I*w,l[g][3]+w,l[g][4]+1]:l[g]=[v*w,m*w,I*w,w,1],f[4]<l[g][4]&&(f=l[g])}}var b=f[0],E=f[1],j=f[2],M=f[3],D=f[4];return M?[Math.round(b/M),Math.round(E/M),Math.round(j/M),Math.round(M/D)]:a.defaultColor}function ol(t,e,a){for(var l=0,r=0,n=0,i=0,f=0,s=a.ignoredColor,v=a.step,m=0;m<e;m+=v){var I=t[m+3],w=t[m]*I,g=t[m+1]*I,b=t[m+2]*I;s&&Gt(t,m,s)||(l+=w,r+=g,n+=b,i+=I,f++)}return i?[Math.round(l/i),Math.round(r/i),Math.round(n/i),Math.round(i/f)]:a.defaultColor}function fl(t,e,a){for(var l=0,r=0,n=0,i=0,f=0,s=a.ignoredColor,v=a.step,m=0;m<e;m+=v){var I=t[m],w=t[m+1],g=t[m+2],b=t[m+3];s&&Gt(t,m,s)||(l+=I*I*b,r+=w*w*b,n+=g*g*b,i+=b,f++)}return i?[Math.round(Math.sqrt(l/i)),Math.round(Math.sqrt(r/i)),Math.round(Math.sqrt(n/i)),Math.round(i/f)]:a.defaultColor}function xt(t){return Dt(t,"defaultColor",[0,0,0,0])}function Dt(t,e,a){return t[e]===void 0?a:t[e]}var ea=10,Ut=100;function ul(t){return t.search(/\.svg(\?|$)/i)!==-1}function cl(t){if(wa(t)){var e=t.naturalWidth,a=t.naturalHeight;return!t.naturalWidth&&ul(t.src)&&(e=a=Ut),{width:e,height:a}}return hl(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function ta(t){return vl(t)?"canvas":dl(t)?"offscreencanvas":gl(t)?"imagebitmap":t.src}function wa(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var Ea=typeof OffscreenCanvas<"u";function dl(t){return Ea&&t instanceof OffscreenCanvas}function hl(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function vl(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function gl(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function ml(t,e){var a=Dt(e,"left",0),l=Dt(e,"top",0),r=Dt(e,"width",t.width),n=Dt(e,"height",t.height),i=r,f=n;if(e.mode==="precision")return{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:n,destWidth:i,destHeight:f};var s;return r>n?(s=r/n,i=Ut,f=Math.round(i/s)):(s=n/r,f=Ut,i=Math.round(f/s)),(i>r||f>n||i<ea||f<ea)&&(i=r,f=n),{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:n,destWidth:i,destHeight:f}}var pl=typeof window>"u";function _l(){return pl?Ea?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var bl="FastAverageColor: ";function Ne(t){return Error(bl+t)}function Ft(t,e){e||console.error(t)}var Ia=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,a){if(!e)return Promise.reject(Ne("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(Ne("resource as string is not supported in this environment"));var l=new Image;return l.crossOrigin=a&&a.crossOrigin||"",l.src=e,this.bindImageEvents(l,a)}else{if(wa(e)&&!e.complete)return this.bindImageEvents(e,a);var r=this.getColor(e,a);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,a){a=a||{};var l=xt(a);if(!e){var r=Ne("call .getColor(null) without resource");return Ft(r,a.silent),this.prepareResult(l,r)}var n=cl(e),i=ml(n,a);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var r=Ne('incorrect sizes for resource "'.concat(ta(e),'"'));return Ft(r,a.silent),this.prepareResult(l,r)}if(!this.canvas&&(this.canvas=_l(),!this.canvas)){var r=Ne("OffscreenCanvas is not supported in this browser");return Ft(r,a.silent),this.prepareResult(l,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=Ne("Canvas Context 2D is not supported in this browser");return Ft(r,a.silent),this.prepareResult(l)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var f=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(f,a))}catch(s){var r=Ne("security error (CORS) for resource ".concat(ta(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Ft(r,a.silent),!a.silent&&console.error(s),this.prepareResult(l,r)}},t.prototype.getColorFromArray4=function(e,a){a=a||{};var l=4,r=e.length,n=xt(a);if(r<l)return n;var i=r-r%l,f=(a.step||1)*l,s;switch(a.algorithm||"sqrt"){case"simple":s=ol;break;case"sqrt":s=fl;break;case"dominant":s=nl;break;default:throw Ne("".concat(a.algorithm," is unknown algorithm"))}return s(e,i,{defaultColor:n,ignoredColor:tl(a.ignoredColor),step:f})},t.prototype.prepareResult=function(e,a){var l=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],n=el(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+l.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:$t(l),hexa:$t(e),isDark:n,isLight:!n,error:a}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,a){var l=this;return new Promise(function(r,n){var i=function(){v();var m=l.getColor(e,a);m.error?n(m.error):r(m)},f=function(){v(),n(Ne('Error loading image "'.concat(e.src,'".')))},s=function(){v(),n(Ne('Image "'.concat(e.src,'" loading aborted')))},v=function(){e.removeEventListener("load",i),e.removeEventListener("error",f),e.removeEventListener("abort",s)};e.addEventListener("load",i),e.addEventListener("error",f),e.addEventListener("abort",s)})},t}();const ya=Na({width:0,height:0,mobile:!1});function aa(t,e,a){const l=t.slice();return l[11]=e[a],l}function la(t,e,a){const l=t.slice();return l[14]=e[a],l}function ra(t,e,a){const l=t.slice();return l[11]=e[a],l}function sa(t){let e,a=t[11]+"",l,r;return{c(){e=d("div"),l=V(a),r=P(),this.h()},l(n){e=h(n,"DIV",{class:!0});var i=p(e);l=A(i,a),r=T(i),i.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(n,i){te(n,e,i),o(e,l),o(e,r)},p(n,i){i&32&&a!==(a=n[11]+"")&&O(l,a)},d(n){n&&c(e)}}}function ia(t){let e,a=t[14].toUpperCase()+"",l;return{c(){e=d("div"),l=V(a),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=p(e);l=A(n,a),n.forEach(c),this.h()},h(){u(e,"class","badge variant-filled-surface")},m(r,n){te(r,e,n),o(e,l)},p(r,n){n&1&&a!==(a=r[14].toUpperCase()+"")&&O(l,a)},d(r){r&&c(e)}}}function na(t){let e,a=t[11]+"",l,r;return{c(){e=d("div"),l=V(a),r=P(),this.h()},l(n){e=h(n,"DIV",{class:!0});var i=p(e);l=A(i,a),r=T(i),i.forEach(c),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(n,i){te(n,e,i),o(e,l),o(e,r)},p(n,i){i&32&&a!==(a=n[11]+"")&&O(l,a)},d(n){n&&c(e)}}}function wl(t){var vt,z;let e,a,l,r,n,i,f,s,v,m=t[0].name+"",I,w,g,b,E,j=t[0].manufacturer+"",M,D,H,J,X=t[0].year+"",L,se,y,G,Y=(((vt=t[0].designers)==null?void 0:vt.join(", "))||"-")+"",k,B,U,K,q,ee,W,ve="Updated at",ut,ie,ge=It(t[0].updatedAt)+"",Ie,_t,Ze,Oe,me,ye,bt="Type",Je,je,pe=(t[0].type||"-")+"",ke,wt,le,De,Le,et,ne,Z,Ve,Be=t[0].name+"",tt,oe,Ce,de,Ae=t[0].manufacturer+"",Ke,ct,Pe=t[0].year+"",Ue,at,dt,he,Se=(((z=t[0].designers)==null?void 0:z.join(", "))||"")+"",Qe,lt,Ye,ht,ze=Xe(t[5]),x=[];for(let _=0;_<ze.length;_+=1)x[_]=sa(ra(t,ze,_));let Ee=Xe(t[0].theme||[]),Q=[];for(let _=0;_<Ee.length;_+=1)Q[_]=ia(la(t,Ee,_));let Re=Xe(t[5]),$=[];for(let _=0;_<Re.length;_+=1)$[_]=na(aa(t,Re,_));return{c(){e=d("a"),a=d("div"),l=d("img"),i=P(),f=d("div"),s=d("div"),v=d("p"),I=V(m),w=P();for(let _=0;_<x.length;_+=1)x[_].c();g=P(),b=d("div"),E=d("p"),M=V(j),D=P(),H=d("p"),J=V("("),L=V(X),se=V(")"),y=P(),G=d("p"),k=V(Y),B=P(),U=d("div");for(let _=0;_<Q.length;_+=1)Q[_].c();K=P(),q=d("div"),ee=d("div"),W=d("p"),W.textContent=ve,ut=P(),ie=d("p"),Ie=V(ge),_t=P(),Ze=d("div"),Oe=P(),me=d("div"),ye=d("p"),ye.textContent=bt,Je=P(),je=d("p"),ke=V(pe),wt=P(),le=d("img"),et=P(),ne=d("div"),Z=d("div"),Ve=d("p"),tt=V(Be),oe=P();for(let _=0;_<$.length;_+=1)$[_].c();Ce=P(),de=d("p"),Ke=V(Ae),ct=V(" ("),Ue=V(Pe),at=V(")"),dt=P(),he=d("p"),Qe=V(Se),this.h()},l(_){e=h(_,"A",{class:!0,href:!0,id:!0});var S=p(e);a=h(S,"DIV",{class:!0,style:!0});var N=p(a);l=h(N,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=T(N),f=h(N,"DIV",{class:!0,style:!0});var fe=p(f);s=h(fe,"DIV",{class:!0});var F=p(s);v=h(F,"P",{class:!0});var _e=p(v);I=A(_e,m),_e.forEach(c),w=T(F);for(let be=0;be<x.length;be+=1)x[be].l(F);F.forEach(c),g=T(fe),b=h(fe,"DIV",{class:!0});var C=p(b);E=h(C,"P",{class:!0});var R=p(E);M=A(R,j),R.forEach(c),D=T(C),H=h(C,"P",{});var Te=p(H);J=A(Te,"("),L=A(Te,X),se=A(Te,")"),Te.forEach(c),C.forEach(c),y=T(fe),G=h(fe,"P",{class:!0});var ue=p(G);k=A(ue,Y),ue.forEach(c),B=T(fe),U=h(fe,"DIV",{class:!0});var Me=p(U);for(let be=0;be<Q.length;be+=1)Q[be].l(Me);Me.forEach(c),K=T(fe),q=h(fe,"DIV",{class:!0});var Fe=p(q);ee=h(Fe,"DIV",{class:!0});var We=p(ee);W=h(We,"P",{class:!0,"data-svelte-h":!0}),jt(W)!=="svelte-g6tq99"&&(W.textContent=ve),ut=T(We),ie=h(We,"P",{class:!0});var Ge=p(ie);Ie=A(Ge,ge),Ge.forEach(c),We.forEach(c),_t=T(Fe),Ze=h(Fe,"DIV",{class:!0}),p(Ze).forEach(c),Oe=T(Fe),me=h(Fe,"DIV",{class:!0});var qe=p(me);ye=h(qe,"P",{class:!0,"data-svelte-h":!0}),jt(ye)!=="svelte-1h1g7sd"&&(ye.textContent=bt),Je=T(qe),je=h(qe,"P",{class:!0});var gt=p(je);ke=A(gt,pe),gt.forEach(c),qe.forEach(c),Fe.forEach(c),fe.forEach(c),N.forEach(c),wt=T(S),le=h(S,"IMG",{src:!0,alt:!0,class:!0}),et=T(S),ne=h(S,"DIV",{class:!0});var $e=p(ne);Z=h($e,"DIV",{class:!0});var He=p(Z);Ve=h(He,"P",{class:!0});var mt=p(Ve);tt=A(mt,Be),mt.forEach(c),oe=T(He);for(let be=0;be<$.length;be+=1)$[be].l(He);He.forEach(c),Ce=T($e),de=h($e,"P",{});var rt=p(de);Ke=A(rt,Ae),ct=A(rt," ("),Ue=A(rt,Pe),at=A(rt,")"),rt.forEach(c),dt=T($e),he=h($e,"P",{class:!0});var pt=p(he);Qe=A(pt,Se),pt.forEach(c),$e.forEach(c),S.forEach(c),this.h()},h(){we(l.src,r=t[2])||u(l,"src",r),u(l,"alt",n=t[0].id),st(l,"height","36%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),u(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(s,"class","flex gap-2 max-w-full"),u(E,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(b,"class","flex gap-1 text-center max-w-full"),u(G,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(U,"class","flex gap-2 mt-4 flex-wrap"),u(W,"class","text-xs font-bold uppercase opacity-40"),u(ie,"class",""),u(ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(Ze,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(ye,"class","text-xs font-bold uppercase opacity-40"),u(je,"class",""),u(me,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(q,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),st(f,"top","calc(90% - 13rem)"),u(a,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-1jt2e09"),st(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[3]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),re(a,"hovered",t[4]),we(le.src,De=t[2])||u(le,"src",De),u(le,"alt",Le=t[0].name),u(le,"class","card pinImage bg-surface-300-600-token shadow-black svelte-1jt2e09"),re(le,"hovered",t[4]),re(le,"shadow-lg",t[4]),u(Ve,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(Z,"class","flex gap-2"),u(he,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(ne,"class","info flex flex-col py-4 svelte-1jt2e09"),re(ne,"opacity-0",t[4]),u(e,"class","wrapper relative z-0"),u(e,"href",t[1]),u(e,"id",lt=t[0].id)},m(_,S){te(_,e,S),o(e,a),o(a,l),o(a,i),o(a,f),o(f,s),o(s,v),o(v,I),o(s,w);for(let N=0;N<x.length;N+=1)x[N]&&x[N].m(s,null);o(f,g),o(f,b),o(b,E),o(E,M),o(b,D),o(b,H),o(H,J),o(H,L),o(H,se),o(f,y),o(f,G),o(G,k),o(f,B),o(f,U);for(let N=0;N<Q.length;N+=1)Q[N]&&Q[N].m(U,null);o(f,K),o(f,q),o(q,ee),o(ee,W),o(ee,ut),o(ee,ie),o(ie,Ie),o(q,_t),o(q,Ze),o(q,Oe),o(q,me),o(me,ye),o(me,Je),o(me,je),o(je,ke),o(e,wt),o(e,le),o(e,et),o(e,ne),o(ne,Z),o(Z,Ve),o(Ve,tt),o(Z,oe);for(let N=0;N<$.length;N+=1)$[N]&&$[N].m(Z,null);o(ne,Ce),o(ne,de),o(de,Ke),o(de,ct),o(de,Ue),o(de,at),o(ne,dt),o(ne,he),o(he,Qe),Ye||(ht=[At(e,"mouseenter",t[7]),At(e,"mouseleave",t[8])],Ye=!0)},p(_,[S]){var N,fe;if(S&4&&!we(l.src,r=_[2])&&u(l,"src",r),S&1&&n!==(n=_[0].id)&&u(l,"alt",n),S&1&&m!==(m=_[0].name+"")&&O(I,m),S&32){ze=Xe(_[5]);let F;for(F=0;F<ze.length;F+=1){const _e=ra(_,ze,F);x[F]?x[F].p(_e,S):(x[F]=sa(_e),x[F].c(),x[F].m(s,null))}for(;F<x.length;F+=1)x[F].d(1);x.length=ze.length}if(S&1&&j!==(j=_[0].manufacturer+"")&&O(M,j),S&1&&X!==(X=_[0].year+"")&&O(L,X),S&1&&Y!==(Y=(((N=_[0].designers)==null?void 0:N.join(", "))||"-")+"")&&O(k,Y),S&1){Ee=Xe(_[0].theme||[]);let F;for(F=0;F<Ee.length;F+=1){const _e=la(_,Ee,F);Q[F]?Q[F].p(_e,S):(Q[F]=ia(_e),Q[F].c(),Q[F].m(U,null))}for(;F<Q.length;F+=1)Q[F].d(1);Q.length=Ee.length}if(S&1&&ge!==(ge=It(_[0].updatedAt)+"")&&O(Ie,ge),S&1&&pe!==(pe=(_[0].type||"-")+"")&&O(ke,pe),S&72&&st(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(_[6]?100:900)+")) "+(_[6]?80:60)+"%, "+(_[3]||`rgb(var(--color-surface-${_[6]?100:600})`)+")",1),S&16&&re(a,"hovered",_[4]),S&4&&!we(le.src,De=_[2])&&u(le,"src",De),S&1&&Le!==(Le=_[0].name)&&u(le,"alt",Le),S&16&&re(le,"hovered",_[4]),S&16&&re(le,"shadow-lg",_[4]),S&1&&Be!==(Be=_[0].name+"")&&O(tt,Be),S&32){Re=Xe(_[5]);let F;for(F=0;F<Re.length;F+=1){const _e=aa(_,Re,F);$[F]?$[F].p(_e,S):($[F]=na(_e),$[F].c(),$[F].m(Z,null))}for(;F<$.length;F+=1)$[F].d(1);$.length=Re.length}S&1&&Ae!==(Ae=_[0].manufacturer+"")&&O(Ke,Ae),S&1&&Pe!==(Pe=_[0].year+"")&&O(Ue,Pe),S&1&&Se!==(Se=(((fe=_[0].designers)==null?void 0:fe.join(", "))||"")+"")&&O(Qe,Se),S&16&&re(ne,"opacity-0",_[4]),S&2&&u(e,"href",_[1]),S&1&&lt!==(lt=_[0].id)&&u(e,"id",lt)},i:St,o:St,d(_){_&&c(e),Vt(x,_),Vt(Q,_),Vt($,_),Ye=!1,ha(ht)}}}function El(t,e,a){let l,r,n,i;it(t,ya,b=>a(9,n=b)),it(t,ba,b=>a(6,i=b));const f=new Ia;let{file:s=_a}=e,{href:v=""}=e,m="",I=!1;const w=()=>{n.mobile||a(4,I=!0)},g=()=>{n.mobile||a(4,I=!1)};return t.$$set=b=>{"file"in b&&a(0,s=b.file),"href"in b&&a(1,v=b.href)},t.$$.update=()=>{t.$$.dirty&1&&a(2,l=Da(s)),t.$$.dirty&1&&a(5,r=Array.from(new Set((s.tableFiles||[]).map(b=>b.tableFormat).filter(b=>!!b)))),t.$$.dirty&4&&l&&f.getColorAsync(l).then(b=>{b&&a(3,m=b.rgb)})},[s,v,l,m,I,r,i,w,g]}class Il extends ot{constructor(e){super(),ft(this,e,El,wl,nt,{file:0,href:1})}}const Ot=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,oa={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500"},fa={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function yl(t){let e;const a=t[4].default,l=va(a,t,t[3],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,n){l&&l.m(r,n),e=!0},p(r,n){l&&l.p&&(!e||n&8)&&ga(l,a,r,r[3],e?pa(a,r[3],n,null):ma(r[3]),null)},i(r){e||(ae(l,r),e=!0)},o(r){ce(l,r),e=!1},d(r){l&&l.d(r)}}}function kl(t){let e,a,l,r,n,i,f,s,v,m;const I=t[4].default,w=va(I,t,t[3],null);return{c(){e=d("div"),w&&w.c(),a=P(),l=d("div"),r=d("p"),n=V(t[0]),i=P(),f=d("div"),this.h()},l(g){e=h(g,"DIV",{});var b=p(e);w&&w.l(b),b.forEach(c),a=T(g),l=h(g,"DIV",{class:!0,"data-popup":!0});var E=p(l);r=h(E,"P",{});var j=p(r);n=A(j,t[0]),j.forEach(c),i=T(E),f=h(E,"DIV",{class:!0}),p(f).forEach(c),E.forEach(c),this.h()},h(){u(f,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),u(l,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),u(l,"data-popup",t[1])},m(g,b){te(g,e,b),w&&w.m(e,null),te(g,a,b),te(g,l,b),o(l,r),o(r,n),o(l,i),o(l,f),s=!0,v||(m=Ca(Va.call(null,e,t[2])),v=!0)},p(g,b){w&&w.p&&(!s||b&8)&&ga(w,I,g,g[3],s?pa(I,g[3],b,null):ma(g[3]),null),(!s||b&1)&&O(n,g[0])},i(g){s||(ae(w,g),s=!0)},o(g){ce(w,g),s=!1},d(g){g&&(c(e),c(a),c(l)),w&&w.d(g),v=!1,m()}}}function Cl(t){let e,a,l,r;const n=[kl,yl],i=[];function f(s,v){return s[0]?0:1}return e=f(t),a=i[e]=n[e](t),{c(){a.c(),l=yt()},l(s){a.l(s),l=yt()},m(s,v){i[e].m(s,v),te(s,l,v),r=!0},p(s,[v]){let m=e;e=f(s),e===m?i[e].p(s,v):(Lt(),ce(i[m],1,1,()=>{i[m]=null}),Bt(),a=i[e],a?a.p(s,v):(a=i[e]=n[e](s),a.c()),ae(a,1),a.m(l.parentNode,l))},i(s){r||(ae(a),r=!0)},o(s){ce(a),r=!1},d(s){s&&c(l),i[e].d(s)}}}function Pl(t,e,a){let{$$slots:l={},$$scope:r}=e,{content:n=""}=e;const i=Oa(10),f={event:"hover",target:i,placement:"top"};return t.$$set=s=>{"content"in s&&a(0,n=s.content),"$$scope"in s&&a(3,r=s.$$scope)},[n,i,f,r,l]}class Tl extends ot{constructor(e){super(),ft(this,e,Pl,Cl,nt,{content:0})}}function ua(t,e,a){const l=t.slice();return l[1]=e[a],l}function ca(t){let e,a,l=Xe(t[0]||[]),r=[];for(let i=0;i<l.length;i+=1)r[i]=da(ua(t,l,i));const n=i=>ce(r[i],1,1,()=>{r[i]=null});return{c(){e=d("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var f=p(e);for(let s=0;s<r.length;s+=1)r[s].l(f);f.forEach(c),this.h()},h(){u(e,"class","flex gap-1 flex-wrap")},m(i,f){te(i,e,f);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null);a=!0},p(i,f){if(f&1){l=Xe(i[0]||[]);let s;for(s=0;s<l.length;s+=1){const v=ua(i,l,s);r[s]?(r[s].p(v,f),ae(r[s],1)):(r[s]=da(v),r[s].c(),ae(r[s],1),r[s].m(e,null))}for(Lt(),s=l.length;s<r.length;s+=1)n(s);Bt()}},i(i){if(!a){for(let f=0;f<l.length;f+=1)ae(r[f]);a=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)ce(r[f]);a=!1},d(i){i&&c(e),Vt(r,i)}}}function Ml(t){let e,a,l,r=t[1].toUpperCase()+"",n,i;return{c(){e=d("div"),a=d("span"),n=V(r),i=P(),this.h()},l(f){e=h(f,"DIV",{class:!0});var s=p(e);a=h(s,"SPAN",{class:!0}),p(a).forEach(c),n=A(s,r),s.forEach(c),i=T(f),this.h()},h(){u(a,"class",l="rounded-full h-2 w-2 "+(oa[t[1]]||"bg-slate-500")+" mr-2"),u(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(f,s){te(f,e,s),o(e,a),o(e,n),te(f,i,s)},p(f,s){s&1&&l!==(l="rounded-full h-2 w-2 "+(oa[f[1]]||"bg-slate-500")+" mr-2")&&u(a,"class",l),s&1&&r!==(r=f[1].toUpperCase()+"")&&O(n,r)},d(f){f&&(c(e),c(i))}}}function da(t){let e,a;return e=new Tl({props:{content:fa[t[1]],$$slots:{default:[Ml]},$$scope:{ctx:t}}}),{c(){kt(e.$$.fragment)},l(l){Ct(e.$$.fragment,l)},m(l,r){Pt(e,l,r),a=!0},p(l,r){const n={};r&1&&(n.content=fa[l[1]]),r&17&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){a||(ae(e.$$.fragment,l),a=!0)},o(l){ce(e.$$.fragment,l),a=!1},d(l){Tt(e,l)}}}function Fl(t){var r;let e,a,l=((r=t[0])==null?void 0:r.length)&&ca(t);return{c(){l&&l.c(),e=yt()},l(n){l&&l.l(n),e=yt()},m(n,i){l&&l.m(n,i),te(n,e,i),a=!0},p(n,[i]){var f;(f=n[0])!=null&&f.length?l?(l.p(n,i),i&1&&ae(l,1)):(l=ca(n),l.c(),ae(l,1),l.m(e.parentNode,e)):l&&(Lt(),ce(l,1,1,()=>{l=null}),Bt())},i(n){a||(ae(l),a=!0)},o(n){ce(l),a=!1},d(n){n&&c(e),l&&l.d(n)}}}function Dl(t,e,a){let{data:l=[]}=e;return t.$$set=r=>{"data"in r&&a(0,l=r.data)},[l]}class Vl extends ot{constructor(e){super(),ft(this,e,Dl,Fl,nt,{data:0})}}function Al(t){var N,fe,F,_e;let e,a,l,r,n,i,f,s,v,m=((N=t[0].game)==null?void 0:N.name)+"",I,w,g,b=t[0].tableFormat+"",E,j,M,D,H,J,X=t[4].manufacturer+"",L,se,y,G,Y=t[4].year+"",k,B,U,K,q=(((fe=t[0].authors)==null?void 0:fe.join(", "))||"-")+"",ee,W,ve,ut,ie,ge,Ie,_t="Updated at",Ze,Oe,me=It(t[0].updatedAt)+"",ye,bt,Je,je,pe,ke,wt="Added at",le,De,Le=It(t[0].createdAt||t[0].updatedAt)+"",et,ne,Z,Ve,Be,tt,oe,Ce,de,Ae=((F=t[0].game)==null?void 0:F.name)+"",Ke,ct,Pe,Ue=t[0].tableFormat+"",at,dt,he,Se=t[4].manufacturer+"",Qe,lt,Ye=t[4].year+"",ht,ze,x,Ee,Q=((_e=t[0].authors)==null?void 0:_e.join(", "))+"",Re,$,vt,z,_,S;return M=new Wt({props:{game:t[4]}}),ve=new Vl({props:{data:t[0].features}}),{c(){e=d("a"),a=d("div"),l=d("img"),i=P(),f=d("div"),s=d("div"),v=d("p"),I=V(m),w=P(),g=d("div"),E=V(b),j=P(),kt(M.$$.fragment),D=P(),H=d("div"),J=d("p"),L=V(X),se=P(),y=d("p"),G=V("("),k=V(Y),B=V(")"),U=P(),K=d("p"),ee=V(q),W=P(),kt(ve.$$.fragment),ut=P(),ie=d("div"),ge=d("div"),Ie=d("p"),Ie.textContent=_t,Ze=P(),Oe=d("p"),ye=V(me),bt=P(),Je=d("div"),je=P(),pe=d("div"),ke=d("p"),ke.textContent=wt,le=P(),De=d("p"),et=V(Le),ne=P(),Z=d("img"),tt=P(),oe=d("div"),Ce=d("div"),de=d("p"),Ke=V(Ae),ct=P(),Pe=d("div"),at=V(Ue),dt=P(),he=d("p"),Qe=V(Se),lt=V(" ("),ht=V(Ye),ze=V(")"),x=P(),Ee=d("p"),Re=V(Q),this.h()},l(C){e=h(C,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var R=p(e);a=h(R,"DIV",{style:!0,class:!0});var Te=p(a);l=h(Te,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=T(Te),f=h(Te,"DIV",{class:!0,style:!0});var ue=p(f);s=h(ue,"DIV",{class:!0});var Me=p(s);v=h(Me,"P",{class:!0});var Fe=p(v);I=A(Fe,m),Fe.forEach(c),w=T(Me),g=h(Me,"DIV",{class:!0});var We=p(g);E=A(We,b),We.forEach(c),j=T(Me),Ct(M.$$.fragment,Me),Me.forEach(c),D=T(ue),H=h(ue,"DIV",{class:!0});var Ge=p(H);J=h(Ge,"P",{class:!0});var qe=p(J);L=A(qe,X),qe.forEach(c),se=T(Ge),y=h(Ge,"P",{});var gt=p(y);G=A(gt,"("),k=A(gt,Y),B=A(gt,")"),gt.forEach(c),Ge.forEach(c),U=T(ue),K=h(ue,"P",{class:!0});var $e=p(K);ee=A($e,q),$e.forEach(c),W=T(ue),Ct(ve.$$.fragment,ue),ut=T(ue),ie=h(ue,"DIV",{class:!0});var He=p(ie);ge=h(He,"DIV",{class:!0});var mt=p(ge);Ie=h(mt,"P",{class:!0,"data-svelte-h":!0}),jt(Ie)!=="svelte-g6tq99"&&(Ie.textContent=_t),Ze=T(mt),Oe=h(mt,"P",{class:!0});var rt=p(Oe);ye=A(rt,me),rt.forEach(c),mt.forEach(c),bt=T(He),Je=h(He,"DIV",{class:!0}),p(Je).forEach(c),je=T(He),pe=h(He,"DIV",{class:!0});var pt=p(pe);ke=h(pt,"P",{class:!0,"data-svelte-h":!0}),jt(ke)!=="svelte-1gbi7dm"&&(ke.textContent=wt),le=T(pt),De=h(pt,"P",{class:!0});var be=p(De);et=A(be,Le),be.forEach(c),pt.forEach(c),He.forEach(c),ue.forEach(c),Te.forEach(c),ne=T(R),Z=h(R,"IMG",{src:!0,alt:!0,class:!0}),tt=T(R),oe=h(R,"DIV",{class:!0});var Et=p(oe);Ce=h(Et,"DIV",{class:!0});var Rt=p(Ce);de=h(Rt,"P",{class:!0});var qt=p(de);Ke=A(qt,Ae),qt.forEach(c),ct=T(Rt),Pe=h(Rt,"DIV",{class:!0});var Nt=p(Pe);at=A(Nt,Ue),Nt.forEach(c),Rt.forEach(c),dt=T(Et),he=h(Et,"P",{});var Mt=p(he);Qe=A(Mt,Se),lt=A(Mt," ("),ht=A(Mt,Ye),ze=A(Mt,")"),Mt.forEach(c),x=T(Et),Ee=h(Et,"P",{class:!0});var Xt=p(Ee);Re=A(Xt,Q),Xt.forEach(c),Et.forEach(c),R.forEach(c),this.h()},h(){var C;we(l.src,r=t[0].imgUrl||Ot)||u(l,"src",r),u(l,"alt",n=t[0].id),st(l,"height","35%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),u(v,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(g,"class","badge badge-glass my-auto py-0.5 px-1"),u(s,"class","flex gap-2 max-w-full"),u(J,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(H,"class","flex gap-1 text-center"),u(K,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),u(Ie,"class","text-xs font-bold uppercase opacity-40"),u(Oe,"class",""),u(ge,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(Je,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(ke,"class","text-xs font-bold uppercase opacity-40"),u(De,"class",""),u(pe,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(ie,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),st(f,"top","calc(88.5% - 14rem)"),st(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),re(a,"hovered",t[3]),we(Z.src,Ve=t[0].imgUrl||Ot)||u(Z,"src",Ve),u(Z,"alt",Be=t[0].id),u(Z,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),re(Z,"hovered",t[3]),re(Z,"shadow-lg",t[3]),u(de,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(Pe,"class","badge badge-glass my-auto py-0.5 px-1"),u(Ce,"class","flex gap-2"),u(Ee,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(oe,"class","flex flex-col py-4 info svelte-gfpzxg"),re(oe,"opacity-0",t[3]),u(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),u(e,"href",t[1]),u(e,"id",$=t[0].id),u(e,"data-gameid",vt=(C=t[0].game)==null?void 0:C.id),u(e,"data-filetype","tableFiles")},m(C,R){te(C,e,R),o(e,a),o(a,l),o(a,i),o(a,f),o(f,s),o(s,v),o(v,I),o(s,w),o(s,g),o(g,E),o(s,j),Pt(M,s,null),o(f,D),o(f,H),o(H,J),o(J,L),o(H,se),o(H,y),o(y,G),o(y,k),o(y,B),o(f,U),o(f,K),o(K,ee),o(f,W),Pt(ve,f,null),o(f,ut),o(f,ie),o(ie,ge),o(ge,Ie),o(ge,Ze),o(ge,Oe),o(Oe,ye),o(ie,bt),o(ie,Je),o(ie,je),o(ie,pe),o(pe,ke),o(pe,le),o(pe,De),o(De,et),o(e,ne),o(e,Z),o(e,tt),o(e,oe),o(oe,Ce),o(Ce,de),o(de,Ke),o(Ce,ct),o(Ce,Pe),o(Pe,at),o(oe,dt),o(oe,he),o(he,Qe),o(he,lt),o(he,ht),o(he,ze),o(oe,x),o(oe,Ee),o(Ee,Re),z=!0,_||(S=[At(e,"mouseenter",t[7]),At(e,"mouseleave",t[8])],_=!0)},p(C,[R]){var Me,Fe,We,Ge,qe;(!z||R&1&&!we(l.src,r=C[0].imgUrl||Ot))&&u(l,"src",r),(!z||R&1&&n!==(n=C[0].id))&&u(l,"alt",n),(!z||R&1)&&m!==(m=((Me=C[0].game)==null?void 0:Me.name)+"")&&O(I,m),(!z||R&1)&&b!==(b=C[0].tableFormat+"")&&O(E,b);const Te={};R&16&&(Te.game=C[4]),M.$set(Te),(!z||R&16)&&X!==(X=C[4].manufacturer+"")&&O(L,X),(!z||R&16)&&Y!==(Y=C[4].year+"")&&O(k,Y),(!z||R&1)&&q!==(q=(((Fe=C[0].authors)==null?void 0:Fe.join(", "))||"-")+"")&&O(ee,q);const ue={};R&1&&(ue.data=C[0].features),ve.$set(ue),(!z||R&1)&&me!==(me=It(C[0].updatedAt)+"")&&O(ye,me),(!z||R&1)&&Le!==(Le=It(C[0].createdAt||C[0].updatedAt)+"")&&O(et,Le),(!z||R&36)&&st(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(C[5]?100:900)+")) "+(C[5]?80:60)+"%, "+(C[2]||`rgb(var(--color-surface-${C[5]?100:600})`)+")",1),(!z||R&8)&&re(a,"hovered",C[3]),(!z||R&1&&!we(Z.src,Ve=C[0].imgUrl||Ot))&&u(Z,"src",Ve),(!z||R&1&&Be!==(Be=C[0].id))&&u(Z,"alt",Be),(!z||R&8)&&re(Z,"hovered",C[3]),(!z||R&8)&&re(Z,"shadow-lg",C[3]),(!z||R&1)&&Ae!==(Ae=((We=C[0].game)==null?void 0:We.name)+"")&&O(Ke,Ae),(!z||R&1)&&Ue!==(Ue=C[0].tableFormat+"")&&O(at,Ue),(!z||R&16)&&Se!==(Se=C[4].manufacturer+"")&&O(Qe,Se),(!z||R&16)&&Ye!==(Ye=C[4].year+"")&&O(ht,Ye),(!z||R&1)&&Q!==(Q=((Ge=C[0].authors)==null?void 0:Ge.join(", "))+"")&&O(Re,Q),(!z||R&8)&&re(oe,"opacity-0",C[3]),(!z||R&2)&&u(e,"href",C[1]),(!z||R&1&&$!==($=C[0].id))&&u(e,"id",$),(!z||R&1&&vt!==(vt=(qe=C[0].game)==null?void 0:qe.id))&&u(e,"data-gameid",vt)},i(C){z||(ae(M.$$.fragment,C),ae(ve.$$.fragment,C),z=!0)},o(C){ce(M.$$.fragment,C),ce(ve.$$.fragment,C),z=!1},d(C){C&&c(e),Tt(M),Tt(ve),_=!1,ha(S)}}}function Sl(t,e,a){let l,r,n,i;it(t,ya,E=>a(10,r=E)),it(t,ba,E=>a(5,i=E));const f=new Ia,{dbStore:s}=zt;it(t,s,E=>a(9,n=E));let{file:v=Ma}=e,{href:m=""}=e,I="",w=!1;const g=()=>{r.mobile||a(3,w=!0)},b=()=>{r.mobile||a(3,w=!1)};return t.$$set=E=>{"file"in E&&a(0,v=E.file),"href"in E&&a(1,m=E.href)},t.$$.update=()=>{var E;t.$$.dirty&513&&a(4,l=(E=v==null?void 0:v.game)!=null&&E.id?n[v.game.id]:_a),t.$$.dirty&1&&v.imgUrl&&f.getColorAsync(v.imgUrl).then(j=>{j&&a(2,I=j.rgb)})},[v,m,I,w,l,i,s,g,b,n]}class Rl extends ot{constructor(e){super(),ft(this,e,Sl,Al,nt,{file:0,href:1})}}function Hl(t){var j;let e,a,l,r,n,i,f,s,v=t[0].title+"",m,I,w,g=((j=t[0].authors)==null?void 0:j.join(", "))+"",b,E;return{c(){e=d("a"),a=d("img"),i=P(),f=d("div"),s=d("p"),m=V(v),I=P(),w=d("p"),b=V(g),this.h()},l(M){e=h(M,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var D=p(e);a=h(D,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),i=T(D),f=h(D,"DIV",{class:!0});var H=p(f);s=h(H,"P",{class:!0});var J=p(s);m=A(J,v),J.forEach(c),I=T(H),w=h(H,"P",{class:!0});var X=p(w);b=A(X,g),X.forEach(c),H.forEach(c),D.forEach(c),this.h()},h(){u(a,"alt",l=t[0].youtubeId),u(a,"title",r=t[0].title),u(a,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),u(a,"width","352"),we(a.src,n=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||u(a,"src",n),re(a,"glow",t[2]),u(s,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),u(w,"class","text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),u(f,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",E=t[0].id),u(e,"data-gameid",t[3]),u(e,"data-filetype","b2sFiles")},m(M,D){te(M,e,D),o(e,a),o(e,i),o(e,f),o(f,s),o(s,m),o(f,I),o(f,w),o(w,b)},p(M,[D]){var H;D&1&&l!==(l=M[0].youtubeId)&&u(a,"alt",l),D&1&&r!==(r=M[0].title)&&u(a,"title",r),D&1&&!we(a.src,n=`https://img.youtube.com/vi/${M[0].youtubeId}/0.jpg`)&&u(a,"src",n),D&4&&re(a,"glow",M[2]),D&1&&v!==(v=M[0].title+"")&&O(m,v),D&1&&g!==(g=((H=M[0].authors)==null?void 0:H.join(", "))+"")&&O(b,g),D&2&&u(e,"href",M[1]),D&1&&E!==(E=M[0].id)&&u(e,"id",E),D&8&&u(e,"data-gameid",M[3])},i:St,o:St,d(M){M&&c(e)}}}function Ol(t,e,a){let{file:l=Fa}=e,{href:r=""}=e,{active:n=!1}=e,{gameId:i}=e;return t.$$set=f=>{"file"in f&&a(0,l=f.file),"href"in f&&a(1,r=f.href),"active"in f&&a(2,n=f.active),"gameId"in f&&a(3,i=f.gameId)},[l,r,n,i]}class jl extends ot{constructor(e){super(),ft(this,e,Ol,Hl,nt,{file:0,href:1,active:2,gameId:3})}}const Jl={game:{route:"games",name:"Games",component:Il},tableFiles:{route:"tables",name:"Tables",component:Rl},b2sFiles:{route:"b2s",name:"Backglasses",component:Qa},tutorialFiles:{route:"tutorials",name:"Tutorials",component:jl,icon:Jt},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:xe,icon:ja},romFiles:{route:"roms",name:"Roms",component:xe,icon:La},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:xe,icon:Ba},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:xe,icon:Ua},topperFiles:{route:"toppers",name:"Toppers",component:xe,icon:za},povFiles:{route:"pov",name:"POVs",component:xe,icon:Wa},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:xe,icon:Ga},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:xe,icon:qa},ruleFiles:{route:"rules",name:"Rules",component:xe,icon:Jt}};export{Vl as F,Ot as P,Tl as T,ya as a,Ia as b,Rl as c,Jl as m};
