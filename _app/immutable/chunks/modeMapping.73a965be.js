import{w as Ee,r as An,d as ke}from"./index.d21fa353.js";import{K as gr,v as gt,s as ot,f as T,a as N,l as q,g as P,h as k,c as j,m as Q,d as C,V as me,j as g,i as he,I as d,n as $,r as pt,a2 as At,G as Je,a0 as zt,H as Ke,k as oe,J as yt,W as on,N as Vt,X as Bt,D as kt,p as sn,e as Pr}from"./scheduler.e0583846.js";import{a as ze,t as $e,S as st,i as lt,o as Ze,g as ln,c as un,b as pr,d as yr,m as wr,e as br}from"./index.8521fb40.js";function We(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function kn(r,e){$e(r,1,1,()=>{e.delete(r.key)})}function Co(r,e){r.f(),kn(r,e)}function Eo(r,e,t,n,a,i,o,s,l,u,c,m){let f=r.length,v=i.length,h=f;const y={};for(;h--;)y[r[h].key]=h;const w=[],b=new Map,F=new Map,p=[];for(h=v;h--;){const _=m(a,i,h),S=t(_);let O=o.get(S);O?n&&p.push(()=>O.p(_,e)):(O=u(S,_),O.c()),b.set(S,w[h]=O),S in y&&F.set(S,Math.abs(h-y[S]))}const I=new Set,D=new Set;function E(_){ze(_,1),_.m(s,c),o.set(_.key,_),c=_.first,v--}for(;f&&v;){const _=w[v-1],S=r[f-1],O=_.key,M=S.key;_===S?(c=_.first,f--,v--):b.has(M)?!o.has(O)||I.has(O)?E(_):D.has(M)?f--:F.get(O)>F.get(M)?(D.add(O),E(_)):(I.add(M),f--):(l(S,o),f--)}for(;f--;){const _=r[f];b.has(_.key)||l(_,o)}for(;v;)E(w[v-1]);return gr(p),w}function So(r,e){const t={},n={},a={$$scope:1};let i=r.length;for(;i--;){const o=r[i],s=e[i];if(s){for(const l in o)l in s||(n[l]=1);for(const l in s)a[l]||(t[l]=s[l],a[l]=1);r[i]=s}else for(const l in o)a[l]=1}for(const o in n)o in t||(t[o]=void 0);return t}function Do(r){return typeof r=="object"&&r!==null?r:{}}const tr={};function Or(r){return r==="local"?localStorage:sessionStorage}function xt(r,e,t){const n=(t==null?void 0:t.serializer)??JSON,a=(t==null?void 0:t.storage)??"local";function i(o,s){Or(a).setItem(o,n.stringify(s))}if(!tr[r]){const o=Ee(e,u=>{const c=Or(a).getItem(r);c&&u(n.parse(c));{const m=f=>{f.key===r&&u(f.newValue?n.parse(f.newValue):null)};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)}}),{subscribe:s,set:l}=o;tr[r]={set(u){i(r,u),l(u)},update(u){const c=u(gt(o));i(r,c),l(c)},subscribe:s}}return tr[r]}const xn=xt("modeOsPrefers",!1),In=xt("modeUserPrefers",void 0),fn=xt("modeCurrent",!1);function Mo(){const r=window.matchMedia("(prefers-color-scheme: light)").matches;return xn.set(r),r}function To(r){In.set(r)}function Po(r){const e=document.documentElement.classList,t="dark";r===!0?e.remove(t):e.add(t),fn.set(r)}function Oo(){const r=document.documentElement.classList,e=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),n=window.matchMedia("(prefers-color-scheme: dark)").matches;e||t&&n?r.add("dark"):r.remove("dark")}const cn="(prefers-reduced-motion: reduce)";function Un(){return window.matchMedia(cn).matches}const Ao=An(Un(),r=>{{const e=n=>{r(n.matches)},t=window.matchMedia(cn);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});function ko(r){const e=r-1;return e*e*e+1}function Rt(r){return r/=.5,r<1?.5*r*r:(r--,-.5*(r*(r-2)-1))}const dn="https://virtualpinballspreadsheet.github.io/vps-db/",Ln=dn+"db/vpsdb.json",Wn=dn+`lastUpdated.json?ts=${new Date().getTime()}`,xo="VirtualPinballSpreadsheet",Io="vps-db",Uo="img/",Lo="games/",Wo="staging",Ht=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],zn=["Hybrid","VR","FSS","4k","MOD","FastFlips","SSF","P-ROC","FlexDMD","Music","incl. B2S","incl. ROM","incl. Art","incl. PuP","incl. Video","no ROM","Kids","Adult","nFozzy","Fleep","LUT","Scorbit"],Vn=["2Screens","3Screens","FullDMD"],zo=zn.map(r=>({label:r,value:r})),Vo=Vn.map(r=>({label:r,value:r})),hn={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},Qt={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},Bn={authors:[],id:"",updatedAt:0,urls:[]},Rn={authors:[],id:"",updatedAt:0,urls:[]};var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ie.apply(this,arguments)};function Hn(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(m){o(m)}}function l(c){try{u(n.throw(c))}catch(m){o(m)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(r,e||[])).next())})}function Yn(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function X(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}var Nn="ENTRIES",vn="KEYS",mn="VALUES",ve="",rr=function(){function r(e,t){var n=e._tree,a=Array.from(n.keys());this.set=e,this._type=t,this._path=a.length>0?[{node:n,keys:a}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=ct(this._path),t=e.node,n=e.keys;if(ct(n)===ve)return{done:!1,value:this.result()};var a=t.get(ct(n));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=ct(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return ct(t)}).filter(function(e){return e!==ve}).join("")},r.prototype.value=function(){return ct(this._path).node.get(ve)},r.prototype.result=function(){switch(this._type){case mn:return this.value();case vn:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),ct=function(r){return r[r.length-1]},jn=function(r,e,t){var n=new Map;if(e===void 0)return n;for(var a=e.length+1,i=a+t,o=new Uint8Array(i*a).fill(t+1),s=0;s<a;++s)o[s]=s;for(var l=1;l<i;++l)o[l*a]=l;return gn(r,e,t,n,o,1,a,""),n},gn=function(r,e,t,n,a,i,o,s){var l,u,c=i*o;try{e:for(var m=X(r.keys()),f=m.next();!f.done;f=m.next()){var v=f.value;if(v===ve){var h=a[c-1];h<=t&&n.set(s,[r.get(v),h])}else{for(var y=i,w=0;w<v.length;++w,++y){for(var b=v[w],F=o*y,p=F-o,I=a[F],D=Math.max(0,y-t-1),E=Math.min(o-1,y+t),_=D;_<E;++_){var S=b!==e[_],O=a[p+_]+ +S,M=a[p+_+1]+1,W=a[F+_]+1,z=a[F+_+1]=Math.min(O,M,W);z<I&&(I=z)}if(I>t)continue e}gn(r.get(v),e,t,n,a,y,o,s+v)}}}catch(A){l={error:A}}finally{try{f&&!f.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}},nr=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var a=fe(Yt(this._tree,e.slice(this._prefix.length)),2),i=a[0],o=a[1];if(i===void 0){var s=fe(_r(o),2),l=s[0],u=s[1];try{for(var c=X(l.keys()),m=c.next();!m.done;m=c.next()){var f=m.value;if(f!==ve&&f.startsWith(u)){var v=new Map;return v.set(f.slice(u.length),l.get(f)),new r(v,e)}}}catch(h){t={error:h}}finally{try{m&&!m.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,Gn(this._tree,e)},r.prototype.entries=function(){return new rr(this,Nn)},r.prototype.forEach=function(e){var t,n;try{for(var a=X(this),i=a.next();!i.done;i=a.next()){var o=fe(i.value,2),s=o[0],l=o[1];e(s,l,this)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return jn(this._tree,e,t)},r.prototype.get=function(e){var t=fr(this._tree,e);return t!==void 0?t.get(ve):void 0},r.prototype.has=function(e){var t=fr(this._tree,e);return t!==void 0&&t.has(ve)},r.prototype.keys=function(){return new rr(this,vn)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=ar(this._tree,e);return n.set(ve,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=ar(this._tree,e);return n.set(ve,t(n.get(ve))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=ar(this._tree,e),a=n.get(ve);return a===void 0&&n.set(ve,a=t()),a},r.prototype.values=function(){return new rr(this,mn)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,n,a=new r;try{for(var i=X(e),o=i.next();!o.done;o=i.next()){var s=fe(o.value,2),l=s[0],u=s[1];a.set(l,u)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),Yt=function(r,e,t){var n,a;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=X(r.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!==ve&&e.startsWith(s))return t.push([r,s]),Yt(r.get(s),e.slice(s.length),t)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return t.push([r,e]),Yt(void 0,"",t)},fr=function(r,e){var t,n;if(e.length===0||r==null)return r;try{for(var a=X(r.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;if(o!==ve&&e.startsWith(o))return fr(r.get(o),e.slice(o.length))}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},ar=function(r,e){var t,n,a=e.length;e:for(var i=0;r&&i<a;){try{for(var o=(t=void 0,X(r.keys())),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!==ve&&e[i]===l[0]){for(var u=Math.min(a-i,l.length),c=1;c<u&&e[i+c]===l[c];)++c;var m=r.get(l);if(c===l.length)r=m;else{var f=new Map;f.set(l.slice(c),m),r.set(e.slice(i,i+c),f),r.delete(l),r=f}i+=c;continue e}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var v=new Map;return r.set(e.slice(i),v),v}return r},Gn=function(r,e){var t=fe(Yt(r,e),2),n=t[0],a=t[1];if(n!==void 0){if(n.delete(ve),n.size===0)pn(a);else if(n.size===1){var i=fe(n.entries().next().value,2),o=i[0],s=i[1];yn(a,o,s)}}},pn=function(r){if(r.length!==0){var e=fe(_r(r),2),t=e[0],n=e[1];if(t.delete(n),t.size===0)pn(r.slice(0,-1));else if(t.size===1){var a=fe(t.entries().next().value,2),i=a[0],o=a[1];i!==ve&&yn(r.slice(0,-1),i,o)}}},yn=function(r,e,t){if(r.length!==0){var n=fe(_r(r),2),a=n[0],i=n[1];a.set(i+e,t),a.delete(i)}},_r=function(r){return r[r.length-1]},Dt,Fr="or",wn="and",qn="and_not",Qn=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?sr:e.autoVacuum;this._options=ie(ie(ie({},or),e),{autoVacuum:t,searchOptions:ie(ie({},Ar),e.searchOptions||{}),autoSuggestOptions:ie(ie({},$n),e.autoSuggestOptions||{})}),this._index=new nr,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=dr,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,n,a,i,o,s,l=this._options,u=l.extractField,c=l.tokenize,m=l.processTerm,f=l.fields,v=l.idField,h=u(e,v);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(v,'"'));if(this._idToShortId.has(h))throw new Error("MiniSearch: duplicate ID ".concat(h));var y=this.addDocumentId(h);this.saveStoredFields(y,e);try{for(var w=X(f),b=w.next();!b.done;b=w.next()){var F=b.value,p=u(e,F);if(p!=null){var I=c(p.toString(),F),D=this._fieldIds[F],E=new Set(I).size;this.addFieldLength(y,D,this._documentCount-1,E);try{for(var _=(a=void 0,X(I)),S=_.next();!S.done;S=_.next()){var O=S.value,M=m(O,F);if(Array.isArray(M))try{for(var W=(o=void 0,X(M)),z=W.next();!z.done;z=W.next()){var A=z.value;this.addTerm(D,y,A)}}catch(H){o={error:H}}finally{try{z&&!z.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}else M&&this.addTerm(D,y,M)}}catch(H){a={error:H}}finally{try{S&&!S.done&&(i=_.return)&&i.call(_)}finally{if(a)throw a.error}}}}}catch(H){t={error:H}}finally{try{b&&!b.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,n;try{for(var a=X(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.add(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var a=t.chunkSize,i=a===void 0?10:a,o={chunk:[],promise:Promise.resolve()},s=e.reduce(function(c,m,f){var v=c.chunk,h=c.promise;return v.push(m),(f+1)%i===0?{chunk:[],promise:h.then(function(){return new Promise(function(y){return setTimeout(y,0)})}).then(function(){return n.addAll(v)})}:{chunk:v,promise:h}},o),l=s.chunk,u=s.promise;return u.then(function(){return n.addAll(l)})},r.prototype.remove=function(e){var t,n,a,i,o,s,l=this._options,u=l.tokenize,c=l.processTerm,m=l.extractField,f=l.fields,v=l.idField,h=m(e,v);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(v,'"'));var y=this._idToShortId.get(h);if(y==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(h,": it is not in the index"));try{for(var w=X(f),b=w.next();!b.done;b=w.next()){var F=b.value,p=m(e,F);if(p!=null){var I=u(p.toString(),F),D=this._fieldIds[F],E=new Set(I).size;this.removeFieldLength(y,D,this._documentCount,E);try{for(var _=(a=void 0,X(I)),S=_.next();!S.done;S=_.next()){var O=S.value,M=c(O,F);if(Array.isArray(M))try{for(var W=(o=void 0,X(M)),z=W.next();!z.done;z=W.next()){var A=z.value;this.removeTerm(D,y,A)}}catch(H){o={error:H}}finally{try{z&&!z.done&&(s=W.return)&&s.call(W)}finally{if(o)throw o.error}}else M&&this.removeTerm(D,y,M)}}catch(H){a={error:H}}finally{try{S&&!S.done&&(i=_.return)&&i.call(_)}finally{if(a)throw a.error}}}}}catch(H){t={error:H}}finally{try{b&&!b.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}this._storedFields.delete(y),this._documentIds.delete(y),this._idToShortId.delete(h),this._fieldLength.delete(y),this._documentCount-=1},r.prototype.removeAll=function(e){var t,n;if(e)try{for(var a=X(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.remove(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new nr,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(a,i){t.removeFieldLength(n,i,t._documentCount,a)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,a=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:a,batchWait:i},{minDirtCount:n,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,n,a=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=X(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.discard(s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=a}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,n=t.idField,a=t.extractField,i=a(e,n);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var a=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=dr,n.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return Hn(this,void 0,void 0,function(){var n,a,i,o,s,l,u,c,m,f,v,h,y,w,b,F,p,I,D,E,_,S,O,M,W;return Yn(this,function(z){switch(z.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];a=e.batchSize||cr.batchSize,i=e.batchWait||cr.batchWait,o=1,z.label=1;case 1:z.trys.push([1,7,8,9]),s=X(this._index),l=s.next(),z.label=2;case 2:if(l.done)return[3,6];u=fe(l.value,2),c=u[0],m=u[1];try{for(f=(S=void 0,X(m)),v=f.next();!v.done;v=f.next()){h=fe(v.value,2),y=h[0],w=h[1];try{for(b=(M=void 0,X(w)),F=b.next();!F.done;F=b.next())p=fe(F.value,1),I=p[0],!this._documentIds.has(I)&&(w.size<=1?m.delete(y):w.delete(I))}catch(A){M={error:A}}finally{try{F&&!F.done&&(W=b.return)&&W.call(b)}finally{if(M)throw M.error}}}}catch(A){S={error:A}}finally{try{v&&!v.done&&(O=f.return)&&O.call(f)}finally{if(S)throw S.error}}return this._index.get(c).size===0&&this._index.delete(c),o%a!==0?[3,4]:[4,new Promise(function(A){return setTimeout(A,i)})];case 3:z.sent(),z.label=4;case 4:o+=1,z.label=5;case 5:return l=s.next(),[3,2];case 6:return[3,9];case 7:return D=z.sent(),E={error:D},[3,9];case 8:try{l&&!l.done&&(_=s.return)&&_.call(s)}finally{if(E)throw E.error}return[7];case 9:this._dirtCount-=n,z.label=10;case 10:return[4,null];case 11:return z.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||sr.minDirtCount,n=n||sr.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var n,a;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var s=X(i),l=s.next();!l.done;l=s.next()){var u=fe(l.value,2),c=u[0],m=u[1],f=m.score,v=m.terms,h=m.match,y=v.length,w={id:this._documentIds.get(c),score:f*y,terms:Object.keys(h),match:h};Object.assign(w,this._storedFields.get(c)),(t.filter==null||t.filter(w))&&o.push(w)}}catch(b){n={error:b}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return o.sort(xr),o},r.prototype.autoSuggest=function(e,t){var n,a,i,o;t===void 0&&(t={}),t=ie(ie({},this._options.autoSuggestOptions),t);var s=new Map;try{for(var l=X(this.search(e,t)),u=l.next();!u.done;u=l.next()){var c=u.value,m=c.score,f=c.terms,v=f.join(" "),h=s.get(v);h!=null?(h.score+=m,h.count+=1):s.set(v,{score:m,terms:f,count:1})}}catch(D){n={error:D}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}var y=[];try{for(var w=X(s),b=w.next();!b.done;b=w.next()){var F=fe(b.value,2),h=F[0],p=F[1],m=p.score,f=p.terms,I=p.count;y.push({suggestion:h,terms:f,score:m/I})}}catch(D){i={error:D}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}return y.sort(xr),y},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(or.hasOwnProperty(e))return ir(or,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var n,a,i,o,s,l,u=e.index,c=e.documentCount,m=e.nextId,f=e.documentIds,v=e.fieldIds,h=e.fieldLength,y=e.averageFieldLength,w=e.storedFields,b=e.dirtCount,F=e.serializationVersion;if(F!==1&&F!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var p=new r(t);p._documentCount=c,p._nextId=m,p._documentIds=It(f),p._idToShortId=new Map,p._fieldIds=v,p._fieldLength=It(h),p._avgFieldLength=y,p._storedFields=It(w),p._dirtCount=b||0,p._index=new nr;try{for(var I=X(p._documentIds),D=I.next();!D.done;D=I.next()){var E=fe(D.value,2),_=E[0],S=E[1];p._idToShortId.set(S,_)}}catch(L){n={error:L}}finally{try{D&&!D.done&&(a=I.return)&&a.call(I)}finally{if(n)throw n.error}}try{for(var O=X(u),M=O.next();!M.done;M=O.next()){var W=fe(M.value,2),z=W[0],A=W[1],H=new Map;try{for(var V=(s=void 0,X(Object.keys(A))),R=V.next();!R.done;R=V.next()){var U=R.value,Y=A[U];F===1&&(Y=Y.ds),H.set(parseInt(U,10),It(Y))}}catch(L){s={error:L}}finally{try{R&&!R.done&&(l=V.return)&&l.call(V)}finally{if(s)throw s.error}}p._index.set(z,H)}}catch(L){i={error:L}}finally{try{M&&!M.done&&(o=O.return)&&o.call(O)}finally{if(i)throw i.error}}return p},r.prototype.executeQuery=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e!="string"){var a=ie(ie(ie({},t),e),{queries:void 0}),i=e.queries.map(function(w){return n.executeQuery(w,a)});return this.combineResults(i,a.combineWith)}var o=this._options,s=o.tokenize,l=o.processTerm,u=o.searchOptions,c=ie(ie({tokenize:s,processTerm:l},u),t),m=c.tokenize,f=c.processTerm,v=m(e).flatMap(function(w){return f(w)}).filter(function(w){return!!w}),h=v.map(Zn(c)),y=h.map(function(w){return n.executeQuerySpec(w,c)});return this.combineResults(y,c.combineWith)},r.prototype.executeQuerySpec=function(e,t){var n,a,i,o,s=ie(ie({},this._options.searchOptions),t),l=(s.fields||this._options.fields).reduce(function(U,Y){var L;return ie(ie({},U),(L={},L[Y]=ir(s.boost,Y)||1,L))},{}),u=s.boostDocument,c=s.weights,m=s.maxFuzzy,f=s.bm25,v=ie(ie({},Ar.weights),c),h=v.fuzzy,y=v.prefix,w=this._index.get(e.term),b=this.termResults(e.term,e.term,1,w,l,u,f),F,p;if(e.prefix&&(F=this._index.atPrefix(e.term)),e.fuzzy){var I=e.fuzzy===!0?.2:e.fuzzy,D=I<1?Math.min(m,Math.round(e.term.length*I)):I;D&&(p=this._index.fuzzyGet(e.term,D))}if(F)try{for(var E=X(F),_=E.next();!_.done;_=E.next()){var S=fe(_.value,2),O=S[0],M=S[1],W=O.length-e.term.length;if(W){p==null||p.delete(O);var z=y*O.length/(O.length+.3*W);this.termResults(e.term,O,z,M,l,u,f,b)}}}catch(U){n={error:U}}finally{try{_&&!_.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}if(p)try{for(var A=X(p.keys()),H=A.next();!H.done;H=A.next()){var O=H.value,V=fe(p.get(O),2),R=V[0],W=V[1];if(W){var z=h*O.length/(O.length+W);this.termResults(e.term,O,z,R,l,u,f,b)}}}catch(U){i={error:U}}finally{try{H&&!H.done&&(o=A.return)&&o.call(A)}finally{if(i)throw i.error}}return b},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=Fr),e.length===0)return new Map;var n=t.toLowerCase();return e.reduce(Xn[n])||new Map},r.prototype.toJSON=function(){var e,t,n,a,i=[];try{for(var o=X(this._index),s=o.next();!s.done;s=o.next()){var l=fe(s.value,2),u=l[0],c=l[1],m={};try{for(var f=(n=void 0,X(c)),v=f.next();!v.done;v=f.next()){var h=fe(v.value,2),y=h[0],w=h[1];m[y]=Object.fromEntries(w)}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}i.push([u,m])}}catch(b){e={error:b}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,n,a,i,o,s,l){var u,c,m,f,v;if(l===void 0&&(l=new Map),a==null)return l;try{for(var h=X(Object.keys(i)),y=h.next();!y.done;y=h.next()){var w=y.value,b=i[w],F=this._fieldIds[w],p=a.get(F);if(p!=null){var I=p.size,D=this._avgFieldLength[F];try{for(var E=(m=void 0,X(p.keys())),_=E.next();!_.done;_=E.next()){var S=_.value;if(!this._documentIds.has(S)){this.removeTerm(F,S,t),I-=1;continue}var O=o?o(this._documentIds.get(S),t,this._storedFields.get(S)):1;if(O){var M=p.get(S),W=this._fieldLength.get(S)[F],z=Kn(M,I,this._documentCount,W,D,s),A=n*b*O*z,H=l.get(S);if(H){H.score+=A,ea(H.terms,e);var V=ir(H.match,t);V?V.push(w):H.match[t]=[w]}else l.set(S,{score:A,terms:[e],match:(v={},v[t]=[w],v)})}}}catch(R){m={error:R}}finally{try{_&&!_.done&&(f=E.return)&&f.call(E)}finally{if(m)throw m.error}}}}}catch(R){u={error:R}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}return l},r.prototype.addTerm=function(e,t,n){var a=this._index.fetch(n,Ir),i=a.get(e);if(i==null)i=new Map,i.set(t,1),a.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}var a=this._index.fetch(n,Ir),i=a.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?a.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(e,t,n){var a,i;try{for(var o=X(Object.keys(this._fieldIds)),s=o.next();!s.done;s=o.next()){var l=s.value;if(this._fieldIds[l]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(u){a={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,n,a){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=a;var o=this._avgFieldLength[t]||0,s=o*n+a;this._avgFieldLength[t]=s/(n+1)},r.prototype.removeFieldLength=function(e,t,n,a){if(n===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*n-a;this._avgFieldLength[t]=i/(n-1)},r.prototype.saveStoredFields=function(e,t){var n,a,i=this._options,o=i.storeFields,s=i.extractField;if(!(o==null||o.length===0)){var l=this._storedFields.get(e);l==null&&this._storedFields.set(e,l={});try{for(var u=X(o),c=u.next();!c.done;c=u.next()){var m=c.value,f=s(t,m);f!==void 0&&(l[m]=f)}}catch(v){n={error:v}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}},r}(),ir=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},Xn=(Dt={},Dt[Fr]=function(r,e){var t,n;try{for(var a=X(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value,s=r.get(o);if(s==null)r.set(o,e.get(o));else{var l=e.get(o),u=l.score,c=l.terms,m=l.match;s.score=s.score+u,s.match=Object.assign(s.match,m),kr(s.terms,c)}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Dt[wn]=function(r,e){var t,n,a=new Map;try{for(var i=X(e.keys()),o=i.next();!o.done;o=i.next()){var s=o.value,l=r.get(s);if(l!=null){var u=e.get(s),c=u.score,m=u.terms,f=u.match;kr(l.terms,m),a.set(s,{score:l.score+c,terms:l.terms,match:Object.assign(l.match,f)})}}}catch(v){t={error:v}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},Dt[qn]=function(r,e){var t,n;try{for(var a=X(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;r.delete(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Dt),Jn={k:1.2,b:.7,d:.5},Kn=function(r,e,t,n,a,i){var o=i.k,s=i.b,l=i.d,u=Math.log(1+(t-e+.5)/(e+.5));return u*(l+r*(o+1)/(r+o*(1-s+s*n/a)))},Zn=function(r){return function(e,t,n){var a=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0;return{term:e,fuzzy:a,prefix:i}}},or={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(ta)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},Ar={combineWith:Fr,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Jn},$n={combineWith:wn,prefix:function(r,e,t){return e===t.length-1}},cr={batchSize:1e3,batchWait:10},dr={minDirtFactor:.1,minDirtCount:20},sr=ie(ie({},cr),dr),ea=function(r,e){r.includes(e)||r.push(e)},kr=function(r,e){var t,n;try{for(var a=X(e),i=a.next();!i.done;i=a.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},xr=function(r,e){var t=r.score,n=e.score;return n-t},Ir=function(){return new Map},It=function(r){var e,t,n=new Map;try{for(var a=X(Object.keys(r)),i=a.next();!i.done;i=a.next()){var o=i.value;n.set(parseInt(o,10),r[o])}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},ta=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const Cr=Ee({}),Ur=xt("db",{}),hr=xt("lastUpdatedDb",""),ra=async()=>{try{const e=await(await fetch(Wn)).text();let t,n={};e==gt(hr)?n=gt(Ur):(t=await(await fetch(Ln)).json(),t.forEach(i=>{const o=i.id;n[o]=i}),Ur.set(n)),hr.set(e),Cr.set(n)}catch(r){console.log(r)}},na=r=>{var n,a;const t=gt(Cr)[r];if(t){if(t.imgUrl)return t.imgUrl;if((n=t.b2sFiles)!=null&&n.length&&t.b2sFiles[0].imgUrl)return t.b2sFiles[0].imgUrl;if((a=t.tableFiles)!=null&&a.length&&t.tableFiles[0].imgUrl)return t.tableFiles[0].imgUrl}},ut={fetchDb:ra,getGameImage:na,lastUpdated:hr,dbStore:Cr},Xt=ke(ut.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),bn=ke(ut.dbStore,r=>{const e=Object.values(r),t={};for(const n of Ht)t[n]=[];for(const n of e)for(const a of Ht){const i=n[a];Array.isArray(i)&&(t[a]=(t[a]||[]).concat(i.map(o=>({...o,game:{id:n.id,name:n.name}}))))}return Object.entries(t).forEach(([n,a])=>{t[n]=a.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),_n=Ee(""),Fn=Ee("game"),wt=Ee(!1),Er=Ee({active:!1,value:[0,10]}),Jt=Ee({active:!1,value:[],options:[]}),Kt=Ee({active:!1,value:[],options:[]}),Zt=Ee({active:!1,value:[],options:[]}),$t=Ee({active:!1,value:[],options:[]}),Cn=Ee({active:!1,value:[],options:[]}),aa=Ee("lastUpdated");let lr;const En=ke(_n,(r,e)=>{lr&&clearTimeout(lr),lr=setTimeout(()=>e(r),300)}),ia=ke([En,Er,Jt,Kt,$t,Zt],([r,e,t,n,a,i])=>r||e.active||t.active||n.active||a.active||i.active),vr=new Qn({fields:["name","manufacturer","designers",...Ht],extractField:(r,e)=>{var t;if(Ht.includes(e)){const n=(t=r[e])==null?void 0:t.reduce((a,i)=>[...a,...i.authors||[]],[]);return(n==null?void 0:n.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});Xt.subscribe(r=>{vr.removeAll(),vr.addAll(Object.values(r));let e=[],t=[],n=[],a=[],i=[];const o=[9999,0];r.forEach(s=>{s.features&&(e=e.concat(s.features)),s.designers&&(n=n.concat(s.designers)),s.theme&&(t=t.concat(s.theme)),s.manufacturer&&(a=a.concat(s.manufacturer)),s.year<o[0]&&(o[0]=s.year),s.year>o[1]&&(o[1]=s.year),s.tableFiles&&s.tableFiles.forEach(l=>{i=i.concat(l.authors)})}),Kt.update(s=>({...s,options:Array.from(new Set(e)).map(l=>({label:l,value:l}))})),Zt.update(s=>({...s,options:Array.from(new Set(t)).map(l=>({label:l,value:l}))})),Jt.update(s=>({...s,options:Array.from(new Set(a)).map(l=>({label:l,value:l}))})),Cn.update(s=>({...s,options:Array.from(new Set(n)).map(l=>({label:l,value:l}))})),$t.update(s=>({...s,options:Array.from(new Set(i)).map(l=>({label:l,value:l}))}))});const oa=ke([En,Xt],([r,e])=>r?vr.search(r.toLowerCase(),{prefix:!0,fuzzy:.2,combineWith:"AND"}):void 0),sa=ke([Fn,oa,Xt,bn],([r,e,t,n])=>{var u;if(!e)return r==="game"?t:n[r]||[];const a=gt(ut.dbStore);if(r==="game")return e.map(c=>a[c.id]);const i=["name","manufacturer","designers",r],o=["name","manufacturer","designers"],s=e.filter(c=>Object.values(c.match).some(m=>m.some(f=>i.includes(f)))),l=[];for(const c of s){const m=a[c.id],f=m==null?void 0:m[r];if(!(f!=null&&f.length))continue;if(Object.values(c.match).some(h=>h.some(y=>o.includes(y)))){l.push(...f.map(h=>({...h,game:{id:m.id,name:m.name}})));continue}const v=(u=Object.entries(c.match).find(([h,y])=>y.some(w=>w===r)))==null?void 0:u[0];v&&f.forEach(h=>{var y;(y=h.authors)!=null&&y.some(w=>w.includes(v))&&l.push({...h,game:{id:m.id,name:m.name}})})}return l}),Sr=(r,e)=>{if(r[0].game){const t=gt(ut.dbStore);return r.filter(n=>{var i;if(!((i=n.game)!=null&&i.id))return;const a=t[n.game.id];if(a)return e(a)})}else return r.filter(e)},la=ke([wt,Er,sa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:Sr(t,n=>n.players!==void 0&&n.players>=e.value[0]&&n.players<=e.value[1])),ua=ke([wt,Jt,la],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:Sr(t,n=>e.value.includes(n.manufacturer))),fa=ke([wt,Zt,ua],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:Sr(t,n=>e.value.some(a=>{var i;return(i=n.theme)==null?void 0:i.includes(a)}))),ca=ke([wt,$t,fa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:t.filter(n=>{var a,i;return n.game?(a=n.authors)==null?void 0:a.some(o=>e.value.includes(o)):(i=n.tableFiles)==null?void 0:i.some(o=>{var s;return(s=o.authors)==null?void 0:s.some(l=>e.value.includes(l))})})),da=ke([wt,Kt,ca],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:t.filter(n=>{var a,i;return n.game?(a=n.features)==null?void 0:a.some(o=>e.value.includes(o)):(i=n.tableFiles)==null?void 0:i.some(o=>{var s;return(s=o.features)==null?void 0:s.some(l=>e.value.includes(l))})})),ha=da,Bo={sortedDbStore:Xt,sortedFilesStore:bn,finalResultsStore:ha,query:_n,mode:Fn,filterActive:wt,players:Er,manufacturer:Jt,theme:Zt,author:$t,designers:Cn,features:Kt,sortBy:aa,isSearchActive:ia},Nt=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function Lr(r,e,t){const n=r.slice();return n[2]=e[t],n}function Wr(r){let e,t=r[2]+"",n,a;return{c(){e=T("div"),n=q(t),a=N(),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=k(e);n=Q(o,t),a=j(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){he(i,e,o),d(e,n),d(e,a)},p(i,o){o&1&&t!==(t=i[2]+"")&&$(n,t)},d(i){i&&C(e)}}}function va(r){var I,D;let e,t,n,a,i,o,s,l,u,c,m=((I=r[0].game)==null?void 0:I.name)+"",f,v,h,y,w=((D=r[0].authors)==null?void 0:D.join(", "))+"",b,F=We(r[0].features||[]),p=[];for(let E=0;E<F.length;E+=1)p[E]=Wr(Lr(r,F,E));return{c(){e=T("a"),t=T("img"),i=N(),o=T("hr"),s=N(),l=T("div"),u=T("div"),c=T("p"),f=q(m),v=N();for(let E=0;E<p.length;E+=1)p[E].c();h=N(),y=T("h4"),b=q(w),this.h()},l(E){e=P(E,"A",{href:!0,class:!0});var _=k(e);t=P(_,"IMG",{src:!0,alt:!0,class:!0}),i=j(_),o=P(_,"HR",{}),s=j(_),l=P(_,"DIV",{class:!0});var S=k(l);u=P(S,"DIV",{class:!0});var O=k(u);c=P(O,"P",{class:!0});var M=k(c);f=Q(M,m),M.forEach(C),v=j(O);for(let z=0;z<p.length;z+=1)p[z].l(O);O.forEach(C),h=j(S),y=P(S,"H4",{class:!0});var W=k(y);b=Q(W,w),W.forEach(C),S.forEach(C),_.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||Nt)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),g(c,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex gap-2"),g(y,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),g(l,"class","flex flex-col py-4"),g(e,"href",r[1]),g(e,"class","flex flex-col")},m(E,_){he(E,e,_),d(e,t),d(e,i),d(e,o),d(e,s),d(e,l),d(l,u),d(u,c),d(c,f),d(u,v);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(u,null);d(l,h),d(l,y),d(y,b)},p(E,[_]){var S,O;if(_&1&&!me(t.src,n=E[0].imgUrl||Nt)&&g(t,"src",n),_&1&&a!==(a=E[0].id)&&g(t,"alt",a),_&1&&m!==(m=((S=E[0].game)==null?void 0:S.name)+"")&&$(f,m),_&1){F=We(E[0].features||[]);let M;for(M=0;M<F.length;M+=1){const W=Lr(E,F,M);p[M]?p[M].p(W,_):(p[M]=Wr(W),p[M].c(),p[M].m(u,null))}for(;M<p.length;M+=1)p[M].d(1);p.length=F.length}_&1&&w!==(w=((O=E[0].authors)==null?void 0:O.join(", "))+"")&&$(b,w),_&2&&g(e,"href",E[1])},i:pt,o:pt,d(E){E&&C(e),At(p,E)}}}function ma(r,e,t){let{file:n=Bn}=e,{href:a=""}=e;return r.$$set=i=>{"file"in i&&t(0,n=i.file),"href"in i&&t(1,a=i.href)},[n,a]}class ga extends st{constructor(e){super(),lt(this,e,ma,va,ot,{file:0,href:1})}}function zr(r){let e,t=r[0].version+"",n;return{c(){e=T("span"),n=q(t),this.h()},l(a){e=P(a,"SPAN",{class:!0});var i=k(e);n=Q(i,t),i.forEach(C),this.h()},h(){g(e,"class","opacity-60")},m(a,i){he(a,e,i),d(e,n)},p(a,i){i&1&&t!==(t=a[0].version+"")&&$(n,t)},d(a){a&&C(e)}}}function pa(r){var v;let e,t,n,a,i=(((v=r[0].game)==null?void 0:v.name)||"???")+"",o,s,l,u,c,m,f=r[0].version&&zr(r);return{c(){e=T("a"),t=T("div"),n=T("div"),a=T("span"),o=q(i),s=N(),f&&f.c(),l=N(),u=T("img"),this.h()},l(h){e=P(h,"A",{href:!0,id:!0,class:!0});var y=k(e);t=P(y,"DIV",{class:!0});var w=k(t);n=P(w,"DIV",{class:!0});var b=k(n);a=P(b,"SPAN",{class:!0});var F=k(a);o=Q(F,i),F.forEach(C),s=j(b),f&&f.l(b),b.forEach(C),l=j(w),u=P(w,"IMG",{src:!0,class:!0,alt:!0}),w.forEach(C),y.forEach(C),this.h()},h(){g(a,"class","font-bold"),g(n,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),me(u.src,c=r[2])||g(u,"src",c),g(u,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),g(u,"alt",""),g(t,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 transition-all text-xs md:text-base svelte-22xih4"),g(e,"href",r[1]),g(e,"id",m=r[0].id),g(e,"class","aspect svelte-22xih4")},m(h,y){he(h,e,y),d(e,t),d(t,n),d(n,a),d(a,o),d(n,s),f&&f.m(n,null),d(t,l),d(t,u)},p(h,[y]){var w;y&1&&i!==(i=(((w=h[0].game)==null?void 0:w.name)||"???")+"")&&$(o,i),h[0].version?f?f.p(h,y):(f=zr(h),f.c(),f.m(n,null)):f&&(f.d(1),f=null),y&4&&!me(u.src,c=h[2])&&g(u,"src",c),y&2&&g(e,"href",h[1]),y&1&&m!==(m=h[0].id)&&g(e,"id",m)},i:pt,o:pt,d(h){h&&C(e),f&&f.d()}}}function ya(r,e,t){let n;const{getGameImage:a}=ut;let{file:i=Rn}=e,{href:o=""}=e;return r.$$set=s=>{"file"in s&&t(0,i=s.file),"href"in s&&t(1,o=s.href)},r.$$.update=()=>{var s;r.$$.dirty&1&&t(2,n=(s=i.game)!=null&&s.id?a(i.game.id):"")},[i,o,n]}class Ue extends st{constructor(e){super(),lt(this,e,ya,pa,ot,{file:0,href:1})}}const ht=r=>{if(!r)return Nt;if(r.imgUrl)return r.imgUrl;const e=r.b2sFiles||[];if(e.length){const n=[...e].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}const t=r.tableFiles||[];if(t.length){const n=[...t].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}return Nt},vt=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function jt(r){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(r)}function it(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function pe(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Ve(r){pe(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||jt(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wa(r,e){pe(2,arguments);var t=Ve(r).getTime(),n=it(e);return new Date(t+n)}var ba={};function er(){return ba}function _a(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function Fa(r){return pe(1,arguments),r instanceof Date||jt(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Ca(r){if(pe(1,arguments),!Fa(r)&&typeof r!="number")return!1;var e=Ve(r);return!isNaN(Number(e))}function Ea(r,e){pe(2,arguments);var t=it(e);return wa(r,-t)}var Sa=864e5;function Da(r){pe(1,arguments);var e=Ve(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/Sa)+1}function Gt(r){pe(1,arguments);var e=1,t=Ve(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function Sn(r){pe(1,arguments);var e=Ve(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=Gt(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Gt(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Ma(r){pe(1,arguments);var e=Sn(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Gt(t);return n}var Ta=6048e5;function Pa(r){pe(1,arguments);var e=Ve(r),t=Gt(e).getTime()-Ma(e).getTime();return Math.round(t/Ta)+1}function qt(r,e){var t,n,a,i,o,s,l,u;pe(1,arguments);var c=er(),m=it((t=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ve(r),v=f.getUTCDay(),h=(v<m?7:0)+v-m;return f.setUTCDate(f.getUTCDate()-h),f.setUTCHours(0,0,0,0),f}function Dn(r,e){var t,n,a,i,o,s,l,u;pe(1,arguments);var c=Ve(r),m=c.getUTCFullYear(),f=er(),v=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(m+1,0,v),h.setUTCHours(0,0,0,0);var y=qt(h,e),w=new Date(0);w.setUTCFullYear(m,0,v),w.setUTCHours(0,0,0,0);var b=qt(w,e);return c.getTime()>=y.getTime()?m+1:c.getTime()>=b.getTime()?m:m-1}function Oa(r,e){var t,n,a,i,o,s,l,u;pe(1,arguments);var c=er(),m=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=Dn(r,e),v=new Date(0);v.setUTCFullYear(f,0,m),v.setUTCHours(0,0,0,0);var h=qt(v,e);return h}var Aa=6048e5;function ka(r,e){pe(1,arguments);var t=Ve(r),n=qt(t,e).getTime()-Oa(t,e).getTime();return Math.round(n/Aa)+1}function te(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var xa={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return te(t==="yy"?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):te(n+1,2)},d:function(e,t){return te(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return te(e.getUTCHours()%12||12,t.length)},H:function(e,t){return te(e.getUTCHours(),t.length)},m:function(e,t){return te(e.getUTCMinutes(),t.length)},s:function(e,t){return te(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return te(i,t.length)}};const Xe=xa;var dt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ia={G:function(e,t,n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Xe.y(e,t)},Y:function(e,t,n,a){var i=Dn(e,a),o=i>0?i:1-i;if(t==="YY"){var s=o%100;return te(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):te(o,t.length)},R:function(e,t){var n=Sn(e);return te(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return te(n,t.length)},Q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return te(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return te(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return Xe.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return te(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=ka(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):te(i,t.length)},I:function(e,t,n){var a=Pa(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):te(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xe.d(e,t)},D:function(e,t,n){var a=Da(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):te(a,t.length)},E:function(e,t,n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return te(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return te(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return te(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var a=e.getUTCHours(),i;switch(a===12?i=dt.noon:a===0?i=dt.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var a=e.getUTCHours(),i;switch(a>=17?i=dt.evening:a>=12?i=dt.afternoon:a>=4?i=dt.morning:i=dt.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Xe.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xe.H(e,t)},K:function(e,t,n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):te(a,t.length)},k:function(e,t,n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):te(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xe.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xe.s(e,t)},S:function(e,t){return Xe.S(e,t)},X:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Br(o);case"XXXX":case"XX":return at(o);case"XXXXX":case"XXX":default:return at(o,":")}},x:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Br(o);case"xxxx":case"xx":return at(o);case"xxxxx":case"xxx":default:return at(o,":")}},O:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vr(o,":");case"OOOO":default:return"GMT"+at(o,":")}},z:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vr(o,":");case"zzzz":default:return"GMT"+at(o,":")}},t:function(e,t,n,a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return te(o,t.length)},T:function(e,t,n,a){var i=a._originalDate||e,o=i.getTime();return te(o,t.length)}};function Vr(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+te(i,2)}function Br(r,e){if(r%60===0){var t=r>0?"-":"+";return t+te(Math.abs(r)/60,2)}return at(r,e)}function at(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=te(Math.floor(a/60),2),o=te(a%60,2);return n+i+t+o}const Ua=Ia;var Rr=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Mn=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},La=function(e,t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Rr(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Rr(a,t)).replace("{{time}}",Mn(i,t))},Wa={p:Mn,P:La};const za=Wa;var Va=["D","DD"],Ba=["YY","YYYY"];function Ra(r){return Va.indexOf(r)!==-1}function Ha(r){return Ba.indexOf(r)!==-1}function Hr(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ya={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Na=function(e,t,n){var a,i=Ya[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const ja=Na;function ur(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var Ga={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qa={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qa={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xa={date:ur({formats:Ga,defaultWidth:"full"}),time:ur({formats:qa,defaultWidth:"full"}),dateTime:ur({formats:Qa,defaultWidth:"full"})};const Ja=Xa;var Ka={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Za=function(e,t,n,a){return Ka[e]};const $a=Za;function Mt(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{var s=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[l]||r.values[s]}var u=r.argumentCallback?r.argumentCallback(e):e;return a[u]}}var ei={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ti={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ri={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ni={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ai={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ii={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oi=function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},si={ordinalNumber:oi,era:Mt({values:ei,defaultWidth:"wide"}),quarter:Mt({values:ti,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mt({values:ri,defaultWidth:"wide"}),day:Mt({values:ni,defaultWidth:"wide"}),dayPeriod:Mt({values:ai,defaultWidth:"wide",formattingValues:ii,defaultFormattingWidth:"wide"})};const li=si;function Tt(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?fi(s,function(m){return m.test(o)}):ui(s,function(m){return m.test(o)}),u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function ui(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function fi(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function ci(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var a=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var s=e.slice(a.length);return{value:o,rest:s}}}var di=/^(\d+)(th|st|nd|rd)?/i,hi=/\d+/i,vi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mi={any:[/^b/i,/^(a|c)/i]},gi={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pi={any:[/1/i,/2/i,/3/i,/4/i]},yi={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_i={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fi={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ci={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ei={ordinalNumber:ci({matchPattern:di,parsePattern:hi,valueCallback:function(e){return parseInt(e,10)}}),era:Tt({matchPatterns:vi,defaultMatchWidth:"wide",parsePatterns:mi,defaultParseWidth:"any"}),quarter:Tt({matchPatterns:gi,defaultMatchWidth:"wide",parsePatterns:pi,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tt({matchPatterns:yi,defaultMatchWidth:"wide",parsePatterns:wi,defaultParseWidth:"any"}),day:Tt({matchPatterns:bi,defaultMatchWidth:"wide",parsePatterns:_i,defaultParseWidth:"any"}),dayPeriod:Tt({matchPatterns:Fi,defaultMatchWidth:"any",parsePatterns:Ci,defaultParseWidth:"any"})};const Si=Ei;var Di={code:"en-US",formatDistance:ja,formatLong:Ja,formatRelative:$a,localize:li,match:Si,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Mi=Di;var Ti=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oi=/^'([^]*?)'?$/,Ai=/''/g,ki=/[a-zA-Z]/;function Dr(r,e,t){var n,a,i,o,s,l,u,c,m,f,v,h,y,w,b,F,p,I;pe(2,arguments);var D=String(e),E=er(),_=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:E.locale)!==null&&n!==void 0?n:Mi,S=it((i=(o=(s=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&o!==void 0?o:(m=E.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=it((v=(h=(y=(w=t==null?void 0:t.weekStartsOn)!==null&&w!==void 0?w:t==null||(b=t.locale)===null||b===void 0||(F=b.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&h!==void 0?h:(p=E.locale)===null||p===void 0||(I=p.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&v!==void 0?v:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var M=Ve(r);if(!Ca(M))throw new RangeError("Invalid time value");var W=_a(M),z=Ea(M,W),A={firstWeekContainsDate:S,weekStartsOn:O,locale:_,_originalDate:M},H=D.match(Pi).map(function(V){var R=V[0];if(R==="p"||R==="P"){var U=za[R];return U(V,_.formatLong)}return V}).join("").match(Ti).map(function(V){if(V==="''")return"'";var R=V[0];if(R==="'")return xi(V);var U=Ua[R];if(U)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Ha(V)&&Hr(V,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ra(V)&&Hr(V,e,String(r)),U(z,V,_.localize,A);if(R.match(ki))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return V}).join("");return H}function xi(r){var e=r.match(Oi);return e?e[1].replace(Ai,"'"):r}const mt=r=>isNaN(new Date(r).getTime())?"??.??.????":Dr(new Date(r),"dd.MM.yyyy"),Ro=r=>isNaN(new Date(r).getTime())?"??.??.????":Dr(new Date(r),"HH:MM - dd.MM.yyyy"),Ho=r=>isNaN(new Date(r).getTime())?"????-??-??":Dr(new Date(r),"yyyy-MM-dd");function Yr(r,e,t){const n=r.slice();return n[9]=e[t],n}function Nr(r,e,t){const n=r.slice();return n[12]=e[t],n}function jr(r){let e,t=r[12]+"",n,a;return{c(){e=T("div"),n=q(t),a=N(),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=k(e);n=Q(o,t),a=j(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){he(i,e,o),d(e,n),d(e,a)},p(i,o){o&64&&t!==(t=i[12]+"")&&$(n,t)},d(i){i&&C(e)}}}function Gr(r){let e,t=r[9].toUpperCase()+"",n;return{c(){e=T("div"),n=q(t),this.h()},l(a){e=P(a,"DIV",{class:!0});var i=k(e);n=Q(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(a,i){he(a,e,i),d(e,n)},p(a,i){i&1&&t!==(t=a[9].toUpperCase()+"")&&$(n,t)},d(a){a&&C(e)}}}function Ii(r){var ae;let e,t,n,a,i,o,s,l,u,c,m,f,v,h,y=r[0].name+"",w,b,F,p,I,D=r[0].manufacturer+"",E,_,S,O,M=r[0].year+"",W,z,A,H,V=(((ae=r[0].designers)==null?void 0:ae.join(", "))||"-")+"",R,U,Y,L,B,K,ne,ce="Updated at",de,le,Te=mt(r[0].updatedAt)+"",Ne,xe,Pe,je,Se,_e,ft="Type",De,ye,Ge=(r[0].type||"-")+"",qe,ge,Ie,Fe,we,Me,be,re,Oe,Qe,ee=We(r[6]),se=[];for(let x=0;x<ee.length;x+=1)se[x]=jr(Nr(r,ee,x));let Be=We(r[0].theme||[]),ue=[];for(let x=0;x<Be.length;x+=1)ue[x]=Gr(Yr(r,Be,x));return{c(){e=T("div"),t=T("img"),o=N(),s=T("div"),l=T("img"),m=N(),f=T("div"),v=T("div"),h=T("p"),w=q(y),b=N();for(let x=0;x<se.length;x+=1)se[x].c();F=N(),p=T("div"),I=T("p"),E=q(D),_=N(),S=T("p"),O=q("("),W=q(M),z=q(")"),A=N(),H=T("p"),R=q(V),U=N(),Y=T("div");for(let x=0;x<ue.length;x+=1)ue[x].c();L=N(),B=T("div"),K=T("div"),ne=T("p"),ne.textContent=ce,de=N(),le=T("p"),Ne=q(Te),xe=N(),Pe=T("div"),je=N(),Se=T("div"),_e=T("p"),_e.textContent=ft,De=N(),ye=T("p"),qe=q(Ge),Ie=N(),Fe=Je("svg"),we=Je("defs"),Me=Je("clipPath"),be=Je("path"),this.h()},l(x){e=P(x,"DIV",{style:!0,class:!0});var J=k(e);t=P(J,"IMG",{src:!0,alt:!0,class:!0}),o=j(J),s=P(J,"DIV",{class:!0});var Z=k(s);l=P(Z,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=j(Z),f=P(Z,"DIV",{class:!0,style:!0});var G=k(f);v=P(G,"DIV",{class:!0});var Ce=k(v);h=P(Ce,"P",{class:!0});var bt=k(h);w=Q(bt,y),bt.forEach(C),b=j(Ce);for(let nt=0;nt<se.length;nt+=1)se[nt].l(Ce);Ce.forEach(C),F=j(G),p=P(G,"DIV",{class:!0});var Re=k(p);I=P(Re,"P",{class:!0});var _t=k(I);E=Q(_t,D),_t.forEach(C),_=j(Re),S=P(Re,"P",{});var He=k(S);O=Q(He,"("),W=Q(He,M),z=Q(He,")"),He.forEach(C),Re.forEach(C),A=j(G),H=P(G,"P",{class:!0});var Ft=k(H);R=Q(Ft,V),Ft.forEach(C),U=j(G),Y=P(G,"DIV",{class:!0});var Ye=k(Y);for(let nt=0;nt<ue.length;nt+=1)ue[nt].l(Ye);Ye.forEach(C),L=j(G),B=P(G,"DIV",{class:!0});var Ae=k(B);K=P(Ae,"DIV",{class:!0});var et=k(K);ne=P(et,"P",{class:!0,"data-svelte-h":!0}),zt(ne)!=="svelte-g6tq99"&&(ne.textContent=ce),de=j(et),le=P(et,"P",{class:!0});var tt=k(le);Ne=Q(tt,Te),tt.forEach(C),et.forEach(C),xe=j(Ae),Pe=P(Ae,"DIV",{class:!0}),k(Pe).forEach(C),je=j(Ae),Se=P(Ae,"DIV",{class:!0});var rt=k(Se);_e=P(rt,"P",{class:!0,"data-svelte-h":!0}),zt(_e)!=="svelte-1h1g7sd"&&(_e.textContent=ft),De=j(rt),ye=P(rt,"P",{class:!0});var Ct=k(ye);qe=Q(Ct,Ge),Ct.forEach(C),rt.forEach(C),Ae.forEach(C),G.forEach(C),Z.forEach(C),J.forEach(C),Ie=j(x),Fe=Ke(x,"svg",{width:!0,height:!0});var Et=k(Fe);we=Ke(Et,"defs",{});var St=k(we);Me=Ke(St,"clipPath",{id:!0,clipPathUnits:!0});var Tr=k(Me);be=Ke(Tr,"path",{d:!0}),k(be).forEach(C),Tr.forEach(C),St.forEach(C),Et.forEach(C),this.h()},h(){me(t.src,n=ht(r[0]))||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1dr6gib"),me(l.src,u=ht(r[0]))||g(l,"src",u),g(l,"alt",c=r[0].id),oe(l,"height","36%"),g(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10 svelte-1dr6gib"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(v,"class","flex gap-2 max-w-full"),g(I,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(p,"class","flex gap-1 text-center max-w-full"),g(H,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(Y,"class","flex gap-2 mt-4 flex-wrap"),g(ne,"class","text-xs font-bold uppercase opacity-40"),g(le,"class",""),g(K,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Pe,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(_e,"class","text-xs font-bold uppercase opacity-40"),g(ye,"class",""),g(Se,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(B,"class","flex mt-auto w-full"),g(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),oe(f,"top","calc("+r[3]*.885+"px - 7.5rem)"),g(s,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(be,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Me,"id","myCurve"),g(Me,"clipPathUnits","objectBoundingBox"),g(Fe,"width","0"),g(Fe,"height","0")},m(x,J){he(x,e,J),d(e,t),d(e,o),d(e,s),d(s,l),d(s,m),d(s,f),d(f,v),d(v,h),d(h,w),d(v,b);for(let Z=0;Z<se.length;Z+=1)se[Z]&&se[Z].m(v,null);d(f,F),d(f,p),d(p,I),d(I,E),d(p,_),d(p,S),d(S,O),d(S,W),d(S,z),d(f,A),d(f,H),d(H,R),d(f,U),d(f,Y);for(let Z=0;Z<ue.length;Z+=1)ue[Z]&&ue[Z].m(Y,null);d(f,L),d(f,B),d(B,K),d(K,ne),d(K,de),d(K,le),d(le,Ne),d(B,xe),d(B,Pe),d(B,je),d(B,Se),d(Se,_e),d(Se,De),d(Se,ye),d(ye,qe),he(x,Ie,J),he(x,Fe,J),d(Fe,we),d(we,Me),d(Me,be),re=!0,Oe||(Qe=yt(t,"outroend",function(){on(r[5])&&r[5].apply(this,arguments)}),Oe=!0)},p(x,[J]){var Z;if(r=x,(!re||J&1&&!me(t.src,n=ht(r[0])))&&g(t,"src",n),(!re||J&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!re||J&1&&!me(l.src,u=ht(r[0])))&&g(l,"src",u),(!re||J&1&&c!==(c=r[0].id))&&g(l,"alt",c),(!re||J&1)&&y!==(y=r[0].name+"")&&$(w,y),J&64){ee=We(r[6]);let G;for(G=0;G<ee.length;G+=1){const Ce=Nr(r,ee,G);se[G]?se[G].p(Ce,J):(se[G]=jr(Ce),se[G].c(),se[G].m(v,null))}for(;G<se.length;G+=1)se[G].d(1);se.length=ee.length}if((!re||J&1)&&D!==(D=r[0].manufacturer+"")&&$(E,D),(!re||J&1)&&M!==(M=r[0].year+"")&&$(W,M),(!re||J&1)&&V!==(V=(((Z=r[0].designers)==null?void 0:Z.join(", "))||"-")+"")&&$(R,V),J&1){Be=We(r[0].theme||[]);let G;for(G=0;G<Be.length;G+=1){const Ce=Yr(r,Be,G);ue[G]?ue[G].p(Ce,J):(ue[G]=Gr(Ce),ue[G].c(),ue[G].m(Y,null))}for(;G<ue.length;G+=1)ue[G].d(1);ue.length=Be.length}(!re||J&1)&&Te!==(Te=mt(r[0].updatedAt)+"")&&$(Ne,Te),(!re||J&1)&&Ge!==(Ge=(r[0].type||"-")+"")&&$(qe,Ge),(!re||J&8)&&oe(f,"top","calc("+r[3]*.885+"px - 7.5rem)"),(!re||J&2)&&oe(e,"left",r[1]+"px"),(!re||J&4)&&oe(e,"top",r[2]+"px"),(!re||J&16)&&oe(e,"width",r[4]+"px"),(!re||J&8)&&oe(e,"height",r[3]+"px")},i(x){re||(x&&Vt(()=>{re&&(i||(i=Ze(t,r[7],{duration:Ut},!0)),i.run(1))}),x&&Vt(()=>{re&&(ge||(ge=Ze(s,r[8],{duration:Ut},!0)),ge.run(1))}),re=!0)},o(x){x&&(i||(i=Ze(t,r[7],{duration:Ut},!1)),i.run(0)),x&&(ge||(ge=Ze(s,r[8],{duration:Ut},!1)),ge.run(0)),re=!1},d(x){x&&(C(e),C(Ie),C(Fe)),x&&i&&i.end(),At(se,x),At(ue,x),x&&ge&&ge.end(),Oe=!1,Qe()}}}const Ut=100;function Ui(r,e,t){let n,{game:a=Qt}=e,{left:i=0}=e,{top:o=0}=e,{height:s=0}=e,{width:l=0}=e,{onEnd:u=()=>{}}=e;const c=(f,{duration:v,delay:h})=>({duration:v,delay:h,css:y=>{const w=Rt(y);return`
					transform: translateY(${w*-8}rem) scale(${1-w*.25});
					`}}),m=(f,{duration:v,delay:h})=>({duration:v,delay:h,css:y=>`
					transform: scale(${Rt(y)});
					`});return r.$$set=f=>{"game"in f&&t(0,a=f.game),"left"in f&&t(1,i=f.left),"top"in f&&t(2,o=f.top),"height"in f&&t(3,s=f.height),"width"in f&&t(4,l=f.width),"onEnd"in f&&t(5,u=f.onEnd)},r.$$.update=()=>{r.$$.dirty&1&&t(6,n=Array.from(new Set((a.tableFiles||[]).map(f=>f.tableFormat).filter(f=>!!f))))},[a,i,o,s,l,u,n,c,m]}class Li extends st{constructor(e){super(),lt(this,e,Ui,Ii,ot,{game:0,left:1,top:2,height:3,width:4,onEnd:5})}}const Tn=Ee({width:0,height:0,mobile:!1});function qr(r,e,t){const n=r.slice();return n[16]=e[t],n}function Qr(r){let e,t;return e=new Li({props:{game:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[12]}}),{c(){pr(e.$$.fragment)},l(n){yr(e.$$.fragment,n)},m(n,a){wr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.game=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[12]),e.$set(i)},i(n){t||(ze(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){br(e,n)}}}function Xr(r){let e,t=r[16]+"",n,a;return{c(){e=T("div"),n=q(t),a=N(),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=k(e);n=Q(o,t),a=j(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){he(i,e,o),d(e,n),d(e,a)},p(i,o){o&512&&t!==(t=i[16]+"")&&$(n,t)},d(i){i&&C(e)}}}function Wi(r){var R;let e,t,n,a,i,o,s,l,u,c=r[0].name+"",m,f,v,h,y=r[0].manufacturer+"",w,b,F=r[0].year+"",p,I,D,E,_=((R=r[0].designers)==null?void 0:R.join(", "))+"",S,O,M,W,z,A=r[7]&&Qr(r),H=We(r[9]),V=[];for(let U=0;U<H.length;U+=1)V[U]=Xr(qr(r,H,U));return{c(){e=T("a"),A&&A.c(),t=N(),n=T("img"),o=N(),s=T("div"),l=T("div"),u=T("p"),m=q(c),f=N();for(let U=0;U<V.length;U+=1)V[U].c();v=N(),h=T("p"),w=q(y),b=q(" ("),p=q(F),I=q(")"),D=N(),E=T("p"),S=q(_),this.h()},l(U){e=P(U,"A",{class:!0,href:!0,id:!0});var Y=k(e);A&&A.l(Y),t=j(Y),n=P(Y,"IMG",{src:!0,alt:!0,class:!0}),o=j(Y),s=P(Y,"DIV",{class:!0});var L=k(s);l=P(L,"DIV",{class:!0});var B=k(l);u=P(B,"P",{class:!0});var K=k(u);m=Q(K,c),K.forEach(C),f=j(B);for(let de=0;de<V.length;de+=1)V[de].l(B);B.forEach(C),v=j(L),h=P(L,"P",{});var ne=k(h);w=Q(ne,y),b=Q(ne," ("),p=Q(ne,F),I=Q(ne,")"),ne.forEach(C),D=j(L),E=P(L,"P",{class:!0});var ce=k(E);S=Q(ce,_),ce.forEach(C),L.forEach(C),Y.forEach(C),this.h()},h(){me(n.src,a=ht(r[0]))||g(n,"src",a),g(n,"alt",i=r[0].name),g(n,"class","card pinImage bg-surface-300-600-token svelte-1rbl6pa"),Bt(n,"hide",r[7]||r[8]),g(u,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(l,"class","flex gap-2"),g(E,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(s,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1]),g(e,"id",O=r[0].id)},m(U,Y){he(U,e,Y),A&&A.m(e,null),d(e,t),d(e,n),r[13](n),d(e,o),d(e,s),d(s,l),d(l,u),d(u,m),d(l,f);for(let L=0;L<V.length;L+=1)V[L]&&V[L].m(l,null);d(s,v),d(s,h),d(h,w),d(h,b),d(h,p),d(h,I),d(s,D),d(s,E),d(E,S),M=!0,W||(z=[yt(e,"mouseenter",r[10]),yt(e,"mouseleave",r[11])],W=!0)},p(U,[Y]){var L;if(U[7]?A?(A.p(U,Y),Y&128&&ze(A,1)):(A=Qr(U),A.c(),ze(A,1),A.m(e,t)):A&&(ln(),$e(A,1,1,()=>{A=null}),un()),(!M||Y&1&&!me(n.src,a=ht(U[0])))&&g(n,"src",a),(!M||Y&1&&i!==(i=U[0].name))&&g(n,"alt",i),(!M||Y&384)&&Bt(n,"hide",U[7]||U[8]),(!M||Y&1)&&c!==(c=U[0].name+"")&&$(m,c),Y&512){H=We(U[9]);let B;for(B=0;B<H.length;B+=1){const K=qr(U,H,B);V[B]?V[B].p(K,Y):(V[B]=Xr(K),V[B].c(),V[B].m(l,null))}for(;B<V.length;B+=1)V[B].d(1);V.length=H.length}(!M||Y&1)&&y!==(y=U[0].manufacturer+"")&&$(w,y),(!M||Y&1)&&F!==(F=U[0].year+"")&&$(p,F),(!M||Y&1)&&_!==(_=((L=U[0].designers)==null?void 0:L.join(", "))+"")&&$(S,_),(!M||Y&2)&&g(e,"href",U[1]),(!M||Y&1&&O!==(O=U[0].id))&&g(e,"id",O)},i(U){M||(ze(A),M=!0)},o(U){$e(A),M=!1},d(U){U&&C(e),A&&A.d(),r[13](null),At(V,U),W=!1,gr(z)}}}const zi=200;function Vi(r,e,t){let n,a;kt(r,Tn,p=>t(15,a=p));let{file:i=Qt}=e,{href:o=""}=e,s,l=0,u=0,c=0,m=0,f=!1,v=!1,h;const y=()=>{var I;if(!a.mobile)return;const p=s.getBoundingClientRect();t(3,l=p.left),t(4,u=p.top),t(6,m=p.width),t(5,c=p.height),(I=document.getElementById("page"))==null||I.addEventListener("scroll",w),h=setTimeout(()=>{t(7,f=!0),h=void 0},zi)},w=()=>{var p;a.mobile&&((p=document.getElementById("page"))==null||p.removeEventListener("scroll",w),h?(t(7,f=!1),clearTimeout(h)):f&&(t(7,f=!1),t(8,v=!0)))},b=()=>t(8,v=!1);function F(p){sn[p?"unshift":"push"](()=>{s=p,t(2,s)})}return r.$$set=p=>{"file"in p&&t(0,i=p.file),"href"in p&&t(1,o=p.href)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=Array.from(new Set((i.tableFiles||[]).map(p=>p.tableFormat).filter(p=>!!p))))},[i,o,s,l,u,c,m,f,v,n,y,w,b,F]}class Bi extends st{constructor(e){super(),lt(this,e,Vi,Wi,ot,{file:0,href:1})}}/*! Fast Average Color |  2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function Ri(r){var e=r.toString(16);return e.length===1?"0"+e:e}function Jr(r){return"#"+r.map(Ri).join("")}function Hi(r){var e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128}function Yi(r){return r?Ni(r)?r:[r]:[]}function Ni(r){return Array.isArray(r[0])}function Mr(r,e,t){for(var n=0;n<t.length;n++)if(ji(r,e,t[n]))return!0;return!1}function ji(r,e,t){switch(t.length){case 3:if(Gi(r,e,t))return!0;break;case 4:if(qi(r,e,t))return!0;break;case 5:if(Qi(r,e,t))return!0;break;default:return!1}}function Gi(r,e,t){return r[e+3]!==255||r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]}function qi(r,e,t){return r[e+3]&&t[3]?r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]&&r[e+3]===t[3]:r[e+3]===t[3]}function Lt(r,e,t){return r>=e-t&&r<=e+t}function Qi(r,e,t){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=r[e+3],u=Lt(l,o,s);return o?!!(!l&&u||Lt(r[e],n,s)&&Lt(r[e+1],a,s)&&Lt(r[e+2],i,s)&&u):u}function Xi(r,e,t){for(var n={},a=24,i=t.ignoredColor,o=t.step,s=[0,0,0,0,0],l=0;l<e;l+=o){var u=r[l],c=r[l+1],m=r[l+2],f=r[l+3];if(!(i&&Mr(r,l,i))){var v=Math.round(u/a)+","+Math.round(c/a)+","+Math.round(m/a);n[v]?n[v]=[n[v][0]+u*f,n[v][1]+c*f,n[v][2]+m*f,n[v][3]+f,n[v][4]+1]:n[v]=[u*f,c*f,m*f,f,1],s[4]<n[v][4]&&(s=n[v])}}var h=s[0],y=s[1],w=s[2],b=s[3],F=s[4];return b?[Math.round(h/b),Math.round(y/b),Math.round(w/b),Math.round(b/F)]:t.defaultColor}function Ji(r,e,t){for(var n=0,a=0,i=0,o=0,s=0,l=t.ignoredColor,u=t.step,c=0;c<e;c+=u){var m=r[c+3],f=r[c]*m,v=r[c+1]*m,h=r[c+2]*m;l&&Mr(r,c,l)||(n+=f,a+=v,i+=h,o+=m,s++)}return o?[Math.round(n/o),Math.round(a/o),Math.round(i/o),Math.round(o/s)]:t.defaultColor}function Ki(r,e,t){for(var n=0,a=0,i=0,o=0,s=0,l=t.ignoredColor,u=t.step,c=0;c<e;c+=u){var m=r[c],f=r[c+1],v=r[c+2],h=r[c+3];l&&Mr(r,c,l)||(n+=m*m*h,a+=f*f*h,i+=v*v*h,o+=h,s++)}return o?[Math.round(Math.sqrt(n/o)),Math.round(Math.sqrt(a/o)),Math.round(Math.sqrt(i/o)),Math.round(o/s)]:t.defaultColor}function Kr(r){return Ot(r,"defaultColor",[0,0,0,0])}function Ot(r,e,t){return r[e]===void 0?t:r[e]}var Zr=10,mr=100;function Zi(r){return r.search(/\.svg(\?|$)/i)!==-1}function $i(r){if(Pn(r)){var e=r.naturalWidth,t=r.naturalHeight;return!r.naturalWidth&&Zi(r.src)&&(e=t=mr),{width:e,height:t}}return to(r)?{width:r.videoWidth,height:r.videoHeight}:{width:r.width,height:r.height}}function $r(r){return ro(r)?"canvas":eo(r)?"offscreencanvas":no(r)?"imagebitmap":r.src}function Pn(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement}var On=typeof OffscreenCanvas<"u";function eo(r){return On&&r instanceof OffscreenCanvas}function to(r){return typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement}function ro(r){return typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement}function no(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}function ao(r,e){var t=Ot(e,"left",0),n=Ot(e,"top",0),a=Ot(e,"width",r.width),i=Ot(e,"height",r.height),o=a,s=i;if(e.mode==="precision")return{srcLeft:t,srcTop:n,srcWidth:a,srcHeight:i,destWidth:o,destHeight:s};var l;return a>i?(l=a/i,o=mr,s=Math.round(o/l)):(l=i/a,s=mr,o=Math.round(s/l)),(o>a||s>i||o<Zr||s<Zr)&&(o=a,s=i),{srcLeft:t,srcTop:n,srcWidth:a,srcHeight:i,destWidth:o,destHeight:s}}var io=typeof window>"u";function oo(){return io?On?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var so="FastAverageColor: ";function Le(r){return Error(so+r)}function Pt(r,e){e||console.error(r)}var lo=function(){function r(){this.canvas=null,this.ctx=null}return r.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(Le("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(Le("resource as string is not supported in this environment"));var n=new Image;return n.crossOrigin=t&&t.crossOrigin||"",n.src=e,this.bindImageEvents(n,t)}else{if(Pn(e)&&!e.complete)return this.bindImageEvents(e,t);var a=this.getColor(e,t);return a.error?Promise.reject(a.error):Promise.resolve(a)}},r.prototype.getColor=function(e,t){t=t||{};var n=Kr(t);if(!e){var a=Le("call .getColor(null) without resource");return Pt(a,t.silent),this.prepareResult(n,a)}var i=$i(e),o=ao(i,t);if(!o.srcWidth||!o.srcHeight||!o.destWidth||!o.destHeight){var a=Le('incorrect sizes for resource "'.concat($r(e),'"'));return Pt(a,t.silent),this.prepareResult(n,a)}if(!this.canvas&&(this.canvas=oo(),!this.canvas)){var a=Le("OffscreenCanvas is not supported in this browser");return Pt(a,t.silent),this.prepareResult(n,a)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var a=Le("Canvas Context 2D is not supported in this browser");return Pt(a,t.silent),this.prepareResult(n)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=o.destWidth,this.canvas.height=o.destHeight;try{this.ctx.clearRect(0,0,o.destWidth,o.destHeight),this.ctx.drawImage(e,o.srcLeft,o.srcTop,o.srcWidth,o.srcHeight,0,0,o.destWidth,o.destHeight);var s=this.ctx.getImageData(0,0,o.destWidth,o.destHeight).data;return this.prepareResult(this.getColorFromArray4(s,t))}catch(l){var a=Le("security error (CORS) for resource ".concat($r(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Pt(a,t.silent),!t.silent&&console.error(l),this.prepareResult(n,a)}},r.prototype.getColorFromArray4=function(e,t){t=t||{};var n=4,a=e.length,i=Kr(t);if(a<n)return i;var o=a-a%n,s=(t.step||1)*n,l;switch(t.algorithm||"sqrt"){case"simple":l=Ji;break;case"sqrt":l=Ki;break;case"dominant":l=Xi;break;default:throw Le("".concat(t.algorithm," is unknown algorithm"))}return l(e,o,{defaultColor:i,ignoredColor:Yi(t.ignoredColor),step:s})},r.prototype.prepareResult=function(e,t){var n=e.slice(0,3),a=[e[0],e[1],e[2],e[3]/255],i=Hi(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+n.join(",")+")",rgba:"rgba("+a.join(",")+")",hex:Jr(n),hexa:Jr(e),isDark:i,isLight:!i,error:t}},r.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},r.prototype.bindImageEvents=function(e,t){var n=this;return new Promise(function(a,i){var o=function(){u();var c=n.getColor(e,t);c.error?i(c.error):a(c)},s=function(){u(),i(Le('Error loading image "'.concat(e.src,'".')))},l=function(){u(),i(Le('Image "'.concat(e.src,'" loading aborted')))},u=function(){e.removeEventListener("load",o),e.removeEventListener("error",s),e.removeEventListener("abort",l)};e.addEventListener("load",o),e.addEventListener("error",s),e.addEventListener("abort",l)})},r}();const en={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500"};function tn(r,e,t){const n=r.slice();return n[1]=e[t],n}function rn(r){let e,t=We(r[0]||[]),n=[];for(let a=0;a<t.length;a+=1)n[a]=nn(tn(r,t,a));return{c(){e=T("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=P(a,"DIV",{class:!0});var i=k(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(C),this.h()},h(){g(e,"class","flex gap-1 flex-wrap")},m(a,i){he(a,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(a,i){if(i&1){t=We(a[0]||[]);let o;for(o=0;o<t.length;o+=1){const s=tn(a,t,o);n[o]?n[o].p(s,i):(n[o]=nn(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&C(e),At(n,a)}}}function nn(r){let e,t,n,a=r[1].toUpperCase()+"",i,o;return{c(){e=T("div"),t=T("span"),i=q(a),o=N(),this.h()},l(s){e=P(s,"DIV",{class:!0});var l=k(e);t=P(l,"SPAN",{class:!0}),k(t).forEach(C),i=Q(l,a),o=j(l),l.forEach(C),this.h()},h(){g(t,"class",n="rounded-full h-2 w-2 "+(en[r[1]]||"bg-slate-500")+" mr-2"),g(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(s,l){he(s,e,l),d(e,t),d(e,i),d(e,o)},p(s,l){l&1&&n!==(n="rounded-full h-2 w-2 "+(en[s[1]]||"bg-slate-500")+" mr-2")&&g(t,"class",n),l&1&&a!==(a=s[1].toUpperCase()+"")&&$(i,a)},d(s){s&&C(e)}}}function uo(r){var n;let e,t=((n=r[0])==null?void 0:n.length)&&rn(r);return{c(){t&&t.c(),e=Pr()},l(a){t&&t.l(a),e=Pr()},m(a,i){t&&t.m(a,i),he(a,e,i)},p(a,[i]){var o;(o=a[0])!=null&&o.length?t?t.p(a,i):(t=rn(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:pt,o:pt,d(a){a&&C(e),t&&t.d(a)}}}function fo(r,e,t){let{data:n=[]}=e;return r.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class co extends st{constructor(e){super(),lt(this,e,fo,uo,ot,{data:0})}}function ho(r){var ue;let e,t,n,a,i,o,s,l,u,c,m,f,v,h,y=((ue=r[0].game)==null?void 0:ue.name)+"",w,b,F,p=r[0].tableFormat+"",I,D,E,_,S=r[7].manufacturer+"",O,M,W,z,A=r[7].year+"",H,V,R,U,Y=r[0].authors.join(", ")+"",L,B,K,ne,ce,de,le,Te="Updated at",Ne,xe,Pe=mt(r[0].updatedAt)+"",je,Se,_e,ft,De,ye,Ge="Added at",qe,ge,Ie=mt(r[0].createdAt||r[0].updatedAt)+"",Fe,we,Me,be,re,Oe,Qe,ee,se,Be;return K=new co({props:{data:r[0].features}}),{c(){e=T("div"),t=T("img"),o=N(),s=T("div"),l=T("img"),m=N(),f=T("div"),v=T("div"),h=T("p"),w=q(y),b=N(),F=T("div"),I=q(p),D=N(),E=T("div"),_=T("p"),O=q(S),M=N(),W=T("p"),z=q("("),H=q(A),V=q(")"),R=N(),U=T("p"),L=q(Y),B=N(),pr(K.$$.fragment),ne=N(),ce=T("div"),de=T("div"),le=T("p"),le.textContent=Te,Ne=N(),xe=T("p"),je=q(Pe),Se=N(),_e=T("div"),ft=N(),De=T("div"),ye=T("p"),ye.textContent=Ge,qe=N(),ge=T("p"),Fe=q(Ie),Me=N(),be=Je("svg"),re=Je("defs"),Oe=Je("clipPath"),Qe=Je("path"),this.h()},l(ae){e=P(ae,"DIV",{style:!0,class:!0});var x=k(e);t=P(x,"IMG",{src:!0,alt:!0,class:!0}),o=j(x),s=P(x,"DIV",{style:!0,class:!0});var J=k(s);l=P(J,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=j(J),f=P(J,"DIV",{class:!0,style:!0});var Z=k(f);v=P(Z,"DIV",{class:!0});var G=k(v);h=P(G,"P",{class:!0});var Ce=k(h);w=Q(Ce,y),Ce.forEach(C),b=j(G),F=P(G,"DIV",{class:!0});var bt=k(F);I=Q(bt,p),bt.forEach(C),G.forEach(C),D=j(Z),E=P(Z,"DIV",{class:!0});var Re=k(E);_=P(Re,"P",{class:!0});var _t=k(_);O=Q(_t,S),_t.forEach(C),M=j(Re),W=P(Re,"P",{});var He=k(W);z=Q(He,"("),H=Q(He,A),V=Q(He,")"),He.forEach(C),Re.forEach(C),R=j(Z),U=P(Z,"P",{class:!0});var Ft=k(U);L=Q(Ft,Y),Ft.forEach(C),B=j(Z),yr(K.$$.fragment,Z),ne=j(Z),ce=P(Z,"DIV",{class:!0});var Ye=k(ce);de=P(Ye,"DIV",{class:!0});var Ae=k(de);le=P(Ae,"P",{class:!0,"data-svelte-h":!0}),zt(le)!=="svelte-g6tq99"&&(le.textContent=Te),Ne=j(Ae),xe=P(Ae,"P",{class:!0});var et=k(xe);je=Q(et,Pe),et.forEach(C),Ae.forEach(C),Se=j(Ye),_e=P(Ye,"DIV",{class:!0}),k(_e).forEach(C),ft=j(Ye),De=P(Ye,"DIV",{class:!0});var tt=k(De);ye=P(tt,"P",{class:!0,"data-svelte-h":!0}),zt(ye)!=="svelte-1gbi7dm"&&(ye.textContent=Ge),qe=j(tt),ge=P(tt,"P",{class:!0});var rt=k(ge);Fe=Q(rt,Ie),rt.forEach(C),tt.forEach(C),Ye.forEach(C),Z.forEach(C),J.forEach(C),x.forEach(C),Me=j(ae),be=Ke(ae,"svg",{width:!0,height:!0});var Ct=k(be);re=Ke(Ct,"defs",{});var Et=k(re);Oe=Ke(Et,"clipPath",{id:!0,clipPathUnits:!0});var St=k(Oe);Qe=Ke(St,"path",{d:!0}),k(Qe).forEach(C),St.forEach(C),Et.forEach(C),Ct.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||vt)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1nresji"),me(l.src,u=r[0].imgUrl||vt)||g(l,"src",u),g(l,"alt",c=r[0].id),oe(l,"height","35%"),g(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-1nresji"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(F,"class","badge badge-glass my-auto py-0.5 px-1"),g(v,"class","flex gap-2 max-w-full"),g(_,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(E,"class","flex gap-1 text-center"),g(U,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),g(le,"class","text-xs font-bold uppercase opacity-40"),g(xe,"class",""),g(de,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(_e,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(ye,"class","text-xs font-bold uppercase opacity-40"),g(ge,"class",""),g(De,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(ce,"class","flex mt-auto w-full"),g(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),oe(f,"top","calc("+r[3]*.885+"px - 8rem)"),oe(s,"background","color-mix(in lch, rgb(var(--color-surface-"+(r[8]?100:900)+")) "+(r[8]?80:60)+"%, "+(r[6]||`rgb(var(--color-surface-${r[8]?100:600})`)+")",1),g(s,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(Qe,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Oe,"id","myCurve"),g(Oe,"clipPathUnits","objectBoundingBox"),g(be,"width","0"),g(be,"height","0")},m(ae,x){he(ae,e,x),d(e,t),d(e,o),d(e,s),d(s,l),d(s,m),d(s,f),d(f,v),d(v,h),d(h,w),d(v,b),d(v,F),d(F,I),d(f,D),d(f,E),d(E,_),d(_,O),d(E,M),d(E,W),d(W,z),d(W,H),d(W,V),d(f,R),d(f,U),d(U,L),d(f,B),wr(K,f,null),d(f,ne),d(f,ce),d(ce,de),d(de,le),d(de,Ne),d(de,xe),d(xe,je),d(ce,Se),d(ce,_e),d(ce,ft),d(ce,De),d(De,ye),d(De,qe),d(De,ge),d(ge,Fe),he(ae,Me,x),he(ae,be,x),d(be,re),d(re,Oe),d(Oe,Qe),ee=!0,se||(Be=yt(t,"outroend",function(){on(r[5])&&r[5].apply(this,arguments)}),se=!0)},p(ae,[x]){var Z;r=ae,(!ee||x&1&&!me(t.src,n=r[0].imgUrl||vt))&&g(t,"src",n),(!ee||x&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!ee||x&1&&!me(l.src,u=r[0].imgUrl||vt))&&g(l,"src",u),(!ee||x&1&&c!==(c=r[0].id))&&g(l,"alt",c),(!ee||x&1)&&y!==(y=((Z=r[0].game)==null?void 0:Z.name)+"")&&$(w,y),(!ee||x&1)&&p!==(p=r[0].tableFormat+"")&&$(I,p),(!ee||x&128)&&S!==(S=r[7].manufacturer+"")&&$(O,S),(!ee||x&128)&&A!==(A=r[7].year+"")&&$(H,A),(!ee||x&1)&&Y!==(Y=r[0].authors.join(", ")+"")&&$(L,Y);const J={};x&1&&(J.data=r[0].features),K.$set(J),(!ee||x&1)&&Pe!==(Pe=mt(r[0].updatedAt)+"")&&$(je,Pe),(!ee||x&1)&&Ie!==(Ie=mt(r[0].createdAt||r[0].updatedAt)+"")&&$(Fe,Ie),(!ee||x&8)&&oe(f,"top","calc("+r[3]*.885+"px - 8rem)"),(!ee||x&320)&&oe(s,"background","color-mix(in lch, rgb(var(--color-surface-"+(r[8]?100:900)+")) "+(r[8]?80:60)+"%, "+(r[6]||`rgb(var(--color-surface-${r[8]?100:600})`)+")",1),(!ee||x&2)&&oe(e,"left",r[1]+"px"),(!ee||x&4)&&oe(e,"top",r[2]+"px"),(!ee||x&16)&&oe(e,"width",r[4]+"px"),(!ee||x&8)&&oe(e,"height",r[3]+"px")},i(ae){ee||(ae&&Vt(()=>{ee&&(i||(i=Ze(t,r[10],{duration:Wt},!0)),i.run(1))}),ze(K.$$.fragment,ae),ae&&Vt(()=>{ee&&(we||(we=Ze(s,r[11],{duration:Wt},!0)),we.run(1))}),ee=!0)},o(ae){ae&&(i||(i=Ze(t,r[10],{duration:Wt},!1)),i.run(0)),$e(K.$$.fragment,ae),ae&&(we||(we=Ze(s,r[11],{duration:Wt},!1)),we.run(0)),ee=!1},d(ae){ae&&(C(e),C(Me),C(be)),ae&&i&&i.end(),br(K),ae&&we&&we.end(),se=!1,Be()}}}const Wt=100;function vo(r,e,t){let n,a,i;kt(r,fn,b=>t(8,i=b));const{dbStore:o}=ut;kt(r,o,b=>t(12,a=b));let{table:s=hn}=e,{left:l=0}=e,{top:u=0}=e,{height:c=0}=e,{width:m=0}=e,{onEnd:f=()=>{}}=e;const v=new lo;let h="";const y=(b,{duration:F,delay:p})=>({duration:F,delay:p,css:I=>{const D=Rt(I);return`
					transform: translateY(${D*-8}rem) scale(${1-D*.25});
					`}}),w=(b,{duration:F,delay:p})=>({duration:F,delay:p,css:I=>`
					transform: scale(${Rt(I)});
					`});return r.$$set=b=>{"table"in b&&t(0,s=b.table),"left"in b&&t(1,l=b.left),"top"in b&&t(2,u=b.top),"height"in b&&t(3,c=b.height),"width"in b&&t(4,m=b.width),"onEnd"in b&&t(5,f=b.onEnd)},r.$$.update=()=>{var b;r.$$.dirty&4097&&t(7,n=(b=s==null?void 0:s.game)!=null&&b.id?a[s.game.id]:Qt),r.$$.dirty&1&&s.imgUrl&&v.getColorAsync(s.imgUrl).then(F=>{F&&t(6,h=F.rgb)})},[s,l,u,c,m,f,h,n,i,o,y,w,a]}class mo extends st{constructor(e){super(),lt(this,e,vo,ho,ot,{table:0,left:1,top:2,height:3,width:4,onEnd:5})}}function an(r){let e,t;return e=new mo({props:{table:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[14]}}),{c(){pr(e.$$.fragment)},l(n){yr(e.$$.fragment,n)},m(n,a){wr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.table=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[14]),e.$set(i)},i(n){t||(ze(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){br(e,n)}}}function go(r){var U,Y;let e,t,n,a,i,o,s,l,u,c=((U=r[0].game)==null?void 0:U.name)+"",m,f,v,h=r[0].tableFormat+"",y,w,b,F=r[9].manufacturer+"",p,I,D=r[9].year+"",E,_,S,O,M=((Y=r[0].authors)==null?void 0:Y.join(", "))+"",W,z,A,H,V,R=r[7]&&an(r);return{c(){e=T("a"),R&&R.c(),t=N(),n=T("img"),o=N(),s=T("div"),l=T("div"),u=T("p"),m=q(c),f=N(),v=T("div"),y=q(h),w=N(),b=T("p"),p=q(F),I=q(" ("),E=q(D),_=q(")"),S=N(),O=T("p"),W=q(M),this.h()},l(L){e=P(L,"A",{class:!0,href:!0,id:!0});var B=k(e);R&&R.l(B),t=j(B),n=P(B,"IMG",{src:!0,alt:!0,class:!0}),o=j(B),s=P(B,"DIV",{class:!0});var K=k(s);l=P(K,"DIV",{class:!0});var ne=k(l);u=P(ne,"P",{class:!0});var ce=k(u);m=Q(ce,c),ce.forEach(C),f=j(ne),v=P(ne,"DIV",{class:!0});var de=k(v);y=Q(de,h),de.forEach(C),ne.forEach(C),w=j(K),b=P(K,"P",{});var le=k(b);p=Q(le,F),I=Q(le," ("),E=Q(le,D),_=Q(le,")"),le.forEach(C),S=j(K),O=P(K,"P",{class:!0});var Te=k(O);W=Q(Te,M),Te.forEach(C),K.forEach(C),B.forEach(C),this.h()},h(){me(n.src,a=r[0].imgUrl||vt)||g(n,"src",a),g(n,"alt",i=r[0].id),g(n,"class","card pinImage bg-surface-300-600-token svelte-134rv7p"),Bt(n,"hide",r[7]||r[8]),g(u,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(v,"class","badge badge-glass my-auto py-0.5 px-1"),g(l,"class","flex gap-2"),g(O,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(s,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1]),g(e,"id",z=r[0].id)},m(L,B){he(L,e,B),R&&R.m(e,null),d(e,t),d(e,n),r[15](n),d(e,o),d(e,s),d(s,l),d(l,u),d(u,m),d(l,f),d(l,v),d(v,y),d(s,w),d(s,b),d(b,p),d(b,I),d(b,E),d(b,_),d(s,S),d(s,O),d(O,W),A=!0,H||(V=[yt(e,"mouseenter",r[11]),yt(e,"mouseleave",r[12])],H=!0)},p(L,[B]){var K,ne;L[7]?R?(R.p(L,B),B&128&&ze(R,1)):(R=an(L),R.c(),ze(R,1),R.m(e,t)):R&&(ln(),$e(R,1,1,()=>{R=null}),un()),(!A||B&1&&!me(n.src,a=L[0].imgUrl||vt))&&g(n,"src",a),(!A||B&1&&i!==(i=L[0].id))&&g(n,"alt",i),(!A||B&384)&&Bt(n,"hide",L[7]||L[8]),(!A||B&1)&&c!==(c=((K=L[0].game)==null?void 0:K.name)+"")&&$(m,c),(!A||B&1)&&h!==(h=L[0].tableFormat+"")&&$(y,h),(!A||B&512)&&F!==(F=L[9].manufacturer+"")&&$(p,F),(!A||B&512)&&D!==(D=L[9].year+"")&&$(E,D),(!A||B&1)&&M!==(M=((ne=L[0].authors)==null?void 0:ne.join(", "))+"")&&$(W,M),(!A||B&2)&&g(e,"href",L[1]),(!A||B&1&&z!==(z=L[0].id))&&g(e,"id",z)},i(L){A||(ze(R),A=!0)},o(L){$e(R),A=!1},d(L){L&&C(e),R&&R.d(),r[15](null),H=!1,gr(V)}}}const po=200;function yo(r,e,t){let n,a,i;kt(r,Tn,D=>t(17,a=D));const{dbStore:o}=ut;kt(r,o,D=>t(13,i=D));let{file:s=hn}=e,{href:l=""}=e,u,c=0,m=0,f=0,v=0,h=!1,y=!1,w;const b=()=>{var E;if(!a.mobile)return;const D=u.getBoundingClientRect();t(3,c=D.left),t(4,m=D.top),t(6,v=D.width),t(5,f=D.height),(E=document.getElementById("page"))==null||E.addEventListener("scroll",F),w=setTimeout(()=>{t(7,h=!0),w=void 0},po)},F=()=>{var D;a.mobile&&((D=document.getElementById("page"))==null||D.removeEventListener("scroll",F),w?(t(7,h=!1),clearTimeout(w)):h&&(t(7,h=!1),t(8,y=!0)))},p=()=>t(8,y=!1);function I(D){sn[D?"unshift":"push"](()=>{u=D,t(2,u)})}return r.$$set=D=>{"file"in D&&t(0,s=D.file),"href"in D&&t(1,l=D.href)},r.$$.update=()=>{var D;r.$$.dirty&8193&&t(9,n=(D=s==null?void 0:s.game)!=null&&D.id?i[s.game.id]:Qt)},[s,l,u,c,m,f,v,h,y,n,o,b,F,i,p,I]}class wo extends st{constructor(e){super(),lt(this,e,yo,go,ot,{file:0,href:1})}}const Yo={game:{route:"games",name:"Games",component:Bi},tableFiles:{route:"tables",name:"Tables",component:wo},b2sFiles:{route:"b2s",name:"Backglasses",component:ga},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Ue},altColorFiles:{route:"altcolors",name:"Alt. Colors",component:Ue},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Ue},topperFiles:{route:"toppers",name:"Toppers",component:Ue},romFiles:{route:"roms",name:"Roms",component:Ue},povFiles:{route:"pov",name:"POVs",component:Ue},soundFiles:{route:"sounds",name:"Sounds",component:Ue},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Ue},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Ue},ruleFiles:{route:"rules",name:"Rules",component:Ue}};export{ut as A,Vo as B,lo as C,xo as D,Bn as E,co as F,Ro as G,wo as H,Nt as P,Bo as S,zo as T,Do as a,Po as b,ko as c,Mo as d,We as e,To as f,So as g,Co as h,Io as i,Uo as j,Wo as k,xt as l,fn as m,Lo as n,kn as o,Ao as p,Yo as q,mt as r,Oo as s,Tn as t,Eo as u,vt as v,hn as w,ht as x,Qt as y,Ho as z};
