function l(e,t){const i=()=>{e.dispatchEvent(new CustomEvent("copyComplete"))},r=()=>{if(typeof t=="object"){if("element"in t){const n=document.querySelector(`[data-clipboard="${t.element}"]`);if(!n)throw new Error(`Missing HTMLElement with an attribute of [data-clipboard="${t.element}"]`);o(n.innerHTML,"text/html").then(i);return}if("input"in t){const n=document.querySelector(`[data-clipboard="${t.input}"]`);if(!n)throw new Error(`Missing HTMLInputElement with an attribute of [data-clipboard="${t.input}"]`);o(n.value).then(i);return}}o(t).then(i)};return e.addEventListener("click",r),{update(n){t=n},destroy(){e.removeEventListener("click",r)}}}async function o(e,t="text/plain"){navigator.clipboard.write?await navigator.clipboard.write([new ClipboardItem({[t]:new Blob([e],{type:t}),"text/plain":new Blob([e],{type:"text/plain"})})]):await new Promise(i=>{i(navigator.clipboard.writeText(String(e)))})}export{l as c};
