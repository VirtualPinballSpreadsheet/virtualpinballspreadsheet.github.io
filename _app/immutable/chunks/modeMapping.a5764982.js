import{w as ze,d as Pe}from"./index.ac37785c.js";import{O as ir,v as or,s as mt,f as P,a as q,l as Q,g as A,h as x,c as R,m as X,d as C,U as me,j as g,i as ge,A as d,n as Z,r as Ot,$ as Mt,Q as Ke,a0 as xt,R as Ze,k as oe,H as vt,V as Wr,N as kt,W as Ut,p as Vr,J as Lr}from"./scheduler.dedae0ab.js";import{a as je,t as it,S as gt,i as pt,o as $e,g as Yr,c as Br,b as Nr,d as jr,m as Gr,e as qr}from"./index.21d01676.js";function Ie(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function oa(r,e){it(r,1,1,()=>{e.delete(r.key)})}function bi(r,e){r.f(),oa(r,e)}function _i(r,e,t,a,n,i,o,l,u,f,c,m){let s=r.length,v=i.length,h=s;const p={};for(;h--;)p[r[h].key]=h;const y=[],F=new Map,w=new Map,b=[];for(h=v;h--;){const _=m(n,i,h),E=t(_);let M=o.get(E);M?a&&b.push(()=>M.p(_,e)):(M=f(E,_),M.c()),F.set(E,y[h]=M),E in p&&w.set(E,Math.abs(h-p[E]))}const T=new Set,I=new Set;function D(_){je(_,1),_.m(l,c),o.set(_.key,_),c=_.first,v--}for(;s&&v;){const _=y[v-1],E=r[s-1],M=_.key,O=E.key;_===E?(c=_.first,s--,v--):F.has(O)?!o.has(M)||T.has(M)?D(_):I.has(O)?s--:w.get(M)>w.get(O)?(I.add(M),D(_)):(T.add(O),s--):(u(E,o),s--)}for(;s--;){const _=r[s];F.has(_.key)||u(_,o)}for(;v;)D(y[v-1]);return ir(b),y}function Fi(r,e){const t={},a={},n={$$scope:1};let i=r.length;for(;i--;){const o=r[i],l=e[i];if(l){for(const u in o)u in l||(a[u]=1);for(const u in l)n[u]||(t[u]=l[u],n[u]=1);r[i]=l}else for(const u in o)n[u]=1}for(const o in a)o in t||(t[o]=void 0);return t}function Ci(r){return typeof r=="object"&&r!==null?r:{}}function Ei(r){const e=r-1;return e*e*e+1}function It(r){return r/=.5,r<1?.5*r*r:(r--,-.5*(r*(r-2)-1))}const zt=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],Rr={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},Nt={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},la={authors:[],id:"",updatedAt:0,urls:[]},ua={authors:[],id:"",updatedAt:0,urls:[]};var ie=function(){return ie=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ie.apply(this,arguments)};function sa(r,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(c){try{f(a.next(c))}catch(m){o(m)}}function u(c){try{f(a.throw(c))}catch(m){o(m)}}function f(c){c.done?i(c.value):n(c.value).then(l,u)}f((a=a.apply(r,e||[])).next())})}function fa(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(c){return u([f,c])}}function u(f){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(a=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],n=0}finally{a=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function J(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],a=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var a=t.call(r),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i}var ca="ENTRIES",Hr="KEYS",Qr="VALUES",ve="",Ht=function(){function r(e,t){var a=e._tree,n=Array.from(a.keys());this.set=e,this._type=t,this._path=n.length>0?[{node:a,keys:n}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=st(this._path),t=e.node,a=e.keys;if(st(a)===ve)return{done:!1,value:this.result()};var n=t.get(st(a));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=st(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return st(t)}).filter(function(e){return e!==ve}).join("")},r.prototype.value=function(){return st(this._path).node.get(ve)},r.prototype.result=function(){switch(this._type){case Qr:return this.value();case Hr:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),st=function(r){return r[r.length-1]},da=function(r,e,t){var a=new Map;if(e===void 0)return a;for(var n=e.length+1,i=n+t,o=new Uint8Array(i*n).fill(t+1),l=0;l<n;++l)o[l]=l;for(var u=1;u<i;++u)o[u*n]=u;return Xr(r,e,t,a,o,1,n,""),a},Xr=function(r,e,t,a,n,i,o,l){var u,f,c=i*o;try{e:for(var m=J(r.keys()),s=m.next();!s.done;s=m.next()){var v=s.value;if(v===ve){var h=n[c-1];h<=t&&a.set(l,[r.get(v),h])}else{for(var p=i,y=0;y<v.length;++y,++p){for(var F=v[y],w=o*p,b=w-o,T=n[w],I=Math.max(0,p-t-1),D=Math.min(o-1,p+t),_=I;_<D;++_){var E=F!==e[_],M=n[b+_]+ +E,O=n[b+_+1]+1,Y=n[w+_]+1,S=n[w+_+1]=Math.min(M,O,Y);S<T&&(T=S)}if(T>t)continue e}Xr(r.get(v),e,t,a,n,p,o,l+v)}}}catch(j){u={error:j}}finally{try{s&&!s.done&&(f=m.return)&&f.call(m)}finally{if(u)throw u.error}}},Qt=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,a;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var n=fe(Wt(this._tree,e.slice(this._prefix.length)),2),i=n[0],o=n[1];if(i===void 0){var l=fe(lr(o),2),u=l[0],f=l[1];try{for(var c=J(u.keys()),m=c.next();!m.done;m=c.next()){var s=m.value;if(s!==ve&&s.startsWith(f)){var v=new Map;return v.set(s.slice(f.length),u.get(s)),new r(v,e)}}}catch(h){t={error:h}}finally{try{m&&!m.done&&(a=c.return)&&a.call(c)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,ha(this._tree,e)},r.prototype.entries=function(){return new Ht(this,ca)},r.prototype.forEach=function(e){var t,a;try{for(var n=J(this),i=n.next();!i.done;i=n.next()){var o=fe(i.value,2),l=o[0],u=o[1];e(l,u,this)}}catch(f){t={error:f}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return da(this._tree,e,t)},r.prototype.get=function(e){var t=tr(this._tree,e);return t!==void 0?t.get(ve):void 0},r.prototype.has=function(e){var t=tr(this._tree,e);return t!==void 0&&t.has(ve)},r.prototype.keys=function(){return new Ht(this,Hr)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var a=Xt(this._tree,e);return a.set(ve,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var a=Xt(this._tree,e);return a.set(ve,t(a.get(ve))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var a=Xt(this._tree,e),n=a.get(ve);return n===void 0&&a.set(ve,n=t()),n},r.prototype.values=function(){return new Ht(this,Qr)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,a,n=new r;try{for(var i=J(e),o=i.next();!o.done;o=i.next()){var l=fe(o.value,2),u=l[0],f=l[1];n.set(u,f)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}return n},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),Wt=function(r,e,t){var a,n;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=J(r.keys()),o=i.next();!o.done;o=i.next()){var l=o.value;if(l!==ve&&e.startsWith(l))return t.push([r,l]),Wt(r.get(l),e.slice(l.length),t)}}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return t.push([r,e]),Wt(void 0,"",t)},tr=function(r,e){var t,a;if(e.length===0||r==null)return r;try{for(var n=J(r.keys()),i=n.next();!i.done;i=n.next()){var o=i.value;if(o!==ve&&e.startsWith(o))return tr(r.get(o),e.slice(o.length))}}catch(l){t={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}},Xt=function(r,e){var t,a,n=e.length;e:for(var i=0;r&&i<n;){try{for(var o=(t=void 0,J(r.keys())),l=o.next();!l.done;l=o.next()){var u=l.value;if(u!==ve&&e[i]===u[0]){for(var f=Math.min(n-i,u.length),c=1;c<f&&e[i+c]===u[c];)++c;var m=r.get(u);if(c===u.length)r=m;else{var s=new Map;s.set(u.slice(c),m),r.set(e.slice(i,i+c),s),r.delete(u),r=s}i+=c;continue e}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(t)throw t.error}}var v=new Map;return r.set(e.slice(i),v),v}return r},ha=function(r,e){var t=fe(Wt(r,e),2),a=t[0],n=t[1];if(a!==void 0){if(a.delete(ve),a.size===0)Jr(n);else if(a.size===1){var i=fe(a.entries().next().value,2),o=i[0],l=i[1];Kr(n,o,l)}}},Jr=function(r){if(r.length!==0){var e=fe(lr(r),2),t=e[0],a=e[1];if(t.delete(a),t.size===0)Jr(r.slice(0,-1));else if(t.size===1){var n=fe(t.entries().next().value,2),i=n[0],o=n[1];i!==ve&&Kr(r.slice(0,-1),i,o)}}},Kr=function(r,e,t){if(r.length!==0){var a=fe(lr(r),2),n=a[0],i=a[1];n.set(i+e,t),n.delete(i)}},lr=function(r){return r[r.length-1]},Et,ur="or",Zr="and",va="and_not",ma=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?Zt:e.autoVacuum;this._options=ie(ie(ie({},Kt),e),{autoVacuum:t,searchOptions:ie(ie({},gr),e.searchOptions||{}),autoSuggestOptions:ie(ie({},ba),e.autoSuggestOptions||{})}),this._index=new Qt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=ar,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,a,n,i,o,l,u=this._options,f=u.extractField,c=u.tokenize,m=u.processTerm,s=u.fields,v=u.idField,h=f(e,v);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(v,'"'));if(this._idToShortId.has(h))throw new Error("MiniSearch: duplicate ID ".concat(h));var p=this.addDocumentId(h);this.saveStoredFields(p,e);try{for(var y=J(s),F=y.next();!F.done;F=y.next()){var w=F.value,b=f(e,w);if(b!=null){var T=c(b.toString(),w),I=this._fieldIds[w],D=new Set(T).size;this.addFieldLength(p,I,this._documentCount-1,D);try{for(var _=(n=void 0,J(T)),E=_.next();!E.done;E=_.next()){var M=E.value,O=m(M,w);if(Array.isArray(O))try{for(var Y=(o=void 0,J(O)),S=Y.next();!S.done;S=Y.next()){var j=S.value;this.addTerm(I,p,j)}}catch(U){o={error:U}}finally{try{S&&!S.done&&(l=Y.return)&&l.call(Y)}finally{if(o)throw o.error}}else O&&this.addTerm(I,p,O)}}catch(U){n={error:U}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}}}}catch(U){t={error:U}}finally{try{F&&!F.done&&(a=y.return)&&a.call(y)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,a;try{for(var n=J(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.add(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var a=this;t===void 0&&(t={});var n=t.chunkSize,i=n===void 0?10:n,o={chunk:[],promise:Promise.resolve()},l=e.reduce(function(c,m,s){var v=c.chunk,h=c.promise;return v.push(m),(s+1)%i===0?{chunk:[],promise:h.then(function(){return new Promise(function(p){return setTimeout(p,0)})}).then(function(){return a.addAll(v)})}:{chunk:v,promise:h}},o),u=l.chunk,f=l.promise;return f.then(function(){return a.addAll(u)})},r.prototype.remove=function(e){var t,a,n,i,o,l,u=this._options,f=u.tokenize,c=u.processTerm,m=u.extractField,s=u.fields,v=u.idField,h=m(e,v);if(h==null)throw new Error('MiniSearch: document does not have ID field "'.concat(v,'"'));var p=this._idToShortId.get(h);if(p==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(h,": it is not in the index"));try{for(var y=J(s),F=y.next();!F.done;F=y.next()){var w=F.value,b=m(e,w);if(b!=null){var T=f(b.toString(),w),I=this._fieldIds[w],D=new Set(T).size;this.removeFieldLength(p,I,this._documentCount,D);try{for(var _=(n=void 0,J(T)),E=_.next();!E.done;E=_.next()){var M=E.value,O=c(M,w);if(Array.isArray(O))try{for(var Y=(o=void 0,J(O)),S=Y.next();!S.done;S=Y.next()){var j=S.value;this.removeTerm(I,p,j)}}catch(U){o={error:U}}finally{try{S&&!S.done&&(l=Y.return)&&l.call(Y)}finally{if(o)throw o.error}}else O&&this.removeTerm(I,p,O)}}catch(U){n={error:U}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}}}}catch(U){t={error:U}}finally{try{F&&!F.done&&(a=y.return)&&a.call(y)}finally{if(t)throw t.error}}this._storedFields.delete(p),this._documentIds.delete(p),this._idToShortId.delete(h),this._fieldLength.delete(p),this._documentCount-=1},r.prototype.removeAll=function(e){var t,a;if(e)try{for(var n=J(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.remove(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Qt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,a=this._idToShortId.get(e);if(a==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(a),this._storedFields.delete(a),(this._fieldLength.get(a)||[]).forEach(function(n,i){t.removeFieldLength(a,i,t._documentCount,n)}),this._fieldLength.delete(a),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,a=e.minDirtCount,n=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:n,batchWait:i},{minDirtCount:a,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,a,n=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=J(e),o=i.next();!o.done;o=i.next()){var l=o.value;this.discard(l)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,a=t.idField,n=t.extractField,i=n(e,a);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var a=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var n=a._enqueuedVacuumConditions;return a._enqueuedVacuumConditions=ar,a.performVacuuming(e,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return sa(this,void 0,void 0,function(){var a,n,i,o,l,u,f,c,m,s,v,h,p,y,F,w,b,T,I,D,_,E,M,O,Y;return fa(this,function(S){switch(S.label){case 0:if(a=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];n=e.batchSize||rr.batchSize,i=e.batchWait||rr.batchWait,o=1,S.label=1;case 1:S.trys.push([1,7,8,9]),l=J(this._index),u=l.next(),S.label=2;case 2:if(u.done)return[3,6];f=fe(u.value,2),c=f[0],m=f[1];try{for(s=(E=void 0,J(m)),v=s.next();!v.done;v=s.next()){h=fe(v.value,2),p=h[0],y=h[1];try{for(F=(O=void 0,J(y)),w=F.next();!w.done;w=F.next())b=fe(w.value,1),T=b[0],!this._documentIds.has(T)&&(y.size<=1?m.delete(p):y.delete(T))}catch(j){O={error:j}}finally{try{w&&!w.done&&(Y=F.return)&&Y.call(F)}finally{if(O)throw O.error}}}}catch(j){E={error:j}}finally{try{v&&!v.done&&(M=s.return)&&M.call(s)}finally{if(E)throw E.error}}return this._index.get(c).size===0&&this._index.delete(c),o%n!==0?[3,4]:[4,new Promise(function(j){return setTimeout(j,i)})];case 3:S.sent(),S.label=4;case 4:o+=1,S.label=5;case 5:return u=l.next(),[3,2];case 6:return[3,9];case 7:return I=S.sent(),D={error:I},[3,9];case 8:try{u&&!u.done&&(_=l.return)&&_.call(l)}finally{if(D)throw D.error}return[7];case 9:this._dirtCount-=a,S.label=10;case 10:return[4,null];case 11:return S.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,a=e.minDirtFactor;return t=t||Zt.minDirtCount,a=a||Zt.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=a},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var a,n;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var l=J(i),u=l.next();!u.done;u=l.next()){var f=fe(u.value,2),c=f[0],m=f[1],s=m.score,v=m.terms,h=m.match,p=v.length,y={id:this._documentIds.get(c),score:s*p,terms:Object.keys(h),match:h};Object.assign(y,this._storedFields.get(c)),(t.filter==null||t.filter(y))&&o.push(y)}}catch(F){a={error:F}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return o.sort(yr),o},r.prototype.autoSuggest=function(e,t){var a,n,i,o;t===void 0&&(t={}),t=ie(ie({},this._options.autoSuggestOptions),t);var l=new Map;try{for(var u=J(this.search(e,t)),f=u.next();!f.done;f=u.next()){var c=f.value,m=c.score,s=c.terms,v=s.join(" "),h=l.get(v);h!=null?(h.score+=m,h.count+=1):l.set(v,{score:m,terms:s,count:1})}}catch(I){a={error:I}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}var p=[];try{for(var y=J(l),F=y.next();!F.done;F=y.next()){var w=fe(F.value,2),h=w[0],b=w[1],m=b.score,s=b.terms,T=b.count;p.push({suggestion:h,terms:s,score:m/T})}}catch(I){i={error:I}}finally{try{F&&!F.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}return p.sort(yr),p},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(Kt.hasOwnProperty(e))return Jt(Kt,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var a,n,i,o,l,u,f=e.index,c=e.documentCount,m=e.nextId,s=e.documentIds,v=e.fieldIds,h=e.fieldLength,p=e.averageFieldLength,y=e.storedFields,F=e.dirtCount,w=e.serializationVersion;if(w!==1&&w!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var b=new r(t);b._documentCount=c,b._nextId=m,b._documentIds=Tt(s),b._idToShortId=new Map,b._fieldIds=v,b._fieldLength=Tt(h),b._avgFieldLength=p,b._storedFields=Tt(y),b._dirtCount=F||0,b._index=new Qt;try{for(var T=J(b._documentIds),I=T.next();!I.done;I=T.next()){var D=fe(I.value,2),_=D[0],E=D[1];b._idToShortId.set(E,_)}}catch(L){a={error:L}}finally{try{I&&!I.done&&(n=T.return)&&n.call(T)}finally{if(a)throw a.error}}try{for(var M=J(f),O=M.next();!O.done;O=M.next()){var Y=fe(O.value,2),S=Y[0],j=Y[1],U=new Map;try{for(var z=(l=void 0,J(Object.keys(j))),k=z.next();!k.done;k=z.next()){var B=k.value,V=j[B];w===1&&(V=V.ds),U.set(parseInt(B,10),Tt(V))}}catch(L){l={error:L}}finally{try{k&&!k.done&&(u=z.return)&&u.call(z)}finally{if(l)throw l.error}}b._index.set(S,U)}}catch(L){i={error:L}}finally{try{O&&!O.done&&(o=M.return)&&o.call(M)}finally{if(i)throw i.error}}return b},r.prototype.executeQuery=function(e,t){var a=this;if(t===void 0&&(t={}),typeof e!="string"){var n=ie(ie(ie({},t),e),{queries:void 0}),i=e.queries.map(function(y){return a.executeQuery(y,n)});return this.combineResults(i,n.combineWith)}var o=this._options,l=o.tokenize,u=o.processTerm,f=o.searchOptions,c=ie(ie({tokenize:l,processTerm:u},f),t),m=c.tokenize,s=c.processTerm,v=m(e).flatMap(function(y){return s(y)}).filter(function(y){return!!y}),h=v.map(wa(c)),p=h.map(function(y){return a.executeQuerySpec(y,c)});return this.combineResults(p,c.combineWith)},r.prototype.executeQuerySpec=function(e,t){var a,n,i,o,l=ie(ie({},this._options.searchOptions),t),u=(l.fields||this._options.fields).reduce(function(B,V){var L;return ie(ie({},B),(L={},L[V]=Jt(l.boost,V)||1,L))},{}),f=l.boostDocument,c=l.weights,m=l.maxFuzzy,s=l.bm25,v=ie(ie({},gr.weights),c),h=v.fuzzy,p=v.prefix,y=this._index.get(e.term),F=this.termResults(e.term,e.term,1,y,u,f,s),w,b;if(e.prefix&&(w=this._index.atPrefix(e.term)),e.fuzzy){var T=e.fuzzy===!0?.2:e.fuzzy,I=T<1?Math.min(m,Math.round(e.term.length*T)):T;I&&(b=this._index.fuzzyGet(e.term,I))}if(w)try{for(var D=J(w),_=D.next();!_.done;_=D.next()){var E=fe(_.value,2),M=E[0],O=E[1],Y=M.length-e.term.length;if(Y){b==null||b.delete(M);var S=p*M.length/(M.length+.3*Y);this.termResults(e.term,M,S,O,u,f,s,F)}}}catch(B){a={error:B}}finally{try{_&&!_.done&&(n=D.return)&&n.call(D)}finally{if(a)throw a.error}}if(b)try{for(var j=J(b.keys()),U=j.next();!U.done;U=j.next()){var M=U.value,z=fe(b.get(M),2),k=z[0],Y=z[1];if(Y){var S=h*M.length/(M.length+Y);this.termResults(e.term,M,S,k,u,f,s,F)}}}catch(B){i={error:B}}finally{try{U&&!U.done&&(o=j.return)&&o.call(j)}finally{if(i)throw i.error}}return F},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=ur),e.length===0)return new Map;var a=t.toLowerCase();return e.reduce(ga[a])||new Map},r.prototype.toJSON=function(){var e,t,a,n,i=[];try{for(var o=J(this._index),l=o.next();!l.done;l=o.next()){var u=fe(l.value,2),f=u[0],c=u[1],m={};try{for(var s=(a=void 0,J(c)),v=s.next();!v.done;v=s.next()){var h=fe(v.value,2),p=h[0],y=h[1];m[p]=Object.fromEntries(y)}}catch(F){a={error:F}}finally{try{v&&!v.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}i.push([f,m])}}catch(F){e={error:F}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,a,n,i,o,l,u){var f,c,m,s,v;if(u===void 0&&(u=new Map),n==null)return u;try{for(var h=J(Object.keys(i)),p=h.next();!p.done;p=h.next()){var y=p.value,F=i[y],w=this._fieldIds[y],b=n.get(w);if(b!=null){var T=b.size,I=this._avgFieldLength[w];try{for(var D=(m=void 0,J(b.keys())),_=D.next();!_.done;_=D.next()){var E=_.value;if(!this._documentIds.has(E)){this.removeTerm(w,E,t),T-=1;continue}var M=o?o(this._documentIds.get(E),t,this._storedFields.get(E)):1;if(M){var O=b.get(E),Y=this._fieldLength.get(E)[w],S=ya(O,T,this._documentCount,Y,I,l),j=a*F*M*S,U=u.get(E);if(U){U.score+=j,_a(U.terms,e);var z=Jt(U.match,t);z?z.push(y):U.match[t]=[y]}else u.set(E,{score:j,terms:[e],match:(v={},v[t]=[y],v)})}}}catch(k){m={error:k}}finally{try{_&&!_.done&&(s=D.return)&&s.call(D)}finally{if(m)throw m.error}}}}}catch(k){f={error:k}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(f)throw f.error}}return u},r.prototype.addTerm=function(e,t,a){var n=this._index.fetch(a,wr),i=n.get(e);if(i==null)i=new Map,i.set(t,1),n.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,a){if(!this._index.has(a)){this.warnDocumentChanged(t,e,a);return}var n=this._index.fetch(a,wr),i=n.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,a):i.get(t)<=1?i.size<=1?n.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(a).size===0&&this._index.delete(a)},r.prototype.warnDocumentChanged=function(e,t,a){var n,i;try{for(var o=J(Object.keys(this._fieldIds)),l=o.next();!l.done;l=o.next()){var u=l.value;if(this._fieldIds[u]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(a,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,a,n){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=n;var o=this._avgFieldLength[t]||0,l=o*a+n;this._avgFieldLength[t]=l/(a+1)},r.prototype.removeFieldLength=function(e,t,a,n){if(a===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*a-n;this._avgFieldLength[t]=i/(a-1)},r.prototype.saveStoredFields=function(e,t){var a,n,i=this._options,o=i.storeFields,l=i.extractField;if(!(o==null||o.length===0)){var u=this._storedFields.get(e);u==null&&this._storedFields.set(e,u={});try{for(var f=J(o),c=f.next();!c.done;c=f.next()){var m=c.value,s=l(t,m);s!==void 0&&(u[m]=s)}}catch(v){a={error:v}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(a)throw a.error}}}},r}(),Jt=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},ga=(Et={},Et[ur]=function(r,e){var t,a;try{for(var n=J(e.keys()),i=n.next();!i.done;i=n.next()){var o=i.value,l=r.get(o);if(l==null)r.set(o,e.get(o));else{var u=e.get(o),f=u.score,c=u.terms,m=u.match;l.score=l.score+f,l.match=Object.assign(l.match,m),pr(l.terms,c)}}}catch(s){t={error:s}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}return r},Et[Zr]=function(r,e){var t,a,n=new Map;try{for(var i=J(e.keys()),o=i.next();!o.done;o=i.next()){var l=o.value,u=r.get(l);if(u!=null){var f=e.get(l),c=f.score,m=f.terms,s=f.match;pr(u.terms,m),n.set(l,{score:u.score+c,terms:u.terms,match:Object.assign(u.match,s)})}}}catch(v){t={error:v}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}return n},Et[va]=function(r,e){var t,a;try{for(var n=J(e.keys()),i=n.next();!i.done;i=n.next()){var o=i.value;r.delete(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}return r},Et),pa={k:1.2,b:.7,d:.5},ya=function(r,e,t,a,n,i){var o=i.k,l=i.b,u=i.d,f=Math.log(1+(t-e+.5)/(e+.5));return f*(u+r*(o+1)/(r+o*(1-l+l*a/n)))},wa=function(r){return function(e,t,a){var n=typeof r.fuzzy=="function"?r.fuzzy(e,t,a):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,a):r.prefix===!0;return{term:e,fuzzy:n,prefix:i}}},Kt={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(Fa)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},gr={combineWith:ur,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:pa},ba={combineWith:Zr,prefix:function(r,e,t){return e===t.length-1}},rr={batchSize:1e3,batchWait:10},ar={minDirtFactor:.1,minDirtCount:20},Zt=ie(ie({},rr),ar),_a=function(r,e){r.includes(e)||r.push(e)},pr=function(r,e){var t,a;try{for(var n=J(e),i=n.next();!i.done;i=n.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}},yr=function(r,e){var t=r.score,a=e.score;return a-t},wr=function(){return new Map},Tt=function(r){var e,t,a=new Map;try{for(var n=J(Object.keys(r)),i=n.next();!i.done;i=n.next()){var o=i.value;a.set(parseInt(o,10),r[o])}}catch(l){e={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return a},Fa=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const sr=ze({}),Ca=async()=>{try{const e=await(await fetch("https://fraesh.github.io/vps-db/vpsdb.json")).json(),t={};e.forEach(a=>{const n=a.id;t[n]=a}),sr.set(t)}catch(r){console.log(r)}},Ea=r=>{var a,n;const t=or(sr)[r];if(t){if(t.imgUrl)return t.imgUrl;if((a=t.b2sFiles)!=null&&a.length&&t.b2sFiles[0].imgUrl)return t.b2sFiles[0].imgUrl;if((n=t.tableFiles)!=null&&n.length&&t.tableFiles[0].imgUrl)return t.tableFiles[0].imgUrl}},lt={fetchDb:Ca,getGameImage:Ea,dbStore:sr},jt=Pe(lt.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),$r=Pe(lt.dbStore,r=>{const e=Object.values(r),t={};for(const a of zt)t[a]=[];for(const a of e)for(const n of zt){const i=a[n];Array.isArray(i)&&(t[n]=(t[n]||[]).concat(i.map(o=>({...o,game:{id:a.id,name:a.name}}))))}return Object.entries(t).forEach(([a,n])=>{t[a]=n.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),ea=ze(""),ta=ze("game"),yt=ze(!1),fr=ze({active:!1,value:[0,10]}),Gt=ze({active:!1,value:[],options:[]}),cr=ze({active:!1,value:[],options:[]}),dr=ze({active:!1,value:[],options:[]}),hr=ze({active:!1,value:[],options:[]}),Da=ze("lastUpdated");let $t;const ra=Pe(ea,(r,e)=>{$t&&clearTimeout($t),$t=setTimeout(()=>e(r),300)}),Sa=Pe([ra,fr,Gt],([r,e,t])=>r||e.active||t.active),nr=new ma({fields:["name","manufacturer","designers",...zt],extractField:(r,e)=>{var t;if(zt.includes(e)){const a=(t=r[e])==null?void 0:t.reduce((n,i)=>[...n,...i.authors||[]],[]);return(a==null?void 0:a.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});jt.subscribe(r=>{nr.removeAll(),nr.addAll(Object.values(r));let e=[],t=[],a=[],n=[];const i=[9999,0];r.forEach(o=>{o.features&&(e=e.concat(o.features)),o.theme&&(t=t.concat(o.theme)),o.manufacturer&&(a=a.concat(o.manufacturer)),o.year<i[0]&&(i[0]=o.year),o.year>i[1]&&(i[1]=o.year),o.tableFiles&&o.tableFiles.forEach(l=>{n=n.concat(l.authors)})}),cr.update(o=>({...o,options:Array.from(new Set(e)).map(l=>({label:l,value:l}))})),dr.update(o=>({...o,options:Array.from(new Set(t)).map(l=>({label:l,value:l}))})),Gt.update(o=>({...o,options:Array.from(new Set(a)).map(l=>({label:l,value:l}))})),hr.update(o=>({...o,options:Array.from(new Set(n)).map(l=>({label:l,value:l}))}))});const Ma=Pe([ra,jt],([r,e])=>r?nr.search(r.toLowerCase(),{prefix:!0,fuzzy:.2,combineWith:"AND"}):void 0),Ta=Pe([ta,Ma,jt,$r],([r,e,t,a])=>{var f;if(!e)return r==="game"?t:a[r]||[];const n=or(lt.dbStore);if(r==="game")return e.map(c=>n[c.id]);const i=["name","manufacturer","designers",r],o=["name","manufacturer","designers"],l=e.filter(c=>Object.values(c.match).some(m=>m.some(s=>i.includes(s)))),u=[];for(const c of l){const m=n[c.id],s=m==null?void 0:m[r];if(!(s!=null&&s.length))continue;if(Object.values(c.match).some(h=>h.some(p=>o.includes(p)))){u.push(...s.map(h=>({...h,game:{id:m.id,name:m.name}})));continue}const v=(f=Object.entries(c.match).find(([h,p])=>p.some(y=>y===r)))==null?void 0:f[0];v&&s.forEach(h=>{var p;(p=h.authors)!=null&&p.some(y=>y.includes(v))&&u.push({...h,game:{id:m.id,name:m.name}})})}return u}),vr=(r,e)=>{if(r[0].game){const t=or(lt.dbStore);return r.filter(a=>{var i;if(!((i=a.game)!=null&&i.id))return;const n=t[a.game.id];if(n)return e(n)})}else return r.filter(e)},Pa=Pe([yt,fr,Ta],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:vr(t,a=>a.players!==void 0&&a.players>=e.value[0]&&a.players<=e.value[1])),Aa=Pe([yt,Gt,Pa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:vr(t,a=>e.value.includes(a.manufacturer))),Oa=Pe([yt,dr,Aa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:vr(t,a=>e.value.some(n=>{var i;return(i=a.theme)==null?void 0:i.includes(n)}))),xa=Pe([yt,hr,Oa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:t.filter(a=>{var n,i;return a.game?(n=a.authors)==null?void 0:n.some(o=>e.value.includes(o)):(i=a.tableFiles)==null?void 0:i.some(o=>{var l;return(l=o.authors)==null?void 0:l.some(u=>e.value.includes(u))})})),ka=Pe([yt,cr,xa],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:t.filter(a=>{var n,i;return a.game?(n=a.features)==null?void 0:n.some(o=>e.value.includes(o)):(i=a.tableFiles)==null?void 0:i.some(o=>{var l;return(l=o.features)==null?void 0:l.some(u=>e.value.includes(u))})})),Ua=ka,Di={sortedDbStore:jt,sortedFilesStore:$r,finalResultsStore:Ua,query:ea,mode:ta,filterActive:yt,players:fr,manufacturer:Gt,theme:dr,author:hr,features:cr,sortBy:Da,isSearchActive:Sa},Vt=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function br(r,e,t){const a=r.slice();return a[2]=e[t],a}function _r(r){let e,t=r[2]+"",a,n;return{c(){e=P("div"),a=Q(t),n=q(),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=x(e);a=X(o,t),n=R(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ge(i,e,o),d(e,a),d(e,n)},p(i,o){o&1&&t!==(t=i[2]+"")&&Z(a,t)},d(i){i&&C(e)}}}function Ia(r){var T,I;let e,t,a,n,i,o,l,u,f,c,m=((T=r[0].game)==null?void 0:T.name)+"",s,v,h,p,y=((I=r[0].authors)==null?void 0:I.join(", "))+"",F,w=Ie(r[0].features||[]),b=[];for(let D=0;D<w.length;D+=1)b[D]=_r(br(r,w,D));return{c(){e=P("a"),t=P("img"),i=q(),o=P("hr"),l=q(),u=P("div"),f=P("div"),c=P("p"),s=Q(m),v=q();for(let D=0;D<b.length;D+=1)b[D].c();h=q(),p=P("h4"),F=Q(y),this.h()},l(D){e=A(D,"A",{href:!0,class:!0});var _=x(e);t=A(_,"IMG",{src:!0,alt:!0,class:!0}),i=R(_),o=A(_,"HR",{}),l=R(_),u=A(_,"DIV",{class:!0});var E=x(u);f=A(E,"DIV",{class:!0});var M=x(f);c=A(M,"P",{class:!0});var O=x(c);s=X(O,m),O.forEach(C),v=R(M);for(let S=0;S<b.length;S+=1)b[S].l(M);M.forEach(C),h=R(E),p=A(E,"H4",{class:!0});var Y=x(p);F=X(Y,y),Y.forEach(C),E.forEach(C),_.forEach(C),this.h()},h(){me(t.src,a=r[0].imgUrl||Vt)||g(t,"src",a),g(t,"alt",n=r[0].id),g(t,"class","card aspectTable svelte-1mrpffe"),g(c,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(f,"class","flex gap-2"),g(p,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex flex-col py-4"),g(e,"href",r[1]),g(e,"class","overflow-hidden flex flex-col")},m(D,_){ge(D,e,_),d(e,t),d(e,i),d(e,o),d(e,l),d(e,u),d(u,f),d(f,c),d(c,s),d(f,v);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(f,null);d(u,h),d(u,p),d(p,F)},p(D,[_]){var E,M;if(_&1&&!me(t.src,a=D[0].imgUrl||Vt)&&g(t,"src",a),_&1&&n!==(n=D[0].id)&&g(t,"alt",n),_&1&&m!==(m=((E=D[0].game)==null?void 0:E.name)+"")&&Z(s,m),_&1){w=Ie(D[0].features||[]);let O;for(O=0;O<w.length;O+=1){const Y=br(D,w,O);b[O]?b[O].p(Y,_):(b[O]=_r(Y),b[O].c(),b[O].m(f,null))}for(;O<b.length;O+=1)b[O].d(1);b.length=w.length}_&1&&y!==(y=((M=D[0].authors)==null?void 0:M.join(", "))+"")&&Z(F,y),_&2&&g(e,"href",D[1])},i:Ot,o:Ot,d(D){D&&C(e),Mt(b,D)}}}function za(r,e,t){let{file:a=la}=e,{href:n=""}=e;return r.$$set=i=>{"file"in i&&t(0,a=i.file),"href"in i&&t(1,n=i.href)},[a,n]}class Wa extends gt{constructor(e){super(),pt(this,e,za,Ia,mt,{file:0,href:1})}}function Fr(r){let e,t=r[0].version+"",a;return{c(){e=P("span"),a=Q(t),this.h()},l(n){e=A(n,"SPAN",{class:!0});var i=x(e);a=X(i,t),i.forEach(C),this.h()},h(){g(e,"class","opacity-60")},m(n,i){ge(n,e,i),d(e,a)},p(n,i){i&1&&t!==(t=n[0].version+"")&&Z(a,t)},d(n){n&&C(e)}}}function Va(r){var m;let e,t,a,n=(((m=r[0].game)==null?void 0:m.name)||"???")+"",i,o,l,u,f,c=r[0].version&&Fr(r);return{c(){e=P("a"),t=P("div"),a=P("span"),i=Q(n),o=q(),c&&c.c(),l=q(),u=P("img"),this.h()},l(s){e=A(s,"A",{href:!0,class:!0});var v=x(e);t=A(v,"DIV",{class:!0});var h=x(t);a=A(h,"SPAN",{class:!0});var p=x(a);i=X(p,n),p.forEach(C),o=R(h),c&&c.l(h),h.forEach(C),l=R(v),u=A(v,"IMG",{src:!0,class:!0,alt:!0}),v.forEach(C),this.h()},h(){g(a,"class","font-bold"),g(t,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),me(u.src,f=r[2])||g(u,"src",f),g(u,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),g(u,"alt",""),g(e,"href",r[1]),g(e,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden svelte-22xih4")},m(s,v){ge(s,e,v),d(e,t),d(t,a),d(a,i),d(t,o),c&&c.m(t,null),d(e,l),d(e,u)},p(s,[v]){var h;v&1&&n!==(n=(((h=s[0].game)==null?void 0:h.name)||"???")+"")&&Z(i,n),s[0].version?c?c.p(s,v):(c=Fr(s),c.c(),c.m(t,null)):c&&(c.d(1),c=null),v&4&&!me(u.src,f=s[2])&&g(u,"src",f),v&2&&g(e,"href",s[1])},i:Ot,o:Ot,d(s){s&&C(e),c&&c.d()}}}function La(r,e,t){let a;const{getGameImage:n}=lt;let{file:i=ua}=e,{href:o=""}=e;return r.$$set=l=>{"file"in l&&t(0,i=l.file),"href"in l&&t(1,o=l.href)},r.$$.update=()=>{var l;r.$$.dirty&1&&t(2,a=(l=i.game)!=null&&l.id?n(i.game.id):"")},[i,o,a]}class Ue extends gt{constructor(e){super(),pt(this,e,La,Va,mt,{file:0,href:1})}}const ct=r=>{if(!r)return Vt;if(r.imgUrl)return r.imgUrl;const e=r.b2sFiles||[];if(e.length){const a=[...e].sort((n,i)=>i.updatedAt-n.updatedAt).find(n=>n.imgUrl);if(a)return a.imgUrl}const t=r.tableFiles||[];if(t.length){const a=[...t].sort((n,i)=>i.updatedAt-n.updatedAt).find(n=>n.imgUrl);if(a)return a.imgUrl}return Vt},dt=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function Lt(r){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(r)}function ot(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ye(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function We(r){ye(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Lt(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ya(r,e){ye(2,arguments);var t=We(r).getTime(),a=ot(e);return new Date(t+a)}var Ba={};function qt(){return Ba}function Na(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function ja(r){return ye(1,arguments),r instanceof Date||Lt(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Ga(r){if(ye(1,arguments),!ja(r)&&typeof r!="number")return!1;var e=We(r);return!isNaN(Number(e))}function qa(r,e){ye(2,arguments);var t=ot(e);return Ya(r,-t)}var Ra=864e5;function Ha(r){ye(1,arguments);var e=We(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),n=t-a;return Math.floor(n/Ra)+1}function Yt(r){ye(1,arguments);var e=1,t=We(r),a=t.getUTCDay(),n=(a<e?7:0)+a-e;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function aa(r){ye(1,arguments);var e=We(r),t=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(t+1,0,4),a.setUTCHours(0,0,0,0);var n=Yt(a),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Yt(i);return e.getTime()>=n.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Qa(r){ye(1,arguments);var e=aa(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var a=Yt(t);return a}var Xa=6048e5;function Ja(r){ye(1,arguments);var e=We(r),t=Yt(e).getTime()-Qa(e).getTime();return Math.round(t/Xa)+1}function Bt(r,e){var t,a,n,i,o,l,u,f;ye(1,arguments);var c=qt(),m=ot((t=(a=(n=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:c.weekStartsOn)!==null&&a!==void 0?a:(u=c.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=We(r),v=s.getUTCDay(),h=(v<m?7:0)+v-m;return s.setUTCDate(s.getUTCDate()-h),s.setUTCHours(0,0,0,0),s}function na(r,e){var t,a,n,i,o,l,u,f;ye(1,arguments);var c=We(r),m=c.getUTCFullYear(),s=qt(),v=ot((t=(a=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:s.firstWeekContainsDate)!==null&&a!==void 0?a:(u=s.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(m+1,0,v),h.setUTCHours(0,0,0,0);var p=Bt(h,e),y=new Date(0);y.setUTCFullYear(m,0,v),y.setUTCHours(0,0,0,0);var F=Bt(y,e);return c.getTime()>=p.getTime()?m+1:c.getTime()>=F.getTime()?m:m-1}function Ka(r,e){var t,a,n,i,o,l,u,f;ye(1,arguments);var c=qt(),m=ot((t=(a=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:c.firstWeekContainsDate)!==null&&a!==void 0?a:(u=c.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),s=na(r,e),v=new Date(0);v.setUTCFullYear(s,0,m),v.setUTCHours(0,0,0,0);var h=Bt(v,e);return h}var Za=6048e5;function $a(r,e){ye(1,arguments);var t=We(r),a=Bt(t,e).getTime()-Ka(t,e).getTime();return Math.round(a/Za)+1}function re(r,e){for(var t=r<0?"-":"",a=Math.abs(r).toString();a.length<e;)a="0"+a;return t+a}var en={y:function(e,t){var a=e.getUTCFullYear(),n=a>0?a:1-a;return re(t==="yy"?n%100:n,t.length)},M:function(e,t){var a=e.getUTCMonth();return t==="M"?String(a+1):re(a+1,2)},d:function(e,t){return re(e.getUTCDate(),t.length)},a:function(e,t){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(e,t){return re(e.getUTCHours()%12||12,t.length)},H:function(e,t){return re(e.getUTCHours(),t.length)},m:function(e,t){return re(e.getUTCMinutes(),t.length)},s:function(e,t){return re(e.getUTCSeconds(),t.length)},S:function(e,t){var a=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return re(i,t.length)}};const Je=en;var ft={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tn={G:function(e,t,a){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return Je.y(e,t)},Y:function(e,t,a,n){var i=na(e,n),o=i>0?i:1-i;if(t==="YY"){var l=o%100;return re(l,2)}return t==="Yo"?a.ordinalNumber(o,{unit:"year"}):re(o,t.length)},R:function(e,t){var a=aa(e);return re(a,t.length)},u:function(e,t){var a=e.getUTCFullYear();return re(a,t.length)},Q:function(e,t,a){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return re(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return re(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Je.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return re(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){var i=$a(e,n);return t==="wo"?a.ordinalNumber(i,{unit:"week"}):re(i,t.length)},I:function(e,t,a){var n=Ja(e);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):re(n,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getUTCDate(),{unit:"date"}):Je.d(e,t)},D:function(e,t,a){var n=Ha(e);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):re(n,t.length)},E:function(e,t,a){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return re(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return re(o,t.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,a){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return re(i,t.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,a){var n=e.getUTCHours(),i;switch(n===12?i=ft.noon:n===0?i=ft.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,a){var n=e.getUTCHours(),i;switch(n>=17?i=ft.evening:n>=12?i=ft.afternoon:n>=4?i=ft.morning:i=ft.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Je.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Je.H(e,t)},K:function(e,t,a){var n=e.getUTCHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):re(n,t.length)},k:function(e,t,a){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):re(n,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Je.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Je.s(e,t)},S:function(e,t){return Je.S(e,t)},X:function(e,t,a,n){var i=n._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Er(o);case"XXXX":case"XX":return nt(o);case"XXXXX":case"XXX":default:return nt(o,":")}},x:function(e,t,a,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Er(o);case"xxxx":case"xx":return nt(o);case"xxxxx":case"xxx":default:return nt(o,":")}},O:function(e,t,a,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cr(o,":");case"OOOO":default:return"GMT"+nt(o,":")}},z:function(e,t,a,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cr(o,":");case"zzzz":default:return"GMT"+nt(o,":")}},t:function(e,t,a,n){var i=n._originalDate||e,o=Math.floor(i.getTime()/1e3);return re(o,t.length)},T:function(e,t,a,n){var i=n._originalDate||e,o=i.getTime();return re(o,t.length)}};function Cr(r,e){var t=r>0?"-":"+",a=Math.abs(r),n=Math.floor(a/60),i=a%60;if(i===0)return t+String(n);var o=e||"";return t+String(n)+o+re(i,2)}function Er(r,e){if(r%60===0){var t=r>0?"-":"+";return t+re(Math.abs(r)/60,2)}return nt(r,e)}function nt(r,e){var t=e||"",a=r>0?"-":"+",n=Math.abs(r),i=re(Math.floor(n/60),2),o=re(n%60,2);return a+i+t+o}const rn=tn;var Dr=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ia=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},an=function(e,t){var a=e.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return Dr(e,t);var o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Dr(n,t)).replace("{{time}}",ia(i,t))},nn={p:ia,P:an};const on=nn;var ln=["D","DD"],un=["YY","YYYY"];function sn(r){return ln.indexOf(r)!==-1}function fn(r){return un.indexOf(r)!==-1}function Sr(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var cn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dn=function(e,t,a){var n,i=cn[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};const hn=dn;function er(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,a=r.formats[t]||r.formats[r.defaultWidth];return a}}var vn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pn={date:er({formats:vn,defaultWidth:"full"}),time:er({formats:mn,defaultWidth:"full"}),dateTime:er({formats:gn,defaultWidth:"full"})};const yn=pn;var wn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bn=function(e,t,a,n){return wn[e]};const _n=bn;function Dt(r){return function(e,t){var a=t!=null&&t.context?String(t.context):"standalone",n;if(a==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;n=r.formattingValues[o]||r.formattingValues[i]}else{var l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;n=r.values[u]||r.values[l]}var f=r.argumentCallback?r.argumentCallback(e):e;return n[f]}}var Fn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},En={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tn=function(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Pn={ordinalNumber:Tn,era:Dt({values:Fn,defaultWidth:"wide"}),quarter:Dt({values:Cn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dt({values:En,defaultWidth:"wide"}),day:Dt({values:Dn,defaultWidth:"wide"}),dayPeriod:Dt({values:Sn,defaultWidth:"wide",formattingValues:Mn,defaultFormattingWidth:"wide"})};const An=Pn;function St(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.width,n=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],i=e.match(n);if(!i)return null;var o=i[0],l=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(l)?xn(l,function(m){return m.test(o)}):On(l,function(m){return m.test(o)}),f;f=r.valueCallback?r.valueCallback(u):u,f=t.valueCallback?t.valueCallback(f):f;var c=e.slice(o.length);return{value:f,rest:c}}}function On(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function xn(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function kn(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(r.matchPattern);if(!a)return null;var n=a[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var l=e.slice(n.length);return{value:o,rest:l}}}var Un=/^(\d+)(th|st|nd|rd)?/i,In=/\d+/i,zn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wn={any:[/^b/i,/^(a|c)/i]},Vn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ln={any:[/1/i,/2/i,/3/i,/4/i]},Yn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rn={ordinalNumber:kn({matchPattern:Un,parsePattern:In,valueCallback:function(e){return parseInt(e,10)}}),era:St({matchPatterns:zn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),quarter:St({matchPatterns:Vn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:St({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any"}),day:St({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:jn,defaultParseWidth:"any"}),dayPeriod:St({matchPatterns:Gn,defaultMatchWidth:"any",parsePatterns:qn,defaultParseWidth:"any"})};const Hn=Rn;var Qn={code:"en-US",formatDistance:hn,formatLong:yn,formatRelative:_n,localize:An,match:Hn,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Xn=Qn;var Jn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zn=/^'([^]*?)'?$/,$n=/''/g,ei=/[a-zA-Z]/;function ti(r,e,t){var a,n,i,o,l,u,f,c,m,s,v,h,p,y,F,w,b,T;ye(2,arguments);var I=String(e),D=qt(),_=(a=(n=t==null?void 0:t.locale)!==null&&n!==void 0?n:D.locale)!==null&&a!==void 0?a:Xn,E=ot((i=(o=(l=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(f=t.locale)===null||f===void 0||(c=f.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:D.firstWeekContainsDate)!==null&&o!==void 0?o:(m=D.locale)===null||m===void 0||(s=m.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=ot((v=(h=(p=(y=t==null?void 0:t.weekStartsOn)!==null&&y!==void 0?y:t==null||(F=t.locale)===null||F===void 0||(w=F.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&h!==void 0?h:(b=D.locale)===null||b===void 0||(T=b.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&v!==void 0?v:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var O=We(r);if(!Ga(O))throw new RangeError("Invalid time value");var Y=Na(O),S=qa(O,Y),j={firstWeekContainsDate:E,weekStartsOn:M,locale:_,_originalDate:O},U=I.match(Kn).map(function(z){var k=z[0];if(k==="p"||k==="P"){var B=on[k];return B(z,_.formatLong)}return z}).join("").match(Jn).map(function(z){if(z==="''")return"'";var k=z[0];if(k==="'")return ri(z);var B=rn[k];if(B)return!(t!=null&&t.useAdditionalWeekYearTokens)&&fn(z)&&Sr(z,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&sn(z)&&Sr(z,e,String(r)),B(S,z,_.localize,j);if(k.match(ei))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return z}).join("");return U}function ri(r){var e=r.match(Zn);return e?e[1].replace($n,"'"):r}const ht=r=>isNaN(new Date(r).getTime())?"??.??.????":ti(new Date(r),"dd.MM.yyyy");function Mr(r,e,t){const a=r.slice();return a[9]=e[t],a}function Tr(r,e,t){const a=r.slice();return a[12]=e[t],a}function Pr(r){let e,t=r[12]+"",a,n;return{c(){e=P("div"),a=Q(t),n=q(),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=x(e);a=X(o,t),n=R(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ge(i,e,o),d(e,a),d(e,n)},p(i,o){o&64&&t!==(t=i[12]+"")&&Z(a,t)},d(i){i&&C(e)}}}function Ar(r){let e,t=r[9].toUpperCase()+"",a;return{c(){e=P("div"),a=Q(t),this.h()},l(n){e=A(n,"DIV",{class:!0});var i=x(e);a=X(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(n,i){ge(n,e,i),d(e,a)},p(n,i){i&1&&t!==(t=n[9].toUpperCase()+"")&&Z(a,t)},d(n){n&&C(e)}}}function ai(r){var se;let e,t,a,n,i,o,l,u,f,c,m,s,v,h,p=r[0].name+"",y,F,w,b,T,I=r[0].manufacturer+"",D,_,E,M,O=r[0].year+"",Y,S,j,U,z=(((se=r[0].designers)==null?void 0:se.join(", "))||"-")+"",k,B,V,L,$,ee,de,ue="Updated at",ce,he,Ge=ht(r[0].updatedAt)+"",qe,Ae,Me,Re,Ee,Fe,ut="Type",De,we,He=(r[0].type||"-")+"",Qe,pe,Oe,Ce,be,Se,_e,ae,Te,Xe,te=Ie(r[6]),le=[];for(let H=0;H<te.length;H+=1)le[H]=Pr(Tr(r,te,H));let Ve=Ie(r[0].theme||[]),ne=[];for(let H=0;H<Ve.length;H+=1)ne[H]=Ar(Mr(r,Ve,H));return{c(){e=P("div"),t=P("img"),o=q(),l=P("div"),u=P("img"),m=q(),s=P("div"),v=P("div"),h=P("p"),y=Q(p),F=q();for(let H=0;H<le.length;H+=1)le[H].c();w=q(),b=P("div"),T=P("p"),D=Q(I),_=q(),E=P("p"),M=Q("("),Y=Q(O),S=Q(")"),j=q(),U=P("p"),k=Q(z),B=q(),V=P("div");for(let H=0;H<ne.length;H+=1)ne[H].c();L=q(),$=P("div"),ee=P("div"),de=P("p"),de.textContent=ue,ce=q(),he=P("p"),qe=Q(Ge),Ae=q(),Me=P("div"),Re=q(),Ee=P("div"),Fe=P("p"),Fe.textContent=ut,De=q(),we=P("p"),Qe=Q(He),Oe=q(),Ce=Ke("svg"),be=Ke("defs"),Se=Ke("clipPath"),_e=Ke("path"),this.h()},l(H){e=A(H,"DIV",{style:!0,class:!0});var W=x(e);t=A(W,"IMG",{src:!0,alt:!0,class:!0}),o=R(W),l=A(W,"DIV",{class:!0});var G=x(l);u=A(G,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=R(G),s=A(G,"DIV",{class:!0,style:!0});var N=x(s);v=A(N,"DIV",{class:!0});var K=x(v);h=A(K,"P",{class:!0});var xe=x(h);y=X(xe,p),xe.forEach(C),F=R(K);for(let ke=0;ke<le.length;ke+=1)le[ke].l(K);K.forEach(C),w=R(N),b=A(N,"DIV",{class:!0});var et=x(b);T=A(et,"P",{class:!0});var wt=x(T);D=X(wt,I),wt.forEach(C),_=R(et),E=A(et,"P",{});var Le=x(E);M=X(Le,"("),Y=X(Le,O),S=X(Le,")"),Le.forEach(C),et.forEach(C),j=R(N),U=A(N,"P",{class:!0});var bt=x(U);k=X(bt,z),bt.forEach(C),B=R(N),V=A(N,"DIV",{class:!0});var tt=x(V);for(let ke=0;ke<ne.length;ke+=1)ne[ke].l(tt);tt.forEach(C),L=R(N),$=A(N,"DIV",{class:!0});var Ye=x($);ee=A(Ye,"DIV",{class:!0});var rt=x(ee);de=A(rt,"P",{class:!0,"data-svelte-h":!0}),xt(de)!=="svelte-g6tq99"&&(de.textContent=ue),ce=R(rt),he=A(rt,"P",{class:!0});var Be=x(he);qe=X(Be,Ge),Be.forEach(C),rt.forEach(C),Ae=R(Ye),Me=A(Ye,"DIV",{class:!0}),x(Me).forEach(C),Re=R(Ye),Ee=A(Ye,"DIV",{class:!0});var Ne=x(Ee);Fe=A(Ne,"P",{class:!0,"data-svelte-h":!0}),xt(Fe)!=="svelte-1h1g7sd"&&(Fe.textContent=ut),De=R(Ne),we=A(Ne,"P",{class:!0});var _t=x(we);Qe=X(_t,He),_t.forEach(C),Ne.forEach(C),Ye.forEach(C),N.forEach(C),G.forEach(C),W.forEach(C),Oe=R(H),Ce=Ze(H,"svg",{width:!0,height:!0});var at=x(Ce);be=Ze(at,"defs",{});var Ft=x(be);Se=Ze(Ft,"clipPath",{id:!0,clipPathUnits:!0});var Ct=x(Se);_e=Ze(Ct,"path",{d:!0}),x(_e).forEach(C),Ct.forEach(C),Ft.forEach(C),at.forEach(C),this.h()},h(){me(t.src,a=ct(r[0]))||g(t,"src",a),g(t,"alt",n=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1dr6gib"),me(u.src,f=ct(r[0]))||g(u,"src",f),g(u,"alt",c=r[0].id),oe(u,"height","36%"),g(u,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10 svelte-1dr6gib"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(v,"class","flex gap-2 max-w-full"),g(T,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(b,"class","flex gap-1 text-center max-w-full"),g(U,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(V,"class","flex gap-2 mt-4 flex-wrap"),g(de,"class","text-xs font-bold uppercase opacity-40"),g(he,"class",""),g(ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Me,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(Fe,"class","text-xs font-bold uppercase opacity-40"),g(we,"class",""),g(Ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),g($,"class","flex mt-auto w-full"),g(s,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),oe(s,"top","calc("+r[3]*.885+"px - 7.5rem)"),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(_e,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Se,"id","myCurve"),g(Se,"clipPathUnits","objectBoundingBox"),g(Ce,"width","0"),g(Ce,"height","0")},m(H,W){ge(H,e,W),d(e,t),d(e,o),d(e,l),d(l,u),d(l,m),d(l,s),d(s,v),d(v,h),d(h,y),d(v,F);for(let G=0;G<le.length;G+=1)le[G]&&le[G].m(v,null);d(s,w),d(s,b),d(b,T),d(T,D),d(b,_),d(b,E),d(E,M),d(E,Y),d(E,S),d(s,j),d(s,U),d(U,k),d(s,B),d(s,V);for(let G=0;G<ne.length;G+=1)ne[G]&&ne[G].m(V,null);d(s,L),d(s,$),d($,ee),d(ee,de),d(ee,ce),d(ee,he),d(he,qe),d($,Ae),d($,Me),d($,Re),d($,Ee),d(Ee,Fe),d(Ee,De),d(Ee,we),d(we,Qe),ge(H,Oe,W),ge(H,Ce,W),d(Ce,be),d(be,Se),d(Se,_e),ae=!0,Te||(Xe=vt(t,"outroend",function(){Wr(r[5])&&r[5].apply(this,arguments)}),Te=!0)},p(H,[W]){var G;if(r=H,(!ae||W&1&&!me(t.src,a=ct(r[0])))&&g(t,"src",a),(!ae||W&1&&n!==(n=r[0].id))&&g(t,"alt",n),(!ae||W&1&&!me(u.src,f=ct(r[0])))&&g(u,"src",f),(!ae||W&1&&c!==(c=r[0].id))&&g(u,"alt",c),(!ae||W&1)&&p!==(p=r[0].name+"")&&Z(y,p),W&64){te=Ie(r[6]);let N;for(N=0;N<te.length;N+=1){const K=Tr(r,te,N);le[N]?le[N].p(K,W):(le[N]=Pr(K),le[N].c(),le[N].m(v,null))}for(;N<le.length;N+=1)le[N].d(1);le.length=te.length}if((!ae||W&1)&&I!==(I=r[0].manufacturer+"")&&Z(D,I),(!ae||W&1)&&O!==(O=r[0].year+"")&&Z(Y,O),(!ae||W&1)&&z!==(z=(((G=r[0].designers)==null?void 0:G.join(", "))||"-")+"")&&Z(k,z),W&1){Ve=Ie(r[0].theme||[]);let N;for(N=0;N<Ve.length;N+=1){const K=Mr(r,Ve,N);ne[N]?ne[N].p(K,W):(ne[N]=Ar(K),ne[N].c(),ne[N].m(V,null))}for(;N<ne.length;N+=1)ne[N].d(1);ne.length=Ve.length}(!ae||W&1)&&Ge!==(Ge=ht(r[0].updatedAt)+"")&&Z(qe,Ge),(!ae||W&1)&&He!==(He=(r[0].type||"-")+"")&&Z(Qe,He),(!ae||W&8)&&oe(s,"top","calc("+r[3]*.885+"px - 7.5rem)"),(!ae||W&2)&&oe(e,"left",r[1]+"px"),(!ae||W&4)&&oe(e,"top",r[2]+"px"),(!ae||W&16)&&oe(e,"width",r[4]+"px"),(!ae||W&8)&&oe(e,"height",r[3]+"px")},i(H){ae||(H&&kt(()=>{ae&&(i||(i=$e(t,r[7],{duration:Pt},!0)),i.run(1))}),H&&kt(()=>{ae&&(pe||(pe=$e(l,r[8],{duration:Pt},!0)),pe.run(1))}),ae=!0)},o(H){H&&(i||(i=$e(t,r[7],{duration:Pt},!1)),i.run(0)),H&&(pe||(pe=$e(l,r[8],{duration:Pt},!1)),pe.run(0)),ae=!1},d(H){H&&(C(e),C(Oe),C(Ce)),H&&i&&i.end(),Mt(le,H),Mt(ne,H),H&&pe&&pe.end(),Te=!1,Xe()}}}const Pt=100;function ni(r,e,t){let a,{game:n=Nt}=e,{left:i=0}=e,{top:o=0}=e,{height:l=0}=e,{width:u=0}=e,{onEnd:f=()=>{}}=e;const c=(s,{duration:v,delay:h})=>({duration:v,delay:h,css:p=>{const y=It(p);return`
					transform: translateY(${y*-8}rem) scale(${1-y*.25});
					`}}),m=(s,{duration:v,delay:h})=>({duration:v,delay:h,css:p=>`
					transform: scale(${It(p)});
					`});return r.$$set=s=>{"game"in s&&t(0,n=s.game),"left"in s&&t(1,i=s.left),"top"in s&&t(2,o=s.top),"height"in s&&t(3,l=s.height),"width"in s&&t(4,u=s.width),"onEnd"in s&&t(5,f=s.onEnd)},r.$$.update=()=>{r.$$.dirty&1&&t(6,a=Array.from(new Set((n.tableFiles||[]).map(s=>s.tableFormat).filter(s=>!!s))))},[n,i,o,l,u,f,a,c,m]}class ii extends gt{constructor(e){super(),pt(this,e,ni,ai,mt,{game:0,left:1,top:2,height:3,width:4,onEnd:5})}}function Or(r,e,t){const a=r.slice();return a[15]=e[t],a}function xr(r){let e,t;return e=new ii({props:{game:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[12]}}),{c(){Nr(e.$$.fragment)},l(a){jr(e.$$.fragment,a)},m(a,n){Gr(e,a,n),t=!0},p(a,n){const i={};n&1&&(i.game=a[0]),n&8&&(i.left=a[3]),n&16&&(i.top=a[4]),n&64&&(i.width=a[6]),n&32&&(i.height=a[5]),n&256&&(i.onEnd=a[12]),e.$set(i)},i(a){t||(je(e.$$.fragment,a),t=!0)},o(a){it(e.$$.fragment,a),t=!1},d(a){qr(e,a)}}}function kr(r){let e,t=r[15]+"",a,n;return{c(){e=P("div"),a=Q(t),n=q(),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=x(e);a=X(o,t),n=R(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ge(i,e,o),d(e,a),d(e,n)},p(i,o){o&512&&t!==(t=i[15]+"")&&Z(a,t)},d(i){i&&C(e)}}}function oi(r){var z;let e,t,a,n,i,o,l,u,f,c=r[0].name+"",m,s,v,h,p=r[0].manufacturer+"",y,F,w=r[0].year+"",b,T,I,D,_=((z=r[0].designers)==null?void 0:z.join(", "))+"",E,M,O,Y,S=r[7]&&xr(r),j=Ie(r[9]),U=[];for(let k=0;k<j.length;k+=1)U[k]=kr(Or(r,j,k));return{c(){e=P("a"),S&&S.c(),t=q(),a=P("img"),o=q(),l=P("div"),u=P("div"),f=P("p"),m=Q(c),s=q();for(let k=0;k<U.length;k+=1)U[k].c();v=q(),h=P("p"),y=Q(p),F=Q(" ("),b=Q(w),T=Q(")"),I=q(),D=P("p"),E=Q(_),this.h()},l(k){e=A(k,"A",{class:!0,href:!0});var B=x(e);S&&S.l(B),t=R(B),a=A(B,"IMG",{src:!0,alt:!0,class:!0}),o=R(B),l=A(B,"DIV",{class:!0});var V=x(l);u=A(V,"DIV",{class:!0});var L=x(u);f=A(L,"P",{class:!0});var $=x(f);m=X($,c),$.forEach(C),s=R(L);for(let ue=0;ue<U.length;ue+=1)U[ue].l(L);L.forEach(C),v=R(V),h=A(V,"P",{});var ee=x(h);y=X(ee,p),F=X(ee," ("),b=X(ee,w),T=X(ee,")"),ee.forEach(C),I=R(V),D=A(V,"P",{class:!0});var de=x(D);E=X(de,_),de.forEach(C),V.forEach(C),B.forEach(C),this.h()},h(){me(a.src,n=ct(r[0]))||g(a,"src",n),g(a,"alt",i=r[0].name),g(a,"class","card pinImage bg-surface-300-600-token svelte-1rbl6pa"),Ut(a,"hide",r[7]||r[8]),g(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex gap-2"),g(D,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(k,B){ge(k,e,B),S&&S.m(e,null),d(e,t),d(e,a),r[13](a),d(e,o),d(e,l),d(l,u),d(u,f),d(f,m),d(u,s);for(let V=0;V<U.length;V+=1)U[V]&&U[V].m(u,null);d(l,v),d(l,h),d(h,y),d(h,F),d(h,b),d(h,T),d(l,I),d(l,D),d(D,E),M=!0,O||(Y=[vt(e,"mouseenter",r[10]),vt(e,"mouseleave",r[11])],O=!0)},p(k,[B]){var V;if(k[7]?S?(S.p(k,B),B&128&&je(S,1)):(S=xr(k),S.c(),je(S,1),S.m(e,t)):S&&(Yr(),it(S,1,1,()=>{S=null}),Br()),(!M||B&1&&!me(a.src,n=ct(k[0])))&&g(a,"src",n),(!M||B&1&&i!==(i=k[0].name))&&g(a,"alt",i),(!M||B&384)&&Ut(a,"hide",k[7]||k[8]),(!M||B&1)&&c!==(c=k[0].name+"")&&Z(m,c),B&512){j=Ie(k[9]);let L;for(L=0;L<j.length;L+=1){const $=Or(k,j,L);U[L]?U[L].p($,B):(U[L]=kr($),U[L].c(),U[L].m(u,null))}for(;L<U.length;L+=1)U[L].d(1);U.length=j.length}(!M||B&1)&&p!==(p=k[0].manufacturer+"")&&Z(y,p),(!M||B&1)&&w!==(w=k[0].year+"")&&Z(b,w),(!M||B&1)&&_!==(_=((V=k[0].designers)==null?void 0:V.join(", "))+"")&&Z(E,_),(!M||B&2)&&g(e,"href",k[1])},i(k){M||(je(S),M=!0)},o(k){it(S),M=!1},d(k){k&&C(e),S&&S.d(),r[13](null),Mt(U,k),O=!1,ir(Y)}}}const li=200;function ui(r,e,t){let a,{file:n=Nt}=e,{href:i=""}=e,o,l=0,u=0,f=0,c=0,m=!1,s=!1,v;const h=()=>{var b;const w=o.getBoundingClientRect();t(3,l=w.left),t(4,u=w.top),t(6,c=w.width),t(5,f=w.height),(b=document.getElementById("page"))==null||b.addEventListener("scroll",p),v=setTimeout(()=>{t(7,m=!0),v=void 0},li)},p=()=>{var w;(w=document.getElementById("page"))==null||w.removeEventListener("scroll",p),v?(t(7,m=!1),clearTimeout(v)):m&&(t(7,m=!1),t(8,s=!0))},y=()=>t(8,s=!1);function F(w){Vr[w?"unshift":"push"](()=>{o=w,t(2,o)})}return r.$$set=w=>{"file"in w&&t(0,n=w.file),"href"in w&&t(1,i=w.href)},r.$$.update=()=>{r.$$.dirty&1&&t(9,a=Array.from(new Set((n.tableFiles||[]).map(w=>w.tableFormat).filter(w=>!!w))))},[n,i,o,l,u,f,c,m,s,a,h,p,y,F]}class si extends gt{constructor(e){super(),pt(this,e,ui,oi,mt,{file:0,href:1})}}function Ur(r,e,t){const a=r.slice();return a[11]=e[t],a}function Ir(r){let e,t=r[11].toUpperCase()+"",a;return{c(){e=P("div"),a=Q(t),this.h()},l(n){e=A(n,"DIV",{class:!0});var i=x(e);a=X(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(n,i){ge(n,e,i),d(e,a)},p(n,i){i&1&&t!==(t=n[11].toUpperCase()+"")&&Z(a,t)},d(n){n&&C(e)}}}function fi(r){var H;let e,t,a,n,i,o,l,u,f,c,m,s,v,h,p=((H=r[0].game)==null?void 0:H.name)+"",y,F,w,b=r[0].tableFormat+"",T,I,D,_,E=r[6].manufacturer+"",M,O,Y,S,j=r[6].year+"",U,z,k,B,V=r[0].authors.join(", ")+"",L,$,ee,de,ue,ce,he,Ge="Updated at",qe,Ae,Me=ht(r[0].updatedAt)+"",Re,Ee,Fe,ut,De,we,He="Added at",Qe,pe,Oe=ht(r[0].createdAt||r[0].updatedAt)+"",Ce,be,Se,_e,ae,Te,Xe,te,le,Ve,ne=Ie(r[0].features||[]),se=[];for(let W=0;W<ne.length;W+=1)se[W]=Ir(Ur(r,ne,W));return{c(){e=P("div"),t=P("img"),o=q(),l=P("div"),u=P("img"),m=q(),s=P("div"),v=P("div"),h=P("p"),y=Q(p),F=q(),w=P("div"),T=Q(b),I=q(),D=P("div"),_=P("p"),M=Q(E),O=q(),Y=P("p"),S=Q("("),U=Q(j),z=Q(")"),k=q(),B=P("p"),L=Q(V),$=q(),ee=P("div");for(let W=0;W<se.length;W+=1)se[W].c();de=q(),ue=P("div"),ce=P("div"),he=P("p"),he.textContent=Ge,qe=q(),Ae=P("p"),Re=Q(Me),Ee=q(),Fe=P("div"),ut=q(),De=P("div"),we=P("p"),we.textContent=He,Qe=q(),pe=P("p"),Ce=Q(Oe),Se=q(),_e=Ke("svg"),ae=Ke("defs"),Te=Ke("clipPath"),Xe=Ke("path"),this.h()},l(W){e=A(W,"DIV",{style:!0,class:!0});var G=x(e);t=A(G,"IMG",{src:!0,alt:!0,class:!0}),o=R(G),l=A(G,"DIV",{class:!0});var N=x(l);u=A(N,"IMG",{src:!0,alt:!0,style:!0,class:!0}),m=R(N),s=A(N,"DIV",{class:!0,style:!0});var K=x(s);v=A(K,"DIV",{class:!0});var xe=x(v);h=A(xe,"P",{class:!0});var et=x(h);y=X(et,p),et.forEach(C),F=R(xe),w=A(xe,"DIV",{class:!0});var wt=x(w);T=X(wt,b),wt.forEach(C),xe.forEach(C),I=R(K),D=A(K,"DIV",{class:!0});var Le=x(D);_=A(Le,"P",{class:!0});var bt=x(_);M=X(bt,E),bt.forEach(C),O=R(Le),Y=A(Le,"P",{});var tt=x(Y);S=X(tt,"("),U=X(tt,j),z=X(tt,")"),tt.forEach(C),Le.forEach(C),k=R(K),B=A(K,"P",{class:!0});var Ye=x(B);L=X(Ye,V),Ye.forEach(C),$=R(K),ee=A(K,"DIV",{class:!0});var rt=x(ee);for(let Rt=0;Rt<se.length;Rt+=1)se[Rt].l(rt);rt.forEach(C),de=R(K),ue=A(K,"DIV",{class:!0});var Be=x(ue);ce=A(Be,"DIV",{class:!0});var Ne=x(ce);he=A(Ne,"P",{class:!0,"data-svelte-h":!0}),xt(he)!=="svelte-g6tq99"&&(he.textContent=Ge),qe=R(Ne),Ae=A(Ne,"P",{class:!0});var _t=x(Ae);Re=X(_t,Me),_t.forEach(C),Ne.forEach(C),Ee=R(Be),Fe=A(Be,"DIV",{class:!0}),x(Fe).forEach(C),ut=R(Be),De=A(Be,"DIV",{class:!0});var at=x(De);we=A(at,"P",{class:!0,"data-svelte-h":!0}),xt(we)!=="svelte-1gbi7dm"&&(we.textContent=He),Qe=R(at),pe=A(at,"P",{class:!0});var Ft=x(pe);Ce=X(Ft,Oe),Ft.forEach(C),at.forEach(C),Be.forEach(C),K.forEach(C),N.forEach(C),G.forEach(C),Se=R(W),_e=Ze(W,"svg",{width:!0,height:!0});var Ct=x(_e);ae=Ze(Ct,"defs",{});var ke=x(ae);Te=Ze(ke,"clipPath",{id:!0,clipPathUnits:!0});var mr=x(Te);Xe=Ze(mr,"path",{d:!0}),x(Xe).forEach(C),mr.forEach(C),ke.forEach(C),Ct.forEach(C),this.h()},h(){me(t.src,a=r[0].imgUrl||dt)||g(t,"src",a),g(t,"alt",n=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1nresji"),me(u.src,f=r[0].imgUrl||dt)||g(u,"src",f),g(u,"alt",c=r[0].id),oe(u,"height","35%"),g(u,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-1nresji"),g(h,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(w,"class","badge badge-glass my-auto py-0.5 px-1"),g(v,"class","flex gap-2 max-w-full"),g(_,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(D,"class","flex gap-1 text-center"),g(B,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(ee,"class","flex gap-2 mt-4 flex-wrap"),g(he,"class","text-xs font-bold uppercase opacity-40"),g(Ae,"class",""),g(ce,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Fe,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(we,"class","text-xs font-bold uppercase opacity-40"),g(pe,"class",""),g(De,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(ue,"class","flex mt-auto w-full"),g(s,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),oe(s,"top","calc("+r[3]*.885+"px - 8rem)"),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),oe(e,"left",r[1]+"px"),oe(e,"top",r[2]+"px"),oe(e,"width",r[4]+"px"),oe(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(Xe,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Te,"id","myCurve"),g(Te,"clipPathUnits","objectBoundingBox"),g(_e,"width","0"),g(_e,"height","0")},m(W,G){ge(W,e,G),d(e,t),d(e,o),d(e,l),d(l,u),d(l,m),d(l,s),d(s,v),d(v,h),d(h,y),d(v,F),d(v,w),d(w,T),d(s,I),d(s,D),d(D,_),d(_,M),d(D,O),d(D,Y),d(Y,S),d(Y,U),d(Y,z),d(s,k),d(s,B),d(B,L),d(s,$),d(s,ee);for(let N=0;N<se.length;N+=1)se[N]&&se[N].m(ee,null);d(s,de),d(s,ue),d(ue,ce),d(ce,he),d(ce,qe),d(ce,Ae),d(Ae,Re),d(ue,Ee),d(ue,Fe),d(ue,ut),d(ue,De),d(De,we),d(De,Qe),d(De,pe),d(pe,Ce),ge(W,Se,G),ge(W,_e,G),d(_e,ae),d(ae,Te),d(Te,Xe),te=!0,le||(Ve=vt(t,"outroend",function(){Wr(r[5])&&r[5].apply(this,arguments)}),le=!0)},p(W,[G]){var N;if(r=W,(!te||G&1&&!me(t.src,a=r[0].imgUrl||dt))&&g(t,"src",a),(!te||G&1&&n!==(n=r[0].id))&&g(t,"alt",n),(!te||G&1&&!me(u.src,f=r[0].imgUrl||dt))&&g(u,"src",f),(!te||G&1&&c!==(c=r[0].id))&&g(u,"alt",c),(!te||G&1)&&p!==(p=((N=r[0].game)==null?void 0:N.name)+"")&&Z(y,p),(!te||G&1)&&b!==(b=r[0].tableFormat+"")&&Z(T,b),(!te||G&64)&&E!==(E=r[6].manufacturer+"")&&Z(M,E),(!te||G&64)&&j!==(j=r[6].year+"")&&Z(U,j),(!te||G&1)&&V!==(V=r[0].authors.join(", ")+"")&&Z(L,V),G&1){ne=Ie(r[0].features||[]);let K;for(K=0;K<ne.length;K+=1){const xe=Ur(r,ne,K);se[K]?se[K].p(xe,G):(se[K]=Ir(xe),se[K].c(),se[K].m(ee,null))}for(;K<se.length;K+=1)se[K].d(1);se.length=ne.length}(!te||G&1)&&Me!==(Me=ht(r[0].updatedAt)+"")&&Z(Re,Me),(!te||G&1)&&Oe!==(Oe=ht(r[0].createdAt||r[0].updatedAt)+"")&&Z(Ce,Oe),(!te||G&8)&&oe(s,"top","calc("+r[3]*.885+"px - 8rem)"),(!te||G&2)&&oe(e,"left",r[1]+"px"),(!te||G&4)&&oe(e,"top",r[2]+"px"),(!te||G&16)&&oe(e,"width",r[4]+"px"),(!te||G&8)&&oe(e,"height",r[3]+"px")},i(W){te||(W&&kt(()=>{te&&(i||(i=$e(t,r[8],{duration:At},!0)),i.run(1))}),W&&kt(()=>{te&&(be||(be=$e(l,r[9],{duration:At},!0)),be.run(1))}),te=!0)},o(W){W&&(i||(i=$e(t,r[8],{duration:At},!1)),i.run(0)),W&&(be||(be=$e(l,r[9],{duration:At},!1)),be.run(0)),te=!1},d(W){W&&(C(e),C(Se),C(_e)),W&&i&&i.end(),Mt(se,W),W&&be&&be.end(),le=!1,Ve()}}}const At=100;function ci(r,e,t){let a,n;const{dbStore:i}=lt;Lr(r,i,h=>t(10,n=h));let{table:o=Rr}=e,{left:l=0}=e,{top:u=0}=e,{height:f=0}=e,{width:c=0}=e,{onEnd:m=()=>{}}=e;const s=(h,{duration:p,delay:y})=>({duration:p,delay:y,css:F=>{const w=It(F);return`
					transform: translateY(${w*-8}rem) scale(${1-w*.25});
					`}}),v=(h,{duration:p,delay:y})=>({duration:p,delay:y,css:F=>`
					transform: scale(${It(F)});
					`});return r.$$set=h=>{"table"in h&&t(0,o=h.table),"left"in h&&t(1,l=h.left),"top"in h&&t(2,u=h.top),"height"in h&&t(3,f=h.height),"width"in h&&t(4,c=h.width),"onEnd"in h&&t(5,m=h.onEnd)},r.$$.update=()=>{var h;r.$$.dirty&1025&&t(6,a=(h=o==null?void 0:o.game)!=null&&h.id?n[o.game.id]:Nt)},[o,l,u,f,c,m,a,i,s,v,n]}class di extends gt{constructor(e){super(),pt(this,e,ci,fi,mt,{table:0,left:1,top:2,height:3,width:4,onEnd:5})}}function zr(r){let e,t;return e=new di({props:{table:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[14]}}),{c(){Nr(e.$$.fragment)},l(a){jr(e.$$.fragment,a)},m(a,n){Gr(e,a,n),t=!0},p(a,n){const i={};n&1&&(i.table=a[0]),n&8&&(i.left=a[3]),n&16&&(i.top=a[4]),n&64&&(i.width=a[6]),n&32&&(i.height=a[5]),n&256&&(i.onEnd=a[14]),e.$set(i)},i(a){t||(je(e.$$.fragment,a),t=!0)},o(a){it(e.$$.fragment,a),t=!1},d(a){qr(e,a)}}}function hi(r){var k,B;let e,t,a,n,i,o,l,u,f,c=((k=r[0].game)==null?void 0:k.name)+"",m,s,v,h=r[0].tableFormat+"",p,y,F,w=r[9].manufacturer+"",b,T,I=r[9].year+"",D,_,E,M,O=((B=r[0].authors)==null?void 0:B.join(", "))+"",Y,S,j,U,z=r[7]&&zr(r);return{c(){e=P("a"),z&&z.c(),t=q(),a=P("img"),o=q(),l=P("div"),u=P("div"),f=P("p"),m=Q(c),s=q(),v=P("div"),p=Q(h),y=q(),F=P("p"),b=Q(w),T=Q(" ("),D=Q(I),_=Q(")"),E=q(),M=P("p"),Y=Q(O),this.h()},l(V){e=A(V,"A",{class:!0,href:!0});var L=x(e);z&&z.l(L),t=R(L),a=A(L,"IMG",{src:!0,alt:!0,class:!0}),o=R(L),l=A(L,"DIV",{class:!0});var $=x(l);u=A($,"DIV",{class:!0});var ee=x(u);f=A(ee,"P",{class:!0});var de=x(f);m=X(de,c),de.forEach(C),s=R(ee),v=A(ee,"DIV",{class:!0});var ue=x(v);p=X(ue,h),ue.forEach(C),ee.forEach(C),y=R($),F=A($,"P",{});var ce=x(F);b=X(ce,w),T=X(ce," ("),D=X(ce,I),_=X(ce,")"),ce.forEach(C),E=R($),M=A($,"P",{class:!0});var he=x(M);Y=X(he,O),he.forEach(C),$.forEach(C),L.forEach(C),this.h()},h(){me(a.src,n=r[0].imgUrl||dt)||g(a,"src",n),g(a,"alt",i=r[0].id),g(a,"class","card pinImage bg-surface-300-600-token svelte-134rv7p"),Ut(a,"hide",r[7]||r[8]),g(f,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(v,"class","badge badge-glass my-auto py-0.5 px-1"),g(u,"class","flex gap-2"),g(M,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(V,L){ge(V,e,L),z&&z.m(e,null),d(e,t),d(e,a),r[15](a),d(e,o),d(e,l),d(l,u),d(u,f),d(f,m),d(u,s),d(u,v),d(v,p),d(l,y),d(l,F),d(F,b),d(F,T),d(F,D),d(F,_),d(l,E),d(l,M),d(M,Y),S=!0,j||(U=[vt(e,"mouseenter",r[11]),vt(e,"mouseleave",r[12])],j=!0)},p(V,[L]){var $,ee;V[7]?z?(z.p(V,L),L&128&&je(z,1)):(z=zr(V),z.c(),je(z,1),z.m(e,t)):z&&(Yr(),it(z,1,1,()=>{z=null}),Br()),(!S||L&1&&!me(a.src,n=V[0].imgUrl||dt))&&g(a,"src",n),(!S||L&1&&i!==(i=V[0].id))&&g(a,"alt",i),(!S||L&384)&&Ut(a,"hide",V[7]||V[8]),(!S||L&1)&&c!==(c=(($=V[0].game)==null?void 0:$.name)+"")&&Z(m,c),(!S||L&1)&&h!==(h=V[0].tableFormat+"")&&Z(p,h),(!S||L&512)&&w!==(w=V[9].manufacturer+"")&&Z(b,w),(!S||L&512)&&I!==(I=V[9].year+"")&&Z(D,I),(!S||L&1)&&O!==(O=((ee=V[0].authors)==null?void 0:ee.join(", "))+"")&&Z(Y,O),(!S||L&2)&&g(e,"href",V[1])},i(V){S||(je(z),S=!0)},o(V){it(z),S=!1},d(V){V&&C(e),z&&z.d(),r[15](null),j=!1,ir(U)}}}const vi=200;function mi(r,e,t){let a,n;const{dbStore:i}=lt;Lr(r,i,T=>t(13,n=T));let{file:o=Rr}=e,{href:l=""}=e,u,f=0,c=0,m=0,s=0,v=!1,h=!1,p;const y=()=>{var I;const T=u.getBoundingClientRect();t(3,f=T.left),t(4,c=T.top),t(6,s=T.width),t(5,m=T.height),(I=document.getElementById("page"))==null||I.addEventListener("scroll",F),p=setTimeout(()=>{t(7,v=!0),p=void 0},vi)},F=()=>{var T;(T=document.getElementById("page"))==null||T.removeEventListener("scroll",F),p?(t(7,v=!1),clearTimeout(p)):v&&(t(7,v=!1),t(8,h=!0))},w=()=>t(8,h=!1);function b(T){Vr[T?"unshift":"push"](()=>{u=T,t(2,u)})}return r.$$set=T=>{"file"in T&&t(0,o=T.file),"href"in T&&t(1,l=T.href)},r.$$.update=()=>{var T;r.$$.dirty&8193&&t(9,a=(T=o==null?void 0:o.game)!=null&&T.id?n[o.game.id]:Nt)},[o,l,u,f,c,m,s,v,h,a,i,y,F,n,w,b]}class gi extends gt{constructor(e){super(),pt(this,e,mi,hi,mt,{file:0,href:1})}}const Si={game:{route:"games",name:"Games",component:si},tableFiles:{route:"tables",name:"Tables",component:gi},b2sFiles:{route:"b2s",name:"Backglasses",component:Wa},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Ue},altColorFiles:{route:"altcolors",name:"Alt. Colors",component:Ue},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Ue},topperFiles:{route:"toppers",name:"Toppers",component:Ue},romFiles:{route:"roms",name:"Roms",component:Ue},povFiles:{route:"pov",name:"POVs",component:Ue},soundFiles:{route:"sounds",name:"Sounds",component:Ue},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Ue},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Ue},ruleFiles:{route:"rules",name:"Rules",component:Ue}};export{Wa as B,lt as D,Nt as E,Di as S,gi as T,Ci as a,ht as b,Ei as c,ct as d,Ie as e,bi as f,Fi as g,la as h,Si as m,oa as o,_i as u};
