import{w as B}from"./index.6e379fdf.js";import{a1 as K}from"./scheduler.a453f4b8.js";const R=B(void 0);function G(n,e){const{computePosition:d,autoUpdate:l,offset:i,shift:f,flip:L,arrow:k,size:$,autoPlacement:U,hide:A,inline:F}=K(R),r={open:!1,autoUpdateCleanup:()=>{}},b=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let w;const s="https://www.skeleton.dev/utilities/popups";let t,m;function x(){t=document.querySelector(`[data-popup="${e.target}"]`)??document.createElement("div"),m=t.querySelector(".arrow")??document.createElement("div")}x();function v(){var a,c,E,D,C,q,I,P;if(!t)throw new Error(`The data-popup="${e.target}" element was not found. ${s}`);if(!d)throw new Error(`Floating UI 'computePosition' not found for data-popup="${e.target}". ${s}`);if(!i)throw new Error(`Floating UI 'offset' not found for data-popup="${e.target}". ${s}`);if(!f)throw new Error(`Floating UI 'shift' not found for data-popup="${e.target}". ${s}`);if(!L)throw new Error(`Floating UI 'flip' not found for data-popup="${e.target}". ${s}`);if(!k)throw new Error(`Floating UI 'arrow' not found for data-popup="${e.target}". ${s}`);const o=[];$&&o.push($((a=e.middleware)==null?void 0:a.size)),U&&o.push(U((c=e.middleware)==null?void 0:c.autoPlacement)),A&&o.push(A((E=e.middleware)==null?void 0:E.hide)),F&&o.push(F((D=e.middleware)==null?void 0:D.inline)),d(n,t,{placement:e.placement??"bottom",middleware:[i(((C=e.middleware)==null?void 0:C.offset)??8),f(((q=e.middleware)==null?void 0:q.shift)??{padding:8}),L((I=e.middleware)==null?void 0:I.flip),k(((P=e.middleware)==null?void 0:P.arrow)??{element:m||null}),...o]}).then(({x:z,y:M,placement:O,middlewareData:W})=>{if(Object.assign(t.style,{left:`${z}px`,top:`${M}px`}),m){const{x:T,y:j}=W.arrow,_={top:"bottom",right:"left",bottom:"top",left:"right"}[O.split("-")[0]];Object.assign(m.style,{left:T!=null?`${T}px`:"",top:j!=null?`${j}px`:"",right:"",bottom:"",[_]:"-4px"})}})}function p(){t&&(r.open=!0,e.state&&e.state({state:r.open}),v(),t.style.display="block",t.style.opacity="1",t.style.pointerEvents="auto",t.removeAttribute("inert"),r.autoUpdateCleanup=l(n,t,v),w=Array.from(t==null?void 0:t.querySelectorAll(b)))}function u(o){if(!t)return;const a=parseFloat(window.getComputedStyle(t).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{r.open=!1,e.state&&e.state({state:r.open}),t.style.opacity="0",t.setAttribute("inert",""),r.autoUpdateCleanup&&r.autoUpdateCleanup(),o&&o()},a)}function h(){r.open===!1?p():u()}function y(o){if(r.open===!1||n.contains(o.target))return;if(t&&t.contains(o.target)===!1){u();return}const a=e.closeQuery===void 0?"a[href], button":e.closeQuery,c=t==null?void 0:t.querySelectorAll(a);c==null||c.forEach(E=>{E.contains(o.target)&&u()})}const S=o=>{if(r.open===!1)return;const a=o.key;if(a==="Escape"){o.preventDefault(),n.focus(),u();return}w=Array.from(t==null?void 0:t.querySelectorAll(b)),r.open&&document.activeElement===n&&(a==="ArrowDown"||a==="Tab")&&b.length>0&&w.length>0&&(o.preventDefault(),w[0].focus())};switch(e.event){case"click":n.addEventListener("click",h,!0),window.addEventListener("click",y,!0);break;case"hover":n.addEventListener("mouseover",p,!0),n.addEventListener("mouseleave",()=>u(),!0);break;case"focus-blur":n.addEventListener("focus",h,!0),n.addEventListener("blur",()=>u(),!0);break;case"focus-click":n.addEventListener("focus",p,!0),window.addEventListener("click",y,!0);break;default:throw new Error(`Event value of '${e.event}' is not supported. ${s}`)}return window.addEventListener("keydown",S,!0),v(),{update(o){u(()=>{e=o,v(),x()})},destroy(){n.removeEventListener("click",h,!0),n.removeEventListener("mouseover",p,!0),n.removeEventListener("mouseleave",()=>u(),!0),n.removeEventListener("focus",h,!0),n.removeEventListener("focus",p,!0),n.removeEventListener("blur",()=>u(),!0),window.removeEventListener("click",y,!0),window.removeEventListener("keydown",S,!0)}}}const Q=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href,H=n=>{if(!n)return Q;if(n.imgUrl)return n.imgUrl;const e=n.b2sFiles||[];if(e.length){const l=[...e].sort((i,f)=>f.updatedAt-i.updatedAt).find(i=>i.imgUrl);if(l)return l.imgUrl}const d=n.tableFiles||[];if(d.length){const l=[...d].sort((i,f)=>f.updatedAt-i.updatedAt).find(i=>i.imgUrl);if(l)return l.imgUrl}return Q};export{Q as P,H as g,G as p,R as s};
