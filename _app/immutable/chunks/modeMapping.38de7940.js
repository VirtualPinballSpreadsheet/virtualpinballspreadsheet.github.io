import{w as Oe,r as En,d as Ae}from"./index.ac37785c.js";import{O as vr,v as jt,s as ot,f as P,a as R,l as q,g as O,h as k,c as N,m as G,d as C,U as me,j as g,i as ce,A as h,n as Z,r as gt,$ as Ot,Q as Je,a0 as Lt,R as Ke,k as ie,H as pt,V as tn,N as Ut,W as Wt,p as rn,e as Mr,J as sr}from"./scheduler.dedae0ab.js";import{a as We,t as $e,S as lt,i as st,o as Ze,g as nn,c as an,b as mr,d as gr,m as pr,e as yr}from"./index.21d01676.js";function Ue(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Sn(r,e){$e(r,1,1,()=>{e.delete(r.key)})}function ho(r,e){r.f(),Sn(r,e)}function vo(r,e,t,n,a,i,o,l,s,u,c,v){let f=r.length,d=i.length,m=f;const p={};for(;m--;)p[r[m].key]=m;const _=[],y=new Map,w=new Map,b=[];for(m=d;m--;){const F=v(a,i,m),E=t(F);let T=o.get(E);T?n&&b.push(()=>T.p(F,e)):(T=u(E,F),T.c()),y.set(E,_[m]=T),E in p&&w.set(E,Math.abs(m-p[E]))}const S=new Set,L=new Set;function D(F){We(F,1),F.m(l,c),o.set(F.key,F),c=F.first,d--}for(;f&&d;){const F=_[d-1],E=r[f-1],T=F.key,A=E.key;F===E?(c=F.first,f--,d--):y.has(A)?!o.has(T)||S.has(T)?D(F):L.has(A)?f--:w.get(T)>w.get(A)?(L.add(T),D(F)):(S.add(A),f--):(s(E,o),f--)}for(;f--;){const F=r[f];y.has(F.key)||s(F,o)}for(;d;)D(_[d-1]);return vr(b),_}function mo(r,e){const t={},n={},a={$$scope:1};let i=r.length;for(;i--;){const o=r[i],l=e[i];if(l){for(const s in o)s in l||(n[s]=1);for(const s in l)a[s]||(t[s]=l[s],a[s]=1);r[i]=l}else for(const s in o)a[s]=1}for(const o in n)o in t||(t[o]=void 0);return t}function go(r){return typeof r=="object"&&r!==null?r:{}}const $t={};function Tr(r){return r==="local"?localStorage:sessionStorage}function wr(r,e,t){const n=(t==null?void 0:t.serializer)??JSON,a=(t==null?void 0:t.storage)??"local";function i(o,l){Tr(a).setItem(o,n.stringify(l))}if(!$t[r]){const o=Oe(e,u=>{const c=Tr(a).getItem(r);c&&u(n.parse(c));{const v=f=>{f.key===r&&u(f.newValue?n.parse(f.newValue):null)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)}}),{subscribe:l,set:s}=o;$t[r]={set(u){i(r,u),s(u)},update(u){const c=u(jt(o));i(r,c),s(c)},subscribe:l}}return $t[r]}const Dn=wr("modeOsPrefers",!1),Mn=wr("modeUserPrefers",void 0),on=wr("modeCurrent",!1);function po(){const r=window.matchMedia("(prefers-color-scheme: light)").matches;return Dn.set(r),r}function yo(r){Mn.set(r)}function wo(r){const e=document.documentElement.classList,t="dark";r===!0?e.remove(t):e.add(t),on.set(r)}function bo(){const r=document.documentElement.classList,e=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),n=window.matchMedia("(prefers-color-scheme: dark)").matches;e||t&&n?r.add("dark"):r.remove("dark")}const ln="(prefers-reduced-motion: reduce)";function Tn(){return window.matchMedia(ln).matches}const _o=En(Tn(),r=>{{const e=n=>{r(n.matches)},t=window.matchMedia(ln);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});function Fo(r){const e=r-1;return e*e*e+1}function zt(r){return r/=.5,r<1?.5*r*r:(r--,-.5*(r*(r-2)-1))}const Vt=["tableFiles","povFiles","b2sFiles","romFiles","altColorFiles","altSoundFiles","pupPackFiles","wheelArtFiles","topperFiles","mediaPackFiles","soundFiles","ruleFiles"],sn={id:"",authors:[],tableFormat:"VPX",urls:[],updatedAt:0},qt={id:"",updatedAt:0,manufacturer:"",name:"???",year:0},Pn={authors:[],id:"",updatedAt:0,urls:[]},On={authors:[],id:"",updatedAt:0,urls:[]};var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ae.apply(this,arguments)};function An(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(v){o(v)}}function s(c){try{u(n.throw(c))}catch(v){o(v)}}function u(c){c.done?i(c.value):a(c.value).then(l,s)}u((n=n.apply(r,e||[])).next())})}function kn(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return s([u,c])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Q(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}var xn="ENTRIES",un="KEYS",fn="VALUES",ve="",er=function(){function r(e,t){var n=e._tree,a=Array.from(n.keys());this.set=e,this._type=t,this._path=a.length>0?[{node:n,keys:a}]:[]}return r.prototype.next=function(){var e=this.dive();return this.backtrack(),e},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=ct(this._path),t=e.node,n=e.keys;if(ct(n)===ve)return{done:!1,value:this.result()};var a=t.get(ct(n));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var e=ct(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return ct(t)}).filter(function(e){return e!==ve}).join("")},r.prototype.value=function(){return ct(this._path).node.get(ve)},r.prototype.result=function(){switch(this._type){case fn:return this.value();case un:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),ct=function(r){return r[r.length-1]},In=function(r,e,t){var n=new Map;if(e===void 0)return n;for(var a=e.length+1,i=a+t,o=new Uint8Array(i*a).fill(t+1),l=0;l<a;++l)o[l]=l;for(var s=1;s<i;++s)o[s*a]=s;return cn(r,e,t,n,o,1,a,""),n},cn=function(r,e,t,n,a,i,o,l){var s,u,c=i*o;try{e:for(var v=Q(r.keys()),f=v.next();!f.done;f=v.next()){var d=f.value;if(d===ve){var m=a[c-1];m<=t&&n.set(l,[r.get(d),m])}else{for(var p=i,_=0;_<d.length;++_,++p){for(var y=d[_],w=o*p,b=w-o,S=a[w],L=Math.max(0,p-t-1),D=Math.min(o-1,p+t),F=L;F<D;++F){var E=y!==e[F],T=a[b+F]+ +E,A=a[b+F+1]+1,B=a[w+F]+1,M=a[w+F+1]=Math.min(T,A,B);M<S&&(S=M)}if(S>t)continue e}cn(r.get(d),e,t,n,a,p,o,l+d)}}}catch(H){s={error:H}}finally{try{f&&!f.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}},tr=function(){function r(e,t){e===void 0&&(e=new Map),t===void 0&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return r.prototype.atPrefix=function(e){var t,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var a=ue(Bt(this._tree,e.slice(this._prefix.length)),2),i=a[0],o=a[1];if(i===void 0){var l=ue(br(o),2),s=l[0],u=l[1];try{for(var c=Q(s.keys()),v=c.next();!v.done;v=c.next()){var f=v.value;if(f!==ve&&f.startsWith(u)){var d=new Map;return d.set(f.slice(u.length),s.get(f)),new r(d,e)}}}catch(m){t={error:m}}finally{try{v&&!v.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}return new r(i,e)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(e){return this._size=void 0,Ln(this._tree,e)},r.prototype.entries=function(){return new er(this,xn)},r.prototype.forEach=function(e){var t,n;try{for(var a=Q(this),i=a.next();!i.done;i=a.next()){var o=ue(i.value,2),l=o[0],s=o[1];e(l,s,this)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.fuzzyGet=function(e,t){return In(this._tree,e,t)},r.prototype.get=function(e){var t=ur(this._tree,e);return t!==void 0?t.get(ve):void 0},r.prototype.has=function(e){var t=ur(this._tree,e);return t!==void 0&&t.has(ve)},r.prototype.keys=function(){return new er(this,un)},r.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=rr(this._tree,e);return n.set(ve,t),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=rr(this._tree,e);return n.set(ve,t(n.get(ve))),this},r.prototype.fetch=function(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;var n=rr(this._tree,e),a=n.get(ve);return a===void 0&&n.set(ve,a=t()),a},r.prototype.values=function(){return new er(this,fn)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(e){var t,n,a=new r;try{for(var i=Q(e),o=i.next();!o.done;o=i.next()){var l=ue(o.value,2),s=l[0],u=l[1];a.set(s,u)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fromObject=function(e){return r.from(Object.entries(e))},r}(),Bt=function(r,e,t){var n,a;if(t===void 0&&(t=[]),e.length===0||r==null)return[r,t];try{for(var i=Q(r.keys()),o=i.next();!o.done;o=i.next()){var l=o.value;if(l!==ve&&e.startsWith(l))return t.push([r,l]),Bt(r.get(l),e.slice(l.length),t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return t.push([r,e]),Bt(void 0,"",t)},ur=function(r,e){var t,n;if(e.length===0||r==null)return r;try{for(var a=Q(r.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;if(o!==ve&&e.startsWith(o))return ur(r.get(o),e.slice(o.length))}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},rr=function(r,e){var t,n,a=e.length;e:for(var i=0;r&&i<a;){try{for(var o=(t=void 0,Q(r.keys())),l=o.next();!l.done;l=o.next()){var s=l.value;if(s!==ve&&e[i]===s[0]){for(var u=Math.min(a-i,s.length),c=1;c<u&&e[i+c]===s[c];)++c;var v=r.get(s);if(c===s.length)r=v;else{var f=new Map;f.set(s.slice(c),v),r.set(e.slice(i,i+c),f),r.delete(s),r=f}i+=c;continue e}}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var d=new Map;return r.set(e.slice(i),d),d}return r},Ln=function(r,e){var t=ue(Bt(r,e),2),n=t[0],a=t[1];if(n!==void 0){if(n.delete(ve),n.size===0)dn(a);else if(n.size===1){var i=ue(n.entries().next().value,2),o=i[0],l=i[1];hn(a,o,l)}}},dn=function(r){if(r.length!==0){var e=ue(br(r),2),t=e[0],n=e[1];if(t.delete(n),t.size===0)dn(r.slice(0,-1));else if(t.size===1){var a=ue(t.entries().next().value,2),i=a[0],o=a[1];i!==ve&&hn(r.slice(0,-1),i,o)}}},hn=function(r,e,t){if(r.length!==0){var n=ue(br(r),2),a=n[0],i=n[1];a.set(i+e,t),a.delete(i)}},br=function(r){return r[r.length-1]},St,_r="or",vn="and",Un="and_not",Wn=function(){function r(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var t=e.autoVacuum==null||e.autoVacuum===!0?ir:e.autoVacuum;this._options=ae(ae(ae({},ar),e),{autoVacuum:t,searchOptions:ae(ae({},Pr),e.searchOptions||{}),autoSuggestOptions:ae(ae({},Hn),e.autoSuggestOptions||{})}),this._index=new tr,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=cr,this.addFields(this._options.fields)}return r.prototype.add=function(e){var t,n,a,i,o,l,s=this._options,u=s.extractField,c=s.tokenize,v=s.processTerm,f=s.fields,d=s.idField,m=u(e,d);if(m==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));if(this._idToShortId.has(m))throw new Error("MiniSearch: duplicate ID ".concat(m));var p=this.addDocumentId(m);this.saveStoredFields(p,e);try{for(var _=Q(f),y=_.next();!y.done;y=_.next()){var w=y.value,b=u(e,w);if(b!=null){var S=c(b.toString(),w),L=this._fieldIds[w],D=new Set(S).size;this.addFieldLength(p,L,this._documentCount-1,D);try{for(var F=(a=void 0,Q(S)),E=F.next();!E.done;E=F.next()){var T=E.value,A=v(T,w);if(Array.isArray(A))try{for(var B=(o=void 0,Q(A)),M=B.next();!M.done;M=B.next()){var H=M.value;this.addTerm(L,p,H)}}catch(U){o={error:U}}finally{try{M&&!M.done&&(l=B.return)&&l.call(B)}finally{if(o)throw o.error}}else A&&this.addTerm(L,p,A)}}catch(U){a={error:U}}finally{try{E&&!E.done&&(i=F.return)&&i.call(F)}finally{if(a)throw a.error}}}}}catch(U){t={error:U}}finally{try{y&&!y.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}},r.prototype.addAll=function(e){var t,n;try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.add(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var a=t.chunkSize,i=a===void 0?10:a,o={chunk:[],promise:Promise.resolve()},l=e.reduce(function(c,v,f){var d=c.chunk,m=c.promise;return d.push(v),(f+1)%i===0?{chunk:[],promise:m.then(function(){return new Promise(function(p){return setTimeout(p,0)})}).then(function(){return n.addAll(d)})}:{chunk:d,promise:m}},o),s=l.chunk,u=l.promise;return u.then(function(){return n.addAll(s)})},r.prototype.remove=function(e){var t,n,a,i,o,l,s=this._options,u=s.tokenize,c=s.processTerm,v=s.extractField,f=s.fields,d=s.idField,m=v(e,d);if(m==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));var p=this._idToShortId.get(m);if(p==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(m,": it is not in the index"));try{for(var _=Q(f),y=_.next();!y.done;y=_.next()){var w=y.value,b=v(e,w);if(b!=null){var S=u(b.toString(),w),L=this._fieldIds[w],D=new Set(S).size;this.removeFieldLength(p,L,this._documentCount,D);try{for(var F=(a=void 0,Q(S)),E=F.next();!E.done;E=F.next()){var T=E.value,A=c(T,w);if(Array.isArray(A))try{for(var B=(o=void 0,Q(A)),M=B.next();!M.done;M=B.next()){var H=M.value;this.removeTerm(L,p,H)}}catch(U){o={error:U}}finally{try{M&&!M.done&&(l=B.return)&&l.call(B)}finally{if(o)throw o.error}}else A&&this.removeTerm(L,p,A)}}catch(U){a={error:U}}finally{try{E&&!E.done&&(i=F.return)&&i.call(F)}finally{if(a)throw a.error}}}}}catch(U){t={error:U}}finally{try{y&&!y.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}this._storedFields.delete(p),this._documentIds.delete(p),this._idToShortId.delete(m),this._fieldLength.delete(p),this._documentCount-=1},r.prototype.removeAll=function(e){var t,n;if(e)try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;this.remove(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new tr,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(a,i){t.removeFieldLength(n,i,t._documentCount,a)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,a=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:a,batchWait:i},{minDirtCount:n,minDirtFactor:t})}},r.prototype.discardAll=function(e){var t,n,a=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=Q(e),o=i.next();!o.done;o=i.next()){var l=o.value;this.discard(l)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=a}this.maybeAutoVacuum()},r.prototype.replace=function(e){var t=this._options,n=t.idField,a=t.extractField,i=a(e,n);this.discard(i),this.add(e)},r.prototype.vacuum=function(e){return e===void 0&&(e={}),this.conditionalVacuum(e)},r.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var a=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=cr,n.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},r.prototype.performVacuuming=function(e,t){return An(this,void 0,void 0,function(){var n,a,i,o,l,s,u,c,v,f,d,m,p,_,y,w,b,S,L,D,F,E,T,A,B;return kn(this,function(M){switch(M.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];a=e.batchSize||fr.batchSize,i=e.batchWait||fr.batchWait,o=1,M.label=1;case 1:M.trys.push([1,7,8,9]),l=Q(this._index),s=l.next(),M.label=2;case 2:if(s.done)return[3,6];u=ue(s.value,2),c=u[0],v=u[1];try{for(f=(E=void 0,Q(v)),d=f.next();!d.done;d=f.next()){m=ue(d.value,2),p=m[0],_=m[1];try{for(y=(A=void 0,Q(_)),w=y.next();!w.done;w=y.next())b=ue(w.value,1),S=b[0],!this._documentIds.has(S)&&(_.size<=1?v.delete(p):_.delete(S))}catch(H){A={error:H}}finally{try{w&&!w.done&&(B=y.return)&&B.call(y)}finally{if(A)throw A.error}}}}catch(H){E={error:H}}finally{try{d&&!d.done&&(T=f.return)&&T.call(f)}finally{if(E)throw E.error}}return this._index.get(c).size===0&&this._index.delete(c),o%a!==0?[3,4]:[4,new Promise(function(H){return setTimeout(H,i)})];case 3:M.sent(),M.label=4;case 4:o+=1,M.label=5;case 5:return s=l.next(),[3,2];case 6:return[3,9];case 7:return L=M.sent(),D={error:L},[3,9];case 8:try{s&&!s.done&&(F=l.return)&&F.call(l)}finally{if(D)throw D.error}return[7];case 9:this._dirtCount-=n,M.label=10;case 10:return[4,null];case 11:return M.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(e){if(e==null)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||ir.minDirtCount,n=n||ir.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(e){return this._idToShortId.has(e)},r.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)},r.prototype.search=function(e,t){var n,a;t===void 0&&(t={});var i=this.executeQuery(e,t),o=[];try{for(var l=Q(i),s=l.next();!s.done;s=l.next()){var u=ue(s.value,2),c=u[0],v=u[1],f=v.score,d=v.terms,m=v.match,p=d.length,_={id:this._documentIds.get(c),score:f*p,terms:Object.keys(m),match:m};Object.assign(_,this._storedFields.get(c)),(t.filter==null||t.filter(_))&&o.push(_)}}catch(y){n={error:y}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return o.sort(Ar),o},r.prototype.autoSuggest=function(e,t){var n,a,i,o;t===void 0&&(t={}),t=ae(ae({},this._options.autoSuggestOptions),t);var l=new Map;try{for(var s=Q(this.search(e,t)),u=s.next();!u.done;u=s.next()){var c=u.value,v=c.score,f=c.terms,d=f.join(" "),m=l.get(d);m!=null?(m.score+=v,m.count+=1):l.set(d,{score:v,terms:f,count:1})}}catch(L){n={error:L}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}var p=[];try{for(var _=Q(l),y=_.next();!y.done;y=_.next()){var w=ue(y.value,2),m=w[0],b=w[1],v=b.score,f=b.terms,S=b.count;p.push({suggestion:m,terms:f,score:v/S})}}catch(L){i={error:L}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}return p.sort(Ar),p},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},r.getDefault=function(e){if(ar.hasOwnProperty(e))return nr(ar,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},r.loadJS=function(e,t){var n,a,i,o,l,s,u=e.index,c=e.documentCount,v=e.nextId,f=e.documentIds,d=e.fieldIds,m=e.fieldLength,p=e.averageFieldLength,_=e.storedFields,y=e.dirtCount,w=e.serializationVersion;if(w!==1&&w!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var b=new r(t);b._documentCount=c,b._nextId=v,b._documentIds=At(f),b._idToShortId=new Map,b._fieldIds=d,b._fieldLength=At(m),b._avgFieldLength=p,b._storedFields=At(_),b._dirtCount=y||0,b._index=new tr;try{for(var S=Q(b._documentIds),L=S.next();!L.done;L=S.next()){var D=ue(L.value,2),F=D[0],E=D[1];b._idToShortId.set(E,F)}}catch(V){n={error:V}}finally{try{L&&!L.done&&(a=S.return)&&a.call(S)}finally{if(n)throw n.error}}try{for(var T=Q(u),A=T.next();!A.done;A=T.next()){var B=ue(A.value,2),M=B[0],H=B[1],U=new Map;try{for(var W=(l=void 0,Q(Object.keys(H))),I=W.next();!I.done;I=W.next()){var Y=I.value,z=H[Y];w===1&&(z=z.ds),U.set(parseInt(Y,10),At(z))}}catch(V){l={error:V}}finally{try{I&&!I.done&&(s=W.return)&&s.call(W)}finally{if(l)throw l.error}}b._index.set(M,U)}}catch(V){i={error:V}}finally{try{A&&!A.done&&(o=T.return)&&o.call(T)}finally{if(i)throw i.error}}return b},r.prototype.executeQuery=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e!="string"){var a=ae(ae(ae({},t),e),{queries:void 0}),i=e.queries.map(function(_){return n.executeQuery(_,a)});return this.combineResults(i,a.combineWith)}var o=this._options,l=o.tokenize,s=o.processTerm,u=o.searchOptions,c=ae(ae({tokenize:l,processTerm:s},u),t),v=c.tokenize,f=c.processTerm,d=v(e).flatMap(function(_){return f(_)}).filter(function(_){return!!_}),m=d.map(Yn(c)),p=m.map(function(_){return n.executeQuerySpec(_,c)});return this.combineResults(p,c.combineWith)},r.prototype.executeQuerySpec=function(e,t){var n,a,i,o,l=ae(ae({},this._options.searchOptions),t),s=(l.fields||this._options.fields).reduce(function(Y,z){var V;return ae(ae({},Y),(V={},V[z]=nr(l.boost,z)||1,V))},{}),u=l.boostDocument,c=l.weights,v=l.maxFuzzy,f=l.bm25,d=ae(ae({},Pr.weights),c),m=d.fuzzy,p=d.prefix,_=this._index.get(e.term),y=this.termResults(e.term,e.term,1,_,s,u,f),w,b;if(e.prefix&&(w=this._index.atPrefix(e.term)),e.fuzzy){var S=e.fuzzy===!0?.2:e.fuzzy,L=S<1?Math.min(v,Math.round(e.term.length*S)):S;L&&(b=this._index.fuzzyGet(e.term,L))}if(w)try{for(var D=Q(w),F=D.next();!F.done;F=D.next()){var E=ue(F.value,2),T=E[0],A=E[1],B=T.length-e.term.length;if(B){b==null||b.delete(T);var M=p*T.length/(T.length+.3*B);this.termResults(e.term,T,M,A,s,u,f,y)}}}catch(Y){n={error:Y}}finally{try{F&&!F.done&&(a=D.return)&&a.call(D)}finally{if(n)throw n.error}}if(b)try{for(var H=Q(b.keys()),U=H.next();!U.done;U=H.next()){var T=U.value,W=ue(b.get(T),2),I=W[0],B=W[1];if(B){var M=m*T.length/(T.length+B);this.termResults(e.term,T,M,I,s,u,f,y)}}}catch(Y){i={error:Y}}finally{try{U&&!U.done&&(o=H.return)&&o.call(H)}finally{if(i)throw i.error}}return y},r.prototype.combineResults=function(e,t){if(t===void 0&&(t=_r),e.length===0)return new Map;var n=t.toLowerCase();return e.reduce(zn[n])||new Map},r.prototype.toJSON=function(){var e,t,n,a,i=[];try{for(var o=Q(this._index),l=o.next();!l.done;l=o.next()){var s=ue(l.value,2),u=s[0],c=s[1],v={};try{for(var f=(n=void 0,Q(c)),d=f.next();!d.done;d=f.next()){var m=ue(d.value,2),p=m[0],_=m[1];v[p]=Object.fromEntries(_)}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}i.push([u,v])}}catch(y){e={error:y}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(e,t,n,a,i,o,l,s){var u,c,v,f,d;if(s===void 0&&(s=new Map),a==null)return s;try{for(var m=Q(Object.keys(i)),p=m.next();!p.done;p=m.next()){var _=p.value,y=i[_],w=this._fieldIds[_],b=a.get(w);if(b!=null){var S=b.size,L=this._avgFieldLength[w];try{for(var D=(v=void 0,Q(b.keys())),F=D.next();!F.done;F=D.next()){var E=F.value;if(!this._documentIds.has(E)){this.removeTerm(w,E,t),S-=1;continue}var T=o?o(this._documentIds.get(E),t,this._storedFields.get(E)):1;if(T){var A=b.get(E),B=this._fieldLength.get(E)[w],M=Bn(A,S,this._documentCount,B,L,l),H=n*y*T*M,U=s.get(E);if(U){U.score+=H,Rn(U.terms,e);var W=nr(U.match,t);W?W.push(_):U.match[t]=[_]}else s.set(E,{score:H,terms:[e],match:(d={},d[t]=[_],d)})}}}catch(I){v={error:I}}finally{try{F&&!F.done&&(f=D.return)&&f.call(D)}finally{if(v)throw v.error}}}}}catch(I){u={error:I}}finally{try{p&&!p.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}return s},r.prototype.addTerm=function(e,t,n){var a=this._index.fetch(n,kr),i=a.get(e);if(i==null)i=new Map,i.set(t,1),a.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},r.prototype.removeTerm=function(e,t,n){if(!this._index.has(n)){this.warnDocumentChanged(t,e,n);return}var a=this._index.fetch(n,kr),i=a.get(e);i==null||i.get(t)==null?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?a.delete(e):i.delete(t):i.set(t,i.get(t)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(e,t,n){var a,i;try{for(var o=Q(Object.keys(this._fieldIds)),l=o.next();!l.done;l=o.next()){var s=l.value;if(this._fieldIds[s]===t){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(s,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}},r.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},r.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},r.prototype.addFieldLength=function(e,t,n,a){var i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[t]=a;var o=this._avgFieldLength[t]||0,l=o*n+a;this._avgFieldLength[t]=l/(n+1)},r.prototype.removeFieldLength=function(e,t,n,a){if(n===1){this._avgFieldLength[t]=0;return}var i=this._avgFieldLength[t]*n-a;this._avgFieldLength[t]=i/(n-1)},r.prototype.saveStoredFields=function(e,t){var n,a,i=this._options,o=i.storeFields,l=i.extractField;if(!(o==null||o.length===0)){var s=this._storedFields.get(e);s==null&&this._storedFields.set(e,s={});try{for(var u=Q(o),c=u.next();!c.done;c=u.next()){var v=c.value,f=l(t,v);f!==void 0&&(s[v]=f)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}},r}(),nr=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},zn=(St={},St[_r]=function(r,e){var t,n;try{for(var a=Q(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value,l=r.get(o);if(l==null)r.set(o,e.get(o));else{var s=e.get(o),u=s.score,c=s.terms,v=s.match;l.score=l.score+u,l.match=Object.assign(l.match,v),Or(l.terms,c)}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},St[vn]=function(r,e){var t,n,a=new Map;try{for(var i=Q(e.keys()),o=i.next();!o.done;o=i.next()){var l=o.value,s=r.get(l);if(s!=null){var u=e.get(l),c=u.score,v=u.terms,f=u.match;Or(s.terms,v),a.set(l,{score:s.score+c,terms:s.terms,match:Object.assign(s.match,f)})}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},St[Un]=function(r,e){var t,n;try{for(var a=Q(e.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;r.delete(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},St),Vn={k:1.2,b:.7,d:.5},Bn=function(r,e,t,n,a,i){var o=i.k,l=i.b,s=i.d,u=Math.log(1+(t-e+.5)/(e+.5));return u*(s+r*(o+1)/(r+o*(1-l+l*n/a)))},Yn=function(r){return function(e,t,n){var a=typeof r.fuzzy=="function"?r.fuzzy(e,t,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(e,t,n):r.prefix===!0;return{term:e,fuzzy:a,prefix:i}}},ar={idField:"id",extractField:function(r,e){return r[e]},tokenize:function(r,e){return r.split(Nn)},processTerm:function(r,e){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,e,t){return console!=null&&console.warn!=null&&console[r](e)},autoVacuum:!0},Pr={combineWith:_r,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Vn},Hn={combineWith:vn,prefix:function(r,e,t){return e===t.length-1}},fr={batchSize:1e3,batchWait:10},cr={minDirtFactor:.1,minDirtCount:20},ir=ae(ae({},fr),cr),Rn=function(r,e){r.includes(e)||r.push(e)},Or=function(r,e){var t,n;try{for(var a=Q(e),i=a.next();!i.done;i=a.next()){var o=i.value;r.includes(o)||r.push(o)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},Ar=function(r,e){var t=r.score,n=e.score;return n-t},kr=function(){return new Map},At=function(r){var e,t,n=new Map;try{for(var a=Q(Object.keys(r)),i=a.next();!i.done;i=a.next()){var o=i.value;n.set(parseInt(o,10),r[o])}}catch(l){e={error:l}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},Nn=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;const Fr=Oe({}),jn=async()=>{try{const e=await(await fetch("https://fraesh.github.io/vps-db/vpsdb.json")).json(),t={};e.forEach(n=>{const a=n.id;t[a]=n}),Fr.set(t)}catch(r){console.log(r)}},qn=r=>{var n,a;const t=jt(Fr)[r];if(t){if(t.imgUrl)return t.imgUrl;if((n=t.b2sFiles)!=null&&n.length&&t.b2sFiles[0].imgUrl)return t.b2sFiles[0].imgUrl;if((a=t.tableFiles)!=null&&a.length&&t.tableFiles[0].imgUrl)return t.tableFiles[0].imgUrl}},ut={fetchDb:jn,getGameImage:qn,dbStore:Fr},Gt=Ae(ut.dbStore,r=>Object.values(r).sort((e,t)=>t.updatedAt-e.updatedAt)),mn=Ae(ut.dbStore,r=>{const e=Object.values(r),t={};for(const n of Vt)t[n]=[];for(const n of e)for(const a of Vt){const i=n[a];Array.isArray(i)&&(t[a]=(t[a]||[]).concat(i.map(o=>({...o,game:{id:n.id,name:n.name}}))))}return Object.entries(t).forEach(([n,a])=>{t[n]=a.sort((i,o)=>(o.createdAt||0)-(i.createdAt||0))}),t}),gn=Oe(""),pn=Oe("game"),yt=Oe(!1),Cr=Oe({active:!1,value:[0,10]}),Qt=Oe({active:!1,value:[],options:[]}),Xt=Oe({active:!1,value:[],options:[]}),Jt=Oe({active:!1,value:[],options:[]}),Kt=Oe({active:!1,value:[],options:[]}),Gn=Oe("lastUpdated");let or;const yn=Ae(gn,(r,e)=>{or&&clearTimeout(or),or=setTimeout(()=>e(r),300)}),Qn=Ae([yn,Cr,Qt,Xt,Kt,Jt],([r,e,t,n,a,i])=>r||e.active||t.active||n.active||a.active||i.active),dr=new Wn({fields:["name","manufacturer","designers",...Vt],extractField:(r,e)=>{var t;if(Vt.includes(e)){const n=(t=r[e])==null?void 0:t.reduce((a,i)=>[...a,...i.authors||[]],[]);return(n==null?void 0:n.join(", "))||""}return Array.isArray(r[e])?r[e].join(", "):r[e]}});Gt.subscribe(r=>{dr.removeAll(),dr.addAll(Object.values(r));let e=[],t=[],n=[],a=[];const i=[9999,0];r.forEach(o=>{o.features&&(e=e.concat(o.features)),o.theme&&(t=t.concat(o.theme)),o.manufacturer&&(n=n.concat(o.manufacturer)),o.year<i[0]&&(i[0]=o.year),o.year>i[1]&&(i[1]=o.year),o.tableFiles&&o.tableFiles.forEach(l=>{a=a.concat(l.authors)})}),Xt.update(o=>({...o,options:Array.from(new Set(e)).map(l=>({label:l,value:l}))})),Jt.update(o=>({...o,options:Array.from(new Set(t)).map(l=>({label:l,value:l}))})),Qt.update(o=>({...o,options:Array.from(new Set(n)).map(l=>({label:l,value:l}))})),Kt.update(o=>({...o,options:Array.from(new Set(a)).map(l=>({label:l,value:l}))}))});const Xn=Ae([yn,Gt],([r,e])=>r?dr.search(r.toLowerCase(),{prefix:!0,fuzzy:.2,combineWith:"AND"}):void 0),Jn=Ae([pn,Xn,Gt,mn],([r,e,t,n])=>{var u;if(!e)return r==="game"?t:n[r]||[];const a=jt(ut.dbStore);if(r==="game")return e.map(c=>a[c.id]);const i=["name","manufacturer","designers",r],o=["name","manufacturer","designers"],l=e.filter(c=>Object.values(c.match).some(v=>v.some(f=>i.includes(f)))),s=[];for(const c of l){const v=a[c.id],f=v==null?void 0:v[r];if(!(f!=null&&f.length))continue;if(Object.values(c.match).some(m=>m.some(p=>o.includes(p)))){s.push(...f.map(m=>({...m,game:{id:v.id,name:v.name}})));continue}const d=(u=Object.entries(c.match).find(([m,p])=>p.some(_=>_===r)))==null?void 0:u[0];d&&f.forEach(m=>{var p;(p=m.authors)!=null&&p.some(_=>_.includes(d))&&s.push({...m,game:{id:v.id,name:v.name}})})}return s}),Er=(r,e)=>{if(r[0].game){const t=jt(ut.dbStore);return r.filter(n=>{var i;if(!((i=n.game)!=null&&i.id))return;const a=t[n.game.id];if(a)return e(a)})}else return r.filter(e)},Kn=Ae([yt,Cr,Jn],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:Er(t,n=>n.players!==void 0&&n.players>=e.value[0]&&n.players<=e.value[1])),Zn=Ae([yt,Qt,Kn],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:Er(t,n=>e.value.includes(n.manufacturer))),$n=Ae([yt,Jt,Zn],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)?t:Er(t,n=>e.value.some(a=>{var i;return(i=n.theme)==null?void 0:i.includes(a)}))),ea=Ae([yt,Kt,$n],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:t.filter(n=>{var a,i;return n.game?(a=n.authors)==null?void 0:a.some(o=>e.value.includes(o)):(i=n.tableFiles)==null?void 0:i.some(o=>{var l;return(l=o.authors)==null?void 0:l.some(s=>e.value.includes(s))})})),ta=Ae([yt,Xt,ea],([r,e,t])=>!r||!e.active||!(t!=null&&t.length)||!e.value.length?t:t.filter(n=>{var a,i;return n.game?(a=n.features)==null?void 0:a.some(o=>e.value.includes(o)):(i=n.tableFiles)==null?void 0:i.some(o=>{var l;return(l=o.features)==null?void 0:l.some(s=>e.value.includes(s))})})),ra=ta,Co={sortedDbStore:Gt,sortedFilesStore:mn,finalResultsStore:ra,query:gn,mode:pn,filterActive:yt,players:Cr,manufacturer:Qt,theme:Jt,author:Kt,features:Xt,sortBy:Gn,isSearchActive:Qn},Yt=""+new URL("../assets/bgPlaceholder.9e5a8fcb.jpg",import.meta.url).href;function xr(r,e,t){const n=r.slice();return n[2]=e[t],n}function Ir(r){let e,t=r[2]+"",n,a;return{c(){e=P("div"),n=q(t),a=R(),this.h()},l(i){e=O(i,"DIV",{class:!0});var o=k(e);n=G(o,t),a=N(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ce(i,e,o),h(e,n),h(e,a)},p(i,o){o&1&&t!==(t=i[2]+"")&&Z(n,t)},d(i){i&&C(e)}}}function na(r){var S,L;let e,t,n,a,i,o,l,s,u,c,v=((S=r[0].game)==null?void 0:S.name)+"",f,d,m,p,_=((L=r[0].authors)==null?void 0:L.join(", "))+"",y,w=Ue(r[0].features||[]),b=[];for(let D=0;D<w.length;D+=1)b[D]=Ir(xr(r,w,D));return{c(){e=P("a"),t=P("img"),i=R(),o=P("hr"),l=R(),s=P("div"),u=P("div"),c=P("p"),f=q(v),d=R();for(let D=0;D<b.length;D+=1)b[D].c();m=R(),p=P("h4"),y=q(_),this.h()},l(D){e=O(D,"A",{href:!0,class:!0});var F=k(e);t=O(F,"IMG",{src:!0,alt:!0,class:!0}),i=N(F),o=O(F,"HR",{}),l=N(F),s=O(F,"DIV",{class:!0});var E=k(s);u=O(E,"DIV",{class:!0});var T=k(u);c=O(T,"P",{class:!0});var A=k(c);f=G(A,v),A.forEach(C),d=N(T);for(let M=0;M<b.length;M+=1)b[M].l(T);T.forEach(C),m=N(E),p=O(E,"H4",{class:!0});var B=k(p);y=G(B,_),B.forEach(C),E.forEach(C),F.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||Yt)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card aspectTable svelte-1mrpffe"),g(c,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(u,"class","flex gap-2"),g(p,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),g(s,"class","flex flex-col py-4"),g(e,"href",r[1]),g(e,"class","overflow-hidden flex flex-col")},m(D,F){ce(D,e,F),h(e,t),h(e,i),h(e,o),h(e,l),h(e,s),h(s,u),h(u,c),h(c,f),h(u,d);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(u,null);h(s,m),h(s,p),h(p,y)},p(D,[F]){var E,T;if(F&1&&!me(t.src,n=D[0].imgUrl||Yt)&&g(t,"src",n),F&1&&a!==(a=D[0].id)&&g(t,"alt",a),F&1&&v!==(v=((E=D[0].game)==null?void 0:E.name)+"")&&Z(f,v),F&1){w=Ue(D[0].features||[]);let A;for(A=0;A<w.length;A+=1){const B=xr(D,w,A);b[A]?b[A].p(B,F):(b[A]=Ir(B),b[A].c(),b[A].m(u,null))}for(;A<b.length;A+=1)b[A].d(1);b.length=w.length}F&1&&_!==(_=((T=D[0].authors)==null?void 0:T.join(", "))+"")&&Z(y,_),F&2&&g(e,"href",D[1])},i:gt,o:gt,d(D){D&&C(e),Ot(b,D)}}}function aa(r,e,t){let{file:n=Pn}=e,{href:a=""}=e;return r.$$set=i=>{"file"in i&&t(0,n=i.file),"href"in i&&t(1,a=i.href)},[n,a]}class ia extends lt{constructor(e){super(),st(this,e,aa,na,ot,{file:0,href:1})}}function Lr(r){let e,t=r[0].version+"",n;return{c(){e=P("span"),n=q(t),this.h()},l(a){e=O(a,"SPAN",{class:!0});var i=k(e);n=G(i,t),i.forEach(C),this.h()},h(){g(e,"class","opacity-60")},m(a,i){ce(a,e,i),h(e,n)},p(a,i){i&1&&t!==(t=a[0].version+"")&&Z(n,t)},d(a){a&&C(e)}}}function oa(r){var v;let e,t,n,a=(((v=r[0].game)==null?void 0:v.name)||"???")+"",i,o,l,s,u,c=r[0].version&&Lr(r);return{c(){e=P("a"),t=P("div"),n=P("span"),i=q(a),o=R(),c&&c.c(),l=R(),s=P("img"),this.h()},l(f){e=O(f,"A",{href:!0,class:!0});var d=k(e);t=O(d,"DIV",{class:!0});var m=k(t);n=O(m,"SPAN",{class:!0});var p=k(n);i=G(p,a),p.forEach(C),o=N(m),c&&c.l(m),m.forEach(C),l=N(d),s=O(d,"IMG",{src:!0,class:!0,alt:!0}),d.forEach(C),this.h()},h(){g(n,"class","font-bold"),g(t,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),me(s.src,u=r[2])||g(s,"src",u),g(s,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),g(s,"alt",""),g(e,"href",r[1]),g(e,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden svelte-22xih4")},m(f,d){ce(f,e,d),h(e,t),h(t,n),h(n,i),h(t,o),c&&c.m(t,null),h(e,l),h(e,s)},p(f,[d]){var m;d&1&&a!==(a=(((m=f[0].game)==null?void 0:m.name)||"???")+"")&&Z(i,a),f[0].version?c?c.p(f,d):(c=Lr(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null),d&4&&!me(s.src,u=f[2])&&g(s,"src",u),d&2&&g(e,"href",f[1])},i:gt,o:gt,d(f){f&&C(e),c&&c.d()}}}function la(r,e,t){let n;const{getGameImage:a}=ut;let{file:i=On}=e,{href:o=""}=e;return r.$$set=l=>{"file"in l&&t(0,i=l.file),"href"in l&&t(1,o=l.href)},r.$$.update=()=>{var l;r.$$.dirty&1&&t(2,n=(l=i.game)!=null&&l.id?a(i.game.id):"")},[i,o,n]}class Ie extends lt{constructor(e){super(),st(this,e,la,oa,ot,{file:0,href:1})}}const ht=r=>{if(!r)return Yt;if(r.imgUrl)return r.imgUrl;const e=r.b2sFiles||[];if(e.length){const n=[...e].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}const t=r.tableFiles||[];if(t.length){const n=[...t].sort((a,i)=>i.updatedAt-a.updatedAt).find(a=>a.imgUrl);if(n)return n.imgUrl}return Yt},vt=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href;function Ht(r){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(r)}function it(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function pe(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function ze(r){pe(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Ht(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function sa(r,e){pe(2,arguments);var t=ze(r).getTime(),n=it(e);return new Date(t+n)}var ua={};function Zt(){return ua}function fa(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function ca(r){return pe(1,arguments),r instanceof Date||Ht(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function da(r){if(pe(1,arguments),!ca(r)&&typeof r!="number")return!1;var e=ze(r);return!isNaN(Number(e))}function ha(r,e){pe(2,arguments);var t=it(e);return sa(r,-t)}var va=864e5;function ma(r){pe(1,arguments);var e=ze(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/va)+1}function Rt(r){pe(1,arguments);var e=1,t=ze(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function wn(r){pe(1,arguments);var e=ze(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=Rt(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Rt(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function ga(r){pe(1,arguments);var e=wn(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Rt(t);return n}var pa=6048e5;function ya(r){pe(1,arguments);var e=ze(r),t=Rt(e).getTime()-ga(e).getTime();return Math.round(t/pa)+1}function Nt(r,e){var t,n,a,i,o,l,s,u;pe(1,arguments);var c=Zt(),v=it((t=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(s=c.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(r),d=f.getUTCDay(),m=(d<v?7:0)+d-v;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function bn(r,e){var t,n,a,i,o,l,s,u;pe(1,arguments);var c=ze(r),v=c.getUTCFullYear(),f=Zt(),d=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(s=f.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(v+1,0,d),m.setUTCHours(0,0,0,0);var p=Nt(m,e),_=new Date(0);_.setUTCFullYear(v,0,d),_.setUTCHours(0,0,0,0);var y=Nt(_,e);return c.getTime()>=p.getTime()?v+1:c.getTime()>=y.getTime()?v:v-1}function wa(r,e){var t,n,a,i,o,l,s,u;pe(1,arguments);var c=Zt(),v=it((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(s=c.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=bn(r,e),d=new Date(0);d.setUTCFullYear(f,0,v),d.setUTCHours(0,0,0,0);var m=Nt(d,e);return m}var ba=6048e5;function _a(r,e){pe(1,arguments);var t=ze(r),n=Nt(t,e).getTime()-wa(t,e).getTime();return Math.round(n/ba)+1}function te(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var Fa={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return te(t==="yy"?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):te(n+1,2)},d:function(e,t){return te(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return te(e.getUTCHours()%12||12,t.length)},H:function(e,t){return te(e.getUTCHours(),t.length)},m:function(e,t){return te(e.getUTCMinutes(),t.length)},s:function(e,t){return te(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return te(i,t.length)}};const Xe=Fa;var dt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ca={G:function(e,t,n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Xe.y(e,t)},Y:function(e,t,n,a){var i=bn(e,a),o=i>0?i:1-i;if(t==="YY"){var l=o%100;return te(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):te(o,t.length)},R:function(e,t){var n=wn(e);return te(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return te(n,t.length)},Q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return te(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return te(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return Xe.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return te(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=_a(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):te(i,t.length)},I:function(e,t,n){var a=ya(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):te(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xe.d(e,t)},D:function(e,t,n){var a=ma(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):te(a,t.length)},E:function(e,t,n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return te(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return te(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return te(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var a=e.getUTCHours(),i;switch(a===12?i=dt.noon:a===0?i=dt.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var a=e.getUTCHours(),i;switch(a>=17?i=dt.evening:a>=12?i=dt.afternoon:a>=4?i=dt.morning:i=dt.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Xe.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xe.H(e,t)},K:function(e,t,n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):te(a,t.length)},k:function(e,t,n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):te(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xe.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xe.s(e,t)},S:function(e,t){return Xe.S(e,t)},X:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Wr(o);case"XXXX":case"XX":return at(o);case"XXXXX":case"XXX":default:return at(o,":")}},x:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Wr(o);case"xxxx":case"xx":return at(o);case"xxxxx":case"xxx":default:return at(o,":")}},O:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ur(o,":");case"OOOO":default:return"GMT"+at(o,":")}},z:function(e,t,n,a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ur(o,":");case"zzzz":default:return"GMT"+at(o,":")}},t:function(e,t,n,a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return te(o,t.length)},T:function(e,t,n,a){var i=a._originalDate||e,o=i.getTime();return te(o,t.length)}};function Ur(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+te(i,2)}function Wr(r,e){if(r%60===0){var t=r>0?"-":"+";return t+te(Math.abs(r)/60,2)}return at(r,e)}function at(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=te(Math.floor(a/60),2),o=te(a%60,2);return n+i+t+o}const Ea=Ca;var zr=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_n=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Sa=function(e,t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return zr(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",zr(a,t)).replace("{{time}}",_n(i,t))},Da={p:_n,P:Sa};const Ma=Da;var Ta=["D","DD"],Pa=["YY","YYYY"];function Oa(r){return Ta.indexOf(r)!==-1}function Aa(r){return Pa.indexOf(r)!==-1}function Vr(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ka={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xa=function(e,t,n){var a,i=ka[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Ia=xa;function lr(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var La={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ua={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wa={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},za={date:lr({formats:La,defaultWidth:"full"}),time:lr({formats:Ua,defaultWidth:"full"}),dateTime:lr({formats:Wa,defaultWidth:"full"})};const Va=za;var Ba={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ya=function(e,t,n,a){return Ba[e]};const Ha=Ya;function Dt(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{var l=r.defaultWidth,s=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[s]||r.values[l]}var u=r.argumentCallback?r.argumentCallback(e):e;return a[u]}}var Ra={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Na={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ja={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ga={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xa=function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ja={ordinalNumber:Xa,era:Dt({values:Ra,defaultWidth:"wide"}),quarter:Dt({values:Na,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dt({values:ja,defaultWidth:"wide"}),day:Dt({values:qa,defaultWidth:"wide"}),dayPeriod:Dt({values:Ga,defaultWidth:"wide",formattingValues:Qa,defaultFormattingWidth:"wide"})};const Ka=Ja;function Mt(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;var o=i[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],s=Array.isArray(l)?$a(l,function(v){return v.test(o)}):Za(l,function(v){return v.test(o)}),u;u=r.valueCallback?r.valueCallback(s):s,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Za(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function $a(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function ei(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var a=n[0],i=e.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var l=e.slice(a.length);return{value:o,rest:l}}}var ti=/^(\d+)(th|st|nd|rd)?/i,ri=/\d+/i,ni={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ai={any:[/^b/i,/^(a|c)/i]},ii={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oi={any:[/1/i,/2/i,/3/i,/4/i]},li={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},si={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ui={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ci={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},di={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hi={ordinalNumber:ei({matchPattern:ti,parsePattern:ri,valueCallback:function(e){return parseInt(e,10)}}),era:Mt({matchPatterns:ni,defaultMatchWidth:"wide",parsePatterns:ai,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:ii,defaultMatchWidth:"wide",parsePatterns:oi,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Mt({matchPatterns:li,defaultMatchWidth:"wide",parsePatterns:si,defaultParseWidth:"any"}),day:Mt({matchPatterns:ui,defaultMatchWidth:"wide",parsePatterns:fi,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:ci,defaultMatchWidth:"any",parsePatterns:di,defaultParseWidth:"any"})};const vi=hi;var mi={code:"en-US",formatDistance:Ia,formatLong:Va,formatRelative:Ha,localize:Ka,match:vi,options:{weekStartsOn:0,firstWeekContainsDate:1}};const gi=mi;var pi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wi=/^'([^]*?)'?$/,bi=/''/g,_i=/[a-zA-Z]/;function Fi(r,e,t){var n,a,i,o,l,s,u,c,v,f,d,m,p,_,y,w,b,S;pe(2,arguments);var L=String(e),D=Zt(),F=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:D.locale)!==null&&n!==void 0?n:gi,E=it((i=(o=(l=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:D.firstWeekContainsDate)!==null&&o!==void 0?o:(v=D.locale)===null||v===void 0||(f=v.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=it((d=(m=(p=(_=t==null?void 0:t.weekStartsOn)!==null&&_!==void 0?_:t==null||(y=t.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&m!==void 0?m:(b=D.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&d!==void 0?d:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var A=ze(r);if(!da(A))throw new RangeError("Invalid time value");var B=fa(A),M=ha(A,B),H={firstWeekContainsDate:E,weekStartsOn:T,locale:F,_originalDate:A},U=L.match(yi).map(function(W){var I=W[0];if(I==="p"||I==="P"){var Y=Ma[I];return Y(W,F.formatLong)}return W}).join("").match(pi).map(function(W){if(W==="''")return"'";var I=W[0];if(I==="'")return Ci(W);var Y=Ea[I];if(Y)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Aa(W)&&Vr(W,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Oa(W)&&Vr(W,e,String(r)),Y(M,W,F.localize,H);if(I.match(_i))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return W}).join("");return U}function Ci(r){var e=r.match(wi);return e?e[1].replace(bi,"'"):r}const mt=r=>isNaN(new Date(r).getTime())?"??.??.????":Fi(new Date(r),"dd.MM.yyyy");function Br(r,e,t){const n=r.slice();return n[9]=e[t],n}function Yr(r,e,t){const n=r.slice();return n[12]=e[t],n}function Hr(r){let e,t=r[12]+"",n,a;return{c(){e=P("div"),n=q(t),a=R(),this.h()},l(i){e=O(i,"DIV",{class:!0});var o=k(e);n=G(o,t),a=N(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ce(i,e,o),h(e,n),h(e,a)},p(i,o){o&64&&t!==(t=i[12]+"")&&Z(n,t)},d(i){i&&C(e)}}}function Rr(r){let e,t=r[9].toUpperCase()+"",n;return{c(){e=P("div"),n=q(t),this.h()},l(a){e=O(a,"DIV",{class:!0});var i=k(e);n=G(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-filled-surface")},m(a,i){ce(a,e,i),h(e,n)},p(a,i){i&1&&t!==(t=a[9].toUpperCase()+"")&&Z(n,t)},d(a){a&&C(e)}}}function Ei(r){var ne;let e,t,n,a,i,o,l,s,u,c,v,f,d,m,p=r[0].name+"",_,y,w,b,S,L=r[0].manufacturer+"",D,F,E,T,A=r[0].year+"",B,M,H,U,W=(((ne=r[0].designers)==null?void 0:ne.join(", "))||"-")+"",I,Y,z,V,$,J,de,le="Updated at",fe,he,Re=mt(r[0].updatedAt)+"",Ne,ke,Me,je,Ee,_e,ft="Type",Se,ye,qe=(r[0].type||"-")+"",Ge,ge,xe,Fe,we,De,be,re,Te,Qe,ee=Ue(r[6]),oe=[];for(let x=0;x<ee.length;x+=1)oe[x]=Hr(Yr(r,ee,x));let Ve=Ue(r[0].theme||[]),se=[];for(let x=0;x<Ve.length;x+=1)se[x]=Rr(Br(r,Ve,x));return{c(){e=P("div"),t=P("img"),o=R(),l=P("div"),s=P("img"),v=R(),f=P("div"),d=P("div"),m=P("p"),_=q(p),y=R();for(let x=0;x<oe.length;x+=1)oe[x].c();w=R(),b=P("div"),S=P("p"),D=q(L),F=R(),E=P("p"),T=q("("),B=q(A),M=q(")"),H=R(),U=P("p"),I=q(W),Y=R(),z=P("div");for(let x=0;x<se.length;x+=1)se[x].c();V=R(),$=P("div"),J=P("div"),de=P("p"),de.textContent=le,fe=R(),he=P("p"),Ne=q(Re),ke=R(),Me=P("div"),je=R(),Ee=P("div"),_e=P("p"),_e.textContent=ft,Se=R(),ye=P("p"),Ge=q(qe),xe=R(),Fe=Je("svg"),we=Je("defs"),De=Je("clipPath"),be=Je("path"),this.h()},l(x){e=O(x,"DIV",{style:!0,class:!0});var X=k(e);t=O(X,"IMG",{src:!0,alt:!0,class:!0}),o=N(X),l=O(X,"DIV",{class:!0});var K=k(l);s=O(K,"IMG",{src:!0,alt:!0,style:!0,class:!0}),v=N(K),f=O(K,"DIV",{class:!0,style:!0});var j=k(f);d=O(j,"DIV",{class:!0});var Ce=k(d);m=O(Ce,"P",{class:!0});var wt=k(m);_=G(wt,p),wt.forEach(C),y=N(Ce);for(let nt=0;nt<oe.length;nt+=1)oe[nt].l(Ce);Ce.forEach(C),w=N(j),b=O(j,"DIV",{class:!0});var Be=k(b);S=O(Be,"P",{class:!0});var bt=k(S);D=G(bt,L),bt.forEach(C),F=N(Be),E=O(Be,"P",{});var Ye=k(E);T=G(Ye,"("),B=G(Ye,A),M=G(Ye,")"),Ye.forEach(C),Be.forEach(C),H=N(j),U=O(j,"P",{class:!0});var _t=k(U);I=G(_t,W),_t.forEach(C),Y=N(j),z=O(j,"DIV",{class:!0});var He=k(z);for(let nt=0;nt<se.length;nt+=1)se[nt].l(He);He.forEach(C),V=N(j),$=O(j,"DIV",{class:!0});var Pe=k($);J=O(Pe,"DIV",{class:!0});var et=k(J);de=O(et,"P",{class:!0,"data-svelte-h":!0}),Lt(de)!=="svelte-g6tq99"&&(de.textContent=le),fe=N(et),he=O(et,"P",{class:!0});var tt=k(he);Ne=G(tt,Re),tt.forEach(C),et.forEach(C),ke=N(Pe),Me=O(Pe,"DIV",{class:!0}),k(Me).forEach(C),je=N(Pe),Ee=O(Pe,"DIV",{class:!0});var rt=k(Ee);_e=O(rt,"P",{class:!0,"data-svelte-h":!0}),Lt(_e)!=="svelte-1h1g7sd"&&(_e.textContent=ft),Se=N(rt),ye=O(rt,"P",{class:!0});var Ft=k(ye);Ge=G(Ft,qe),Ft.forEach(C),rt.forEach(C),Pe.forEach(C),j.forEach(C),K.forEach(C),X.forEach(C),xe=N(x),Fe=Ke(x,"svg",{width:!0,height:!0});var Ct=k(Fe);we=Ke(Ct,"defs",{});var Et=k(we);De=Ke(Et,"clipPath",{id:!0,clipPathUnits:!0});var Dr=k(De);be=Ke(Dr,"path",{d:!0}),k(be).forEach(C),Dr.forEach(C),Et.forEach(C),Ct.forEach(C),this.h()},h(){me(t.src,n=ht(r[0]))||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1dr6gib"),me(s.src,u=ht(r[0]))||g(s,"src",u),g(s,"alt",c=r[0].id),ie(s,"height","36%"),g(s,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10 svelte-1dr6gib"),g(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(d,"class","flex gap-2 max-w-full"),g(S,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(b,"class","flex gap-1 text-center max-w-full"),g(U,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(z,"class","flex gap-2 mt-4 flex-wrap"),g(de,"class","text-xs font-bold uppercase opacity-40"),g(he,"class",""),g(J,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(Me,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(_e,"class","text-xs font-bold uppercase opacity-40"),g(ye,"class",""),g(Ee,"class","flex flex-col items-center justify-center flex-1 gap-1"),g($,"class","flex mt-auto w-full"),g(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),ie(f,"top","calc("+r[3]*.885+"px - 7.5rem)"),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),ie(e,"left",r[1]+"px"),ie(e,"top",r[2]+"px"),ie(e,"width",r[4]+"px"),ie(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(be,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(De,"id","myCurve"),g(De,"clipPathUnits","objectBoundingBox"),g(Fe,"width","0"),g(Fe,"height","0")},m(x,X){ce(x,e,X),h(e,t),h(e,o),h(e,l),h(l,s),h(l,v),h(l,f),h(f,d),h(d,m),h(m,_),h(d,y);for(let K=0;K<oe.length;K+=1)oe[K]&&oe[K].m(d,null);h(f,w),h(f,b),h(b,S),h(S,D),h(b,F),h(b,E),h(E,T),h(E,B),h(E,M),h(f,H),h(f,U),h(U,I),h(f,Y),h(f,z);for(let K=0;K<se.length;K+=1)se[K]&&se[K].m(z,null);h(f,V),h(f,$),h($,J),h(J,de),h(J,fe),h(J,he),h(he,Ne),h($,ke),h($,Me),h($,je),h($,Ee),h(Ee,_e),h(Ee,Se),h(Ee,ye),h(ye,Ge),ce(x,xe,X),ce(x,Fe,X),h(Fe,we),h(we,De),h(De,be),re=!0,Te||(Qe=pt(t,"outroend",function(){tn(r[5])&&r[5].apply(this,arguments)}),Te=!0)},p(x,[X]){var K;if(r=x,(!re||X&1&&!me(t.src,n=ht(r[0])))&&g(t,"src",n),(!re||X&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!re||X&1&&!me(s.src,u=ht(r[0])))&&g(s,"src",u),(!re||X&1&&c!==(c=r[0].id))&&g(s,"alt",c),(!re||X&1)&&p!==(p=r[0].name+"")&&Z(_,p),X&64){ee=Ue(r[6]);let j;for(j=0;j<ee.length;j+=1){const Ce=Yr(r,ee,j);oe[j]?oe[j].p(Ce,X):(oe[j]=Hr(Ce),oe[j].c(),oe[j].m(d,null))}for(;j<oe.length;j+=1)oe[j].d(1);oe.length=ee.length}if((!re||X&1)&&L!==(L=r[0].manufacturer+"")&&Z(D,L),(!re||X&1)&&A!==(A=r[0].year+"")&&Z(B,A),(!re||X&1)&&W!==(W=(((K=r[0].designers)==null?void 0:K.join(", "))||"-")+"")&&Z(I,W),X&1){Ve=Ue(r[0].theme||[]);let j;for(j=0;j<Ve.length;j+=1){const Ce=Br(r,Ve,j);se[j]?se[j].p(Ce,X):(se[j]=Rr(Ce),se[j].c(),se[j].m(z,null))}for(;j<se.length;j+=1)se[j].d(1);se.length=Ve.length}(!re||X&1)&&Re!==(Re=mt(r[0].updatedAt)+"")&&Z(Ne,Re),(!re||X&1)&&qe!==(qe=(r[0].type||"-")+"")&&Z(Ge,qe),(!re||X&8)&&ie(f,"top","calc("+r[3]*.885+"px - 7.5rem)"),(!re||X&2)&&ie(e,"left",r[1]+"px"),(!re||X&4)&&ie(e,"top",r[2]+"px"),(!re||X&16)&&ie(e,"width",r[4]+"px"),(!re||X&8)&&ie(e,"height",r[3]+"px")},i(x){re||(x&&Ut(()=>{re&&(i||(i=Ze(t,r[7],{duration:kt},!0)),i.run(1))}),x&&Ut(()=>{re&&(ge||(ge=Ze(l,r[8],{duration:kt},!0)),ge.run(1))}),re=!0)},o(x){x&&(i||(i=Ze(t,r[7],{duration:kt},!1)),i.run(0)),x&&(ge||(ge=Ze(l,r[8],{duration:kt},!1)),ge.run(0)),re=!1},d(x){x&&(C(e),C(xe),C(Fe)),x&&i&&i.end(),Ot(oe,x),Ot(se,x),x&&ge&&ge.end(),Te=!1,Qe()}}}const kt=100;function Si(r,e,t){let n,{game:a=qt}=e,{left:i=0}=e,{top:o=0}=e,{height:l=0}=e,{width:s=0}=e,{onEnd:u=()=>{}}=e;const c=(f,{duration:d,delay:m})=>({duration:d,delay:m,css:p=>{const _=zt(p);return`
					transform: translateY(${_*-8}rem) scale(${1-_*.25});
					`}}),v=(f,{duration:d,delay:m})=>({duration:d,delay:m,css:p=>`
					transform: scale(${zt(p)});
					`});return r.$$set=f=>{"game"in f&&t(0,a=f.game),"left"in f&&t(1,i=f.left),"top"in f&&t(2,o=f.top),"height"in f&&t(3,l=f.height),"width"in f&&t(4,s=f.width),"onEnd"in f&&t(5,u=f.onEnd)},r.$$.update=()=>{r.$$.dirty&1&&t(6,n=Array.from(new Set((a.tableFiles||[]).map(f=>f.tableFormat).filter(f=>!!f))))},[a,i,o,l,s,u,n,c,v]}class Di extends lt{constructor(e){super(),st(this,e,Si,Ei,ot,{game:0,left:1,top:2,height:3,width:4,onEnd:5})}}function Nr(r,e,t){const n=r.slice();return n[15]=e[t],n}function jr(r){let e,t;return e=new Di({props:{game:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[12]}}),{c(){mr(e.$$.fragment)},l(n){gr(e.$$.fragment,n)},m(n,a){pr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.game=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[12]),e.$set(i)},i(n){t||(We(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){yr(e,n)}}}function qr(r){let e,t=r[15]+"",n,a;return{c(){e=P("div"),n=q(t),a=R(),this.h()},l(i){e=O(i,"DIV",{class:!0});var o=k(e);n=G(o,t),a=N(o),o.forEach(C),this.h()},h(){g(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(i,o){ce(i,e,o),h(e,n),h(e,a)},p(i,o){o&512&&t!==(t=i[15]+"")&&Z(n,t)},d(i){i&&C(e)}}}function Mi(r){var W;let e,t,n,a,i,o,l,s,u,c=r[0].name+"",v,f,d,m,p=r[0].manufacturer+"",_,y,w=r[0].year+"",b,S,L,D,F=((W=r[0].designers)==null?void 0:W.join(", "))+"",E,T,A,B,M=r[7]&&jr(r),H=Ue(r[9]),U=[];for(let I=0;I<H.length;I+=1)U[I]=qr(Nr(r,H,I));return{c(){e=P("a"),M&&M.c(),t=R(),n=P("img"),o=R(),l=P("div"),s=P("div"),u=P("p"),v=q(c),f=R();for(let I=0;I<U.length;I+=1)U[I].c();d=R(),m=P("p"),_=q(p),y=q(" ("),b=q(w),S=q(")"),L=R(),D=P("p"),E=q(F),this.h()},l(I){e=O(I,"A",{class:!0,href:!0});var Y=k(e);M&&M.l(Y),t=N(Y),n=O(Y,"IMG",{src:!0,alt:!0,class:!0}),o=N(Y),l=O(Y,"DIV",{class:!0});var z=k(l);s=O(z,"DIV",{class:!0});var V=k(s);u=O(V,"P",{class:!0});var $=k(u);v=G($,c),$.forEach(C),f=N(V);for(let le=0;le<U.length;le+=1)U[le].l(V);V.forEach(C),d=N(z),m=O(z,"P",{});var J=k(m);_=G(J,p),y=G(J," ("),b=G(J,w),S=G(J,")"),J.forEach(C),L=N(z),D=O(z,"P",{class:!0});var de=k(D);E=G(de,F),de.forEach(C),z.forEach(C),Y.forEach(C),this.h()},h(){me(n.src,a=ht(r[0]))||g(n,"src",a),g(n,"alt",i=r[0].name),g(n,"class","card pinImage bg-surface-300-600-token svelte-1rbl6pa"),Wt(n,"hide",r[7]||r[8]),g(u,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(s,"class","flex gap-2"),g(D,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(I,Y){ce(I,e,Y),M&&M.m(e,null),h(e,t),h(e,n),r[13](n),h(e,o),h(e,l),h(l,s),h(s,u),h(u,v),h(s,f);for(let z=0;z<U.length;z+=1)U[z]&&U[z].m(s,null);h(l,d),h(l,m),h(m,_),h(m,y),h(m,b),h(m,S),h(l,L),h(l,D),h(D,E),T=!0,A||(B=[pt(e,"mouseenter",r[10]),pt(e,"mouseleave",r[11])],A=!0)},p(I,[Y]){var z;if(I[7]?M?(M.p(I,Y),Y&128&&We(M,1)):(M=jr(I),M.c(),We(M,1),M.m(e,t)):M&&(nn(),$e(M,1,1,()=>{M=null}),an()),(!T||Y&1&&!me(n.src,a=ht(I[0])))&&g(n,"src",a),(!T||Y&1&&i!==(i=I[0].name))&&g(n,"alt",i),(!T||Y&384)&&Wt(n,"hide",I[7]||I[8]),(!T||Y&1)&&c!==(c=I[0].name+"")&&Z(v,c),Y&512){H=Ue(I[9]);let V;for(V=0;V<H.length;V+=1){const $=Nr(I,H,V);U[V]?U[V].p($,Y):(U[V]=qr($),U[V].c(),U[V].m(s,null))}for(;V<U.length;V+=1)U[V].d(1);U.length=H.length}(!T||Y&1)&&p!==(p=I[0].manufacturer+"")&&Z(_,p),(!T||Y&1)&&w!==(w=I[0].year+"")&&Z(b,w),(!T||Y&1)&&F!==(F=((z=I[0].designers)==null?void 0:z.join(", "))+"")&&Z(E,F),(!T||Y&2)&&g(e,"href",I[1])},i(I){T||(We(M),T=!0)},o(I){$e(M),T=!1},d(I){I&&C(e),M&&M.d(),r[13](null),Ot(U,I),A=!1,vr(B)}}}const Ti=200;function Pi(r,e,t){let n,{file:a=qt}=e,{href:i=""}=e,o,l=0,s=0,u=0,c=0,v=!1,f=!1,d;const m=()=>{var b;const w=o.getBoundingClientRect();t(3,l=w.left),t(4,s=w.top),t(6,c=w.width),t(5,u=w.height),(b=document.getElementById("page"))==null||b.addEventListener("scroll",p),d=setTimeout(()=>{t(7,v=!0),d=void 0},Ti)},p=()=>{var w;(w=document.getElementById("page"))==null||w.removeEventListener("scroll",p),d?(t(7,v=!1),clearTimeout(d)):v&&(t(7,v=!1),t(8,f=!0))},_=()=>t(8,f=!1);function y(w){rn[w?"unshift":"push"](()=>{o=w,t(2,o)})}return r.$$set=w=>{"file"in w&&t(0,a=w.file),"href"in w&&t(1,i=w.href)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=Array.from(new Set((a.tableFiles||[]).map(w=>w.tableFormat).filter(w=>!!w))))},[a,i,o,l,s,u,c,v,f,n,m,p,_,y]}class Oi extends lt{constructor(e){super(),st(this,e,Pi,Mi,ot,{file:0,href:1})}}/*! Fast Average Color |  2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function Ai(r){var e=r.toString(16);return e.length===1?"0"+e:e}function Gr(r){return"#"+r.map(Ai).join("")}function ki(r){var e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128}function xi(r){return r?Ii(r)?r:[r]:[]}function Ii(r){return Array.isArray(r[0])}function Sr(r,e,t){for(var n=0;n<t.length;n++)if(Li(r,e,t[n]))return!0;return!1}function Li(r,e,t){switch(t.length){case 3:if(Ui(r,e,t))return!0;break;case 4:if(Wi(r,e,t))return!0;break;case 5:if(zi(r,e,t))return!0;break;default:return!1}}function Ui(r,e,t){return r[e+3]!==255||r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]}function Wi(r,e,t){return r[e+3]&&t[3]?r[e]===t[0]&&r[e+1]===t[1]&&r[e+2]===t[2]&&r[e+3]===t[3]:r[e+3]===t[3]}function xt(r,e,t){return r>=e-t&&r<=e+t}function zi(r,e,t){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],s=r[e+3],u=xt(s,o,l);return o?!!(!s&&u||xt(r[e],n,l)&&xt(r[e+1],a,l)&&xt(r[e+2],i,l)&&u):u}function Vi(r,e,t){for(var n={},a=24,i=t.ignoredColor,o=t.step,l=[0,0,0,0,0],s=0;s<e;s+=o){var u=r[s],c=r[s+1],v=r[s+2],f=r[s+3];if(!(i&&Sr(r,s,i))){var d=Math.round(u/a)+","+Math.round(c/a)+","+Math.round(v/a);n[d]?n[d]=[n[d][0]+u*f,n[d][1]+c*f,n[d][2]+v*f,n[d][3]+f,n[d][4]+1]:n[d]=[u*f,c*f,v*f,f,1],l[4]<n[d][4]&&(l=n[d])}}var m=l[0],p=l[1],_=l[2],y=l[3],w=l[4];return y?[Math.round(m/y),Math.round(p/y),Math.round(_/y),Math.round(y/w)]:t.defaultColor}function Bi(r,e,t){for(var n=0,a=0,i=0,o=0,l=0,s=t.ignoredColor,u=t.step,c=0;c<e;c+=u){var v=r[c+3],f=r[c]*v,d=r[c+1]*v,m=r[c+2]*v;s&&Sr(r,c,s)||(n+=f,a+=d,i+=m,o+=v,l++)}return o?[Math.round(n/o),Math.round(a/o),Math.round(i/o),Math.round(o/l)]:t.defaultColor}function Yi(r,e,t){for(var n=0,a=0,i=0,o=0,l=0,s=t.ignoredColor,u=t.step,c=0;c<e;c+=u){var v=r[c],f=r[c+1],d=r[c+2],m=r[c+3];s&&Sr(r,c,s)||(n+=v*v*m,a+=f*f*m,i+=d*d*m,o+=m,l++)}return o?[Math.round(Math.sqrt(n/o)),Math.round(Math.sqrt(a/o)),Math.round(Math.sqrt(i/o)),Math.round(o/l)]:t.defaultColor}function Qr(r){return Pt(r,"defaultColor",[0,0,0,0])}function Pt(r,e,t){return r[e]===void 0?t:r[e]}var Xr=10,hr=100;function Hi(r){return r.search(/\.svg(\?|$)/i)!==-1}function Ri(r){if(Fn(r)){var e=r.naturalWidth,t=r.naturalHeight;return!r.naturalWidth&&Hi(r.src)&&(e=t=hr),{width:e,height:t}}return ji(r)?{width:r.videoWidth,height:r.videoHeight}:{width:r.width,height:r.height}}function Jr(r){return qi(r)?"canvas":Ni(r)?"offscreencanvas":Gi(r)?"imagebitmap":r.src}function Fn(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement}var Cn=typeof OffscreenCanvas<"u";function Ni(r){return Cn&&r instanceof OffscreenCanvas}function ji(r){return typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement}function qi(r){return typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement}function Gi(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}function Qi(r,e){var t=Pt(e,"left",0),n=Pt(e,"top",0),a=Pt(e,"width",r.width),i=Pt(e,"height",r.height),o=a,l=i;if(e.mode==="precision")return{srcLeft:t,srcTop:n,srcWidth:a,srcHeight:i,destWidth:o,destHeight:l};var s;return a>i?(s=a/i,o=hr,l=Math.round(o/s)):(s=i/a,l=hr,o=Math.round(l/s)),(o>a||l>i||o<Xr||l<Xr)&&(o=a,l=i),{srcLeft:t,srcTop:n,srcWidth:a,srcHeight:i,destWidth:o,destHeight:l}}var Xi=typeof window>"u";function Ji(){return Xi?Cn?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var Ki="FastAverageColor: ";function Le(r){return Error(Ki+r)}function Tt(r,e){e||console.error(r)}var Zi=function(){function r(){this.canvas=null,this.ctx=null}return r.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(Le("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(Le("resource as string is not supported in this environment"));var n=new Image;return n.crossOrigin=t&&t.crossOrigin||"",n.src=e,this.bindImageEvents(n,t)}else{if(Fn(e)&&!e.complete)return this.bindImageEvents(e,t);var a=this.getColor(e,t);return a.error?Promise.reject(a.error):Promise.resolve(a)}},r.prototype.getColor=function(e,t){t=t||{};var n=Qr(t);if(!e){var a=Le("call .getColor(null) without resource");return Tt(a,t.silent),this.prepareResult(n,a)}var i=Ri(e),o=Qi(i,t);if(!o.srcWidth||!o.srcHeight||!o.destWidth||!o.destHeight){var a=Le('incorrect sizes for resource "'.concat(Jr(e),'"'));return Tt(a,t.silent),this.prepareResult(n,a)}if(!this.canvas&&(this.canvas=Ji(),!this.canvas)){var a=Le("OffscreenCanvas is not supported in this browser");return Tt(a,t.silent),this.prepareResult(n,a)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var a=Le("Canvas Context 2D is not supported in this browser");return Tt(a,t.silent),this.prepareResult(n)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=o.destWidth,this.canvas.height=o.destHeight;try{this.ctx.clearRect(0,0,o.destWidth,o.destHeight),this.ctx.drawImage(e,o.srcLeft,o.srcTop,o.srcWidth,o.srcHeight,0,0,o.destWidth,o.destHeight);var l=this.ctx.getImageData(0,0,o.destWidth,o.destHeight).data;return this.prepareResult(this.getColorFromArray4(l,t))}catch(s){var a=Le("security error (CORS) for resource ".concat(Jr(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Tt(a,t.silent),!t.silent&&console.error(s),this.prepareResult(n,a)}},r.prototype.getColorFromArray4=function(e,t){t=t||{};var n=4,a=e.length,i=Qr(t);if(a<n)return i;var o=a-a%n,l=(t.step||1)*n,s;switch(t.algorithm||"sqrt"){case"simple":s=Bi;break;case"sqrt":s=Yi;break;case"dominant":s=Vi;break;default:throw Le("".concat(t.algorithm," is unknown algorithm"))}return s(e,o,{defaultColor:i,ignoredColor:xi(t.ignoredColor),step:l})},r.prototype.prepareResult=function(e,t){var n=e.slice(0,3),a=[e[0],e[1],e[2],e[3]/255],i=ki(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+n.join(",")+")",rgba:"rgba("+a.join(",")+")",hex:Gr(n),hexa:Gr(e),isDark:i,isLight:!i,error:t}},r.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},r.prototype.bindImageEvents=function(e,t){var n=this;return new Promise(function(a,i){var o=function(){u();var c=n.getColor(e,t);c.error?i(c.error):a(c)},l=function(){u(),i(Le('Error loading image "'.concat(e.src,'".')))},s=function(){u(),i(Le('Image "'.concat(e.src,'" loading aborted')))},u=function(){e.removeEventListener("load",o),e.removeEventListener("error",l),e.removeEventListener("abort",s)};e.addEventListener("load",o),e.addEventListener("error",l),e.addEventListener("abort",s)})},r}();function Kr(r,e,t){const n=r.slice();return n[1]=e[t],n}function Zr(r){let e,t=Ue(r[0]||[]),n=[];for(let a=0;a<t.length;a+=1)n[a]=$r(Kr(r,t,a));return{c(){e=P("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=O(a,"DIV",{class:!0});var i=k(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(C),this.h()},h(){g(e,"class","flex gap-1 mt-4 flex-wrap")},m(a,i){ce(a,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(a,i){if(i&1){t=Ue(a[0]||[]);let o;for(o=0;o<t.length;o+=1){const l=Kr(a,t,o);n[o]?n[o].p(l,i):(n[o]=$r(l),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(a){a&&C(e),Ot(n,a)}}}function $r(r){let e,t=r[1].toUpperCase()+"",n;return{c(){e=P("div"),n=q(t),this.h()},l(a){e=O(a,"DIV",{class:!0});var i=k(e);n=G(i,t),i.forEach(C),this.h()},h(){g(e,"class","badge variant-ghost-primary px-1.5 py-0.5")},m(a,i){ce(a,e,i),h(e,n)},p(a,i){i&1&&t!==(t=a[1].toUpperCase()+"")&&Z(n,t)},d(a){a&&C(e)}}}function $i(r){let e,t=r[0].length&&Zr(r);return{c(){t&&t.c(),e=Mr()},l(n){t&&t.l(n),e=Mr()},m(n,a){t&&t.m(n,a),ce(n,e,a)},p(n,[a]){n[0].length?t?t.p(n,a):(t=Zr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:gt,o:gt,d(n){n&&C(e),t&&t.d(n)}}}function eo(r,e,t){let{data:n=[]}=e;return r.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class to extends lt{constructor(e){super(),st(this,e,eo,$i,ot,{data:0})}}function ro(r){var se;let e,t,n,a,i,o,l,s,u,c,v,f,d,m,p=((se=r[0].game)==null?void 0:se.name)+"",_,y,w,b=r[0].tableFormat+"",S,L,D,F,E=r[7].manufacturer+"",T,A,B,M,H=r[7].year+"",U,W,I,Y,z=r[0].authors.join(", ")+"",V,$,J,de,le,fe,he,Re="Updated at",Ne,ke,Me=mt(r[0].updatedAt)+"",je,Ee,_e,ft,Se,ye,qe="Added at",Ge,ge,xe=mt(r[0].createdAt||r[0].updatedAt)+"",Fe,we,De,be,re,Te,Qe,ee,oe,Ve;return J=new to({props:{data:r[0].features}}),{c(){e=P("div"),t=P("img"),o=R(),l=P("div"),s=P("img"),v=R(),f=P("div"),d=P("div"),m=P("p"),_=q(p),y=R(),w=P("div"),S=q(b),L=R(),D=P("div"),F=P("p"),T=q(E),A=R(),B=P("p"),M=q("("),U=q(H),W=q(")"),I=R(),Y=P("p"),V=q(z),$=R(),mr(J.$$.fragment),de=R(),le=P("div"),fe=P("div"),he=P("p"),he.textContent=Re,Ne=R(),ke=P("p"),je=q(Me),Ee=R(),_e=P("div"),ft=R(),Se=P("div"),ye=P("p"),ye.textContent=qe,Ge=R(),ge=P("p"),Fe=q(xe),De=R(),be=Je("svg"),re=Je("defs"),Te=Je("clipPath"),Qe=Je("path"),this.h()},l(ne){e=O(ne,"DIV",{style:!0,class:!0});var x=k(e);t=O(x,"IMG",{src:!0,alt:!0,class:!0}),o=N(x),l=O(x,"DIV",{style:!0,class:!0});var X=k(l);s=O(X,"IMG",{src:!0,alt:!0,style:!0,class:!0}),v=N(X),f=O(X,"DIV",{class:!0,style:!0});var K=k(f);d=O(K,"DIV",{class:!0});var j=k(d);m=O(j,"P",{class:!0});var Ce=k(m);_=G(Ce,p),Ce.forEach(C),y=N(j),w=O(j,"DIV",{class:!0});var wt=k(w);S=G(wt,b),wt.forEach(C),j.forEach(C),L=N(K),D=O(K,"DIV",{class:!0});var Be=k(D);F=O(Be,"P",{class:!0});var bt=k(F);T=G(bt,E),bt.forEach(C),A=N(Be),B=O(Be,"P",{});var Ye=k(B);M=G(Ye,"("),U=G(Ye,H),W=G(Ye,")"),Ye.forEach(C),Be.forEach(C),I=N(K),Y=O(K,"P",{class:!0});var _t=k(Y);V=G(_t,z),_t.forEach(C),$=N(K),gr(J.$$.fragment,K),de=N(K),le=O(K,"DIV",{class:!0});var He=k(le);fe=O(He,"DIV",{class:!0});var Pe=k(fe);he=O(Pe,"P",{class:!0,"data-svelte-h":!0}),Lt(he)!=="svelte-g6tq99"&&(he.textContent=Re),Ne=N(Pe),ke=O(Pe,"P",{class:!0});var et=k(ke);je=G(et,Me),et.forEach(C),Pe.forEach(C),Ee=N(He),_e=O(He,"DIV",{class:!0}),k(_e).forEach(C),ft=N(He),Se=O(He,"DIV",{class:!0});var tt=k(Se);ye=O(tt,"P",{class:!0,"data-svelte-h":!0}),Lt(ye)!=="svelte-1gbi7dm"&&(ye.textContent=qe),Ge=N(tt),ge=O(tt,"P",{class:!0});var rt=k(ge);Fe=G(rt,xe),rt.forEach(C),tt.forEach(C),He.forEach(C),K.forEach(C),X.forEach(C),x.forEach(C),De=N(ne),be=Ke(ne,"svg",{width:!0,height:!0});var Ft=k(be);re=Ke(Ft,"defs",{});var Ct=k(re);Te=Ke(Ct,"clipPath",{id:!0,clipPathUnits:!0});var Et=k(Te);Qe=Ke(Et,"path",{d:!0}),k(Qe).forEach(C),Et.forEach(C),Ct.forEach(C),Ft.forEach(C),this.h()},h(){me(t.src,n=r[0].imgUrl||vt)||g(t,"src",n),g(t,"alt",a=r[0].id),g(t,"class","card pinImage bg-surface-100 dark:bg-surface-600 z-10 absolute top-0 left-0 right-0 bottom-0 shadow-lg shadow-black svelte-1nresji"),me(s.src,u=r[0].imgUrl||vt)||g(s,"src",u),g(s,"alt",c=r[0].id),ie(s,"height","35%"),g(s,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-1nresji"),g(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(w,"class","badge badge-glass my-auto py-0.5 px-1"),g(d,"class","flex gap-2 max-w-full"),g(F,"class","text-ellipsis whitespace-nowrap overflow-hidden"),g(D,"class","flex gap-1 text-center"),g(Y,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(he,"class","text-xs font-bold uppercase opacity-40"),g(ke,"class",""),g(fe,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(_e,"class","bg-surface-900-50-token h-full w-px opacity-20"),g(ye,"class","text-xs font-bold uppercase opacity-40"),g(ge,"class",""),g(Se,"class","flex flex-col items-center justify-center flex-1 gap-1"),g(le,"class","flex mt-auto w-full"),g(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),ie(f,"top","calc("+r[3]*.885+"px - 8rem)"),ie(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(r[8]?100:600)+")) 80%, "+r[6]+")",1),g(l,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 -bottom-24 -z-1 flex flex-col p-4 gap-0.5 items-center"),ie(e,"left",r[1]+"px"),ie(e,"top",r[2]+"px"),ie(e,"width",r[4]+"px"),ie(e,"height",r[3]+"px"),g(e,"class","popup fixed z-50 pointer-events-none"),g(Qe,"d","M 0,1 L 0,0 L 1,0 L 1,1 C .6 .8, .4, 1.2, 0 1 Z"),g(Te,"id","myCurve"),g(Te,"clipPathUnits","objectBoundingBox"),g(be,"width","0"),g(be,"height","0")},m(ne,x){ce(ne,e,x),h(e,t),h(e,o),h(e,l),h(l,s),h(l,v),h(l,f),h(f,d),h(d,m),h(m,_),h(d,y),h(d,w),h(w,S),h(f,L),h(f,D),h(D,F),h(F,T),h(D,A),h(D,B),h(B,M),h(B,U),h(B,W),h(f,I),h(f,Y),h(Y,V),h(f,$),pr(J,f,null),h(f,de),h(f,le),h(le,fe),h(fe,he),h(fe,Ne),h(fe,ke),h(ke,je),h(le,Ee),h(le,_e),h(le,ft),h(le,Se),h(Se,ye),h(Se,Ge),h(Se,ge),h(ge,Fe),ce(ne,De,x),ce(ne,be,x),h(be,re),h(re,Te),h(Te,Qe),ee=!0,oe||(Ve=pt(t,"outroend",function(){tn(r[5])&&r[5].apply(this,arguments)}),oe=!0)},p(ne,[x]){var K;r=ne,(!ee||x&1&&!me(t.src,n=r[0].imgUrl||vt))&&g(t,"src",n),(!ee||x&1&&a!==(a=r[0].id))&&g(t,"alt",a),(!ee||x&1&&!me(s.src,u=r[0].imgUrl||vt))&&g(s,"src",u),(!ee||x&1&&c!==(c=r[0].id))&&g(s,"alt",c),(!ee||x&1)&&p!==(p=((K=r[0].game)==null?void 0:K.name)+"")&&Z(_,p),(!ee||x&1)&&b!==(b=r[0].tableFormat+"")&&Z(S,b),(!ee||x&128)&&E!==(E=r[7].manufacturer+"")&&Z(T,E),(!ee||x&128)&&H!==(H=r[7].year+"")&&Z(U,H),(!ee||x&1)&&z!==(z=r[0].authors.join(", ")+"")&&Z(V,z);const X={};x&1&&(X.data=r[0].features),J.$set(X),(!ee||x&1)&&Me!==(Me=mt(r[0].updatedAt)+"")&&Z(je,Me),(!ee||x&1)&&xe!==(xe=mt(r[0].createdAt||r[0].updatedAt)+"")&&Z(Fe,xe),(!ee||x&8)&&ie(f,"top","calc("+r[3]*.885+"px - 8rem)"),(!ee||x&320)&&ie(l,"background","color-mix(in lch, rgb(var(--color-surface-"+(r[8]?100:600)+")) 80%, "+r[6]+")",1),(!ee||x&2)&&ie(e,"left",r[1]+"px"),(!ee||x&4)&&ie(e,"top",r[2]+"px"),(!ee||x&16)&&ie(e,"width",r[4]+"px"),(!ee||x&8)&&ie(e,"height",r[3]+"px")},i(ne){ee||(ne&&Ut(()=>{ee&&(i||(i=Ze(t,r[10],{duration:It},!0)),i.run(1))}),We(J.$$.fragment,ne),ne&&Ut(()=>{ee&&(we||(we=Ze(l,r[11],{duration:It},!0)),we.run(1))}),ee=!0)},o(ne){ne&&(i||(i=Ze(t,r[10],{duration:It},!1)),i.run(0)),$e(J.$$.fragment,ne),ne&&(we||(we=Ze(l,r[11],{duration:It},!1)),we.run(0)),ee=!1},d(ne){ne&&(C(e),C(De),C(be)),ne&&i&&i.end(),yr(J),ne&&we&&we.end(),oe=!1,Ve()}}}const It=100;function no(r,e,t){let n,a,i;sr(r,on,y=>t(8,i=y));const{dbStore:o}=ut;sr(r,o,y=>t(12,a=y));let{table:l=sn}=e,{left:s=0}=e,{top:u=0}=e,{height:c=0}=e,{width:v=0}=e,{onEnd:f=()=>{}}=e;const d=new Zi;let m="";const p=(y,{duration:w,delay:b})=>({duration:w,delay:b,css:S=>{const L=zt(S);return`
					transform: translateY(${L*-8}rem) scale(${1-L*.25});
					`}}),_=(y,{duration:w,delay:b})=>({duration:w,delay:b,css:S=>`
					transform: scale(${zt(S)});
					`});return r.$$set=y=>{"table"in y&&t(0,l=y.table),"left"in y&&t(1,s=y.left),"top"in y&&t(2,u=y.top),"height"in y&&t(3,c=y.height),"width"in y&&t(4,v=y.width),"onEnd"in y&&t(5,f=y.onEnd)},r.$$.update=()=>{var y;r.$$.dirty&4097&&t(7,n=(y=l==null?void 0:l.game)!=null&&y.id?a[l.game.id]:qt),r.$$.dirty&65&&l.imgUrl&&d.getColorAsync(l.imgUrl).then(w=>{t(6,m=w.rgb),console.log(m)})},[l,s,u,c,v,f,m,n,i,o,p,_,a]}class ao extends lt{constructor(e){super(),st(this,e,no,ro,ot,{table:0,left:1,top:2,height:3,width:4,onEnd:5})}}function en(r){let e,t;return e=new ao({props:{table:r[0],left:r[3],top:r[4],width:r[6],height:r[5],onEnd:r[14]}}),{c(){mr(e.$$.fragment)},l(n){gr(e.$$.fragment,n)},m(n,a){pr(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.table=n[0]),a&8&&(i.left=n[3]),a&16&&(i.top=n[4]),a&64&&(i.width=n[6]),a&32&&(i.height=n[5]),a&256&&(i.onEnd=n[14]),e.$set(i)},i(n){t||(We(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){yr(e,n)}}}function io(r){var I,Y;let e,t,n,a,i,o,l,s,u,c=((I=r[0].game)==null?void 0:I.name)+"",v,f,d,m=r[0].tableFormat+"",p,_,y,w=r[9].manufacturer+"",b,S,L=r[9].year+"",D,F,E,T,A=((Y=r[0].authors)==null?void 0:Y.join(", "))+"",B,M,H,U,W=r[7]&&en(r);return{c(){e=P("a"),W&&W.c(),t=R(),n=P("img"),o=R(),l=P("div"),s=P("div"),u=P("p"),v=q(c),f=R(),d=P("div"),p=q(m),_=R(),y=P("p"),b=q(w),S=q(" ("),D=q(L),F=q(")"),E=R(),T=P("p"),B=q(A),this.h()},l(z){e=O(z,"A",{class:!0,href:!0});var V=k(e);W&&W.l(V),t=N(V),n=O(V,"IMG",{src:!0,alt:!0,class:!0}),o=N(V),l=O(V,"DIV",{class:!0});var $=k(l);s=O($,"DIV",{class:!0});var J=k(s);u=O(J,"P",{class:!0});var de=k(u);v=G(de,c),de.forEach(C),f=N(J),d=O(J,"DIV",{class:!0});var le=k(d);p=G(le,m),le.forEach(C),J.forEach(C),_=N($),y=O($,"P",{});var fe=k(y);b=G(fe,w),S=G(fe," ("),D=G(fe,L),F=G(fe,")"),fe.forEach(C),E=N($),T=O($,"P",{class:!0});var he=k(T);B=G(he,A),he.forEach(C),$.forEach(C),V.forEach(C),this.h()},h(){me(n.src,a=r[0].imgUrl||vt)||g(n,"src",a),g(n,"alt",i=r[0].id),g(n,"class","card pinImage bg-surface-300-600-token svelte-134rv7p"),Wt(n,"hide",r[7]||r[8]),g(u,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),g(d,"class","badge badge-glass my-auto py-0.5 px-1"),g(s,"class","flex gap-2"),g(T,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),g(l,"class","flex flex-col py-4"),g(e,"class","wrapper relative z-0"),g(e,"href",r[1])},m(z,V){ce(z,e,V),W&&W.m(e,null),h(e,t),h(e,n),r[15](n),h(e,o),h(e,l),h(l,s),h(s,u),h(u,v),h(s,f),h(s,d),h(d,p),h(l,_),h(l,y),h(y,b),h(y,S),h(y,D),h(y,F),h(l,E),h(l,T),h(T,B),M=!0,H||(U=[pt(e,"mouseenter",r[11]),pt(e,"mouseleave",r[12])],H=!0)},p(z,[V]){var $,J;z[7]?W?(W.p(z,V),V&128&&We(W,1)):(W=en(z),W.c(),We(W,1),W.m(e,t)):W&&(nn(),$e(W,1,1,()=>{W=null}),an()),(!M||V&1&&!me(n.src,a=z[0].imgUrl||vt))&&g(n,"src",a),(!M||V&1&&i!==(i=z[0].id))&&g(n,"alt",i),(!M||V&384)&&Wt(n,"hide",z[7]||z[8]),(!M||V&1)&&c!==(c=(($=z[0].game)==null?void 0:$.name)+"")&&Z(v,c),(!M||V&1)&&m!==(m=z[0].tableFormat+"")&&Z(p,m),(!M||V&512)&&w!==(w=z[9].manufacturer+"")&&Z(b,w),(!M||V&512)&&L!==(L=z[9].year+"")&&Z(D,L),(!M||V&1)&&A!==(A=((J=z[0].authors)==null?void 0:J.join(", "))+"")&&Z(B,A),(!M||V&2)&&g(e,"href",z[1])},i(z){M||(We(W),M=!0)},o(z){$e(W),M=!1},d(z){z&&C(e),W&&W.d(),r[15](null),H=!1,vr(U)}}}const oo=200;function lo(r,e,t){let n,a;const{dbStore:i}=ut;sr(r,i,S=>t(13,a=S));let{file:o=sn}=e,{href:l=""}=e,s,u=0,c=0,v=0,f=0,d=!1,m=!1,p;const _=()=>{var L;const S=s.getBoundingClientRect();t(3,u=S.left),t(4,c=S.top),t(6,f=S.width),t(5,v=S.height),(L=document.getElementById("page"))==null||L.addEventListener("scroll",y),p=setTimeout(()=>{t(7,d=!0),p=void 0},oo)},y=()=>{var S;(S=document.getElementById("page"))==null||S.removeEventListener("scroll",y),p?(t(7,d=!1),clearTimeout(p)):d&&(t(7,d=!1),t(8,m=!0))},w=()=>t(8,m=!1);function b(S){rn[S?"unshift":"push"](()=>{s=S,t(2,s)})}return r.$$set=S=>{"file"in S&&t(0,o=S.file),"href"in S&&t(1,l=S.href)},r.$$.update=()=>{var S;r.$$.dirty&8193&&t(9,n=(S=o==null?void 0:o.game)!=null&&S.id?a[o.game.id]:qt)},[o,l,s,u,c,v,f,d,m,n,i,_,y,a,w,b]}class so extends lt{constructor(e){super(),st(this,e,lo,io,ot,{file:0,href:1})}}const Eo={game:{route:"games",name:"Games",component:Oi},tableFiles:{route:"tables",name:"Tables",component:so},b2sFiles:{route:"b2s",name:"Backglasses",component:ia},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Ie},altColorFiles:{route:"altcolors",name:"Alt. Colors",component:Ie},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Ie},topperFiles:{route:"toppers",name:"Toppers",component:Ie},romFiles:{route:"roms",name:"Roms",component:Ie},povFiles:{route:"pov",name:"POVs",component:Ie},soundFiles:{route:"sounds",name:"Sounds",component:Ie},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Ie},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Ie},ruleFiles:{route:"rules",name:"Rules",component:Ie}};export{ia as B,ut as D,qt as E,Zi as F,Co as S,so as T,go as a,wo as b,Fo as c,po as d,Ue as e,yo as f,mo as g,ho as h,Eo as i,mt as j,ht as k,wr as l,on as m,Pn as n,Sn as o,_o as p,bo as s,vo as u};
