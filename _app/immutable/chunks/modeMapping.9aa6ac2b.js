import{s as ot,e as wt,i as $,d,B as lt,f as h,g as v,h as b,j as u,H as Dt,r as Vt,Y as Ea,a as M,l as A,c as F,m as S,R as ce,G as o,n as j,$ as Ft,Z as Ht,k as at,T as se,I as ua,x as ca,y as da,z as ha,A as va,Q as Ia}from"./scheduler.a453f4b8.js";import{S as ft,i as ut,a as K,g as Et,t as Y,c as It,b as rt,d as st,m as it,e as nt}from"./index.fa05b556.js";import{e as Oe}from"./each.013e569e.js";import{D as jt,a as ka,d as ya,c as ma,b as Ta,E as Pa}from"./DbStore.6d56cf40.js";import{P as Wt,g as Ca,p as Ma}from"./getBackglassUrl.fc240526.js";import{U as Fa,E as Da}from"./UserStore.aebc803d.js";import{F as Lt,l as Va,h as Aa,i as Sa,A as Gt,B as Ra,C as Ha,D as Oa,E as ja,G as La,H as Ba,I as za,z as Ua}from"./index.bb3a9776.js";import{w as Wa}from"./index.6e379fdf.js";import{m as ga}from"./ProgressBar.svelte_svelte_type_style_lang.c6c4a621.js";import{f as Rt}from"./formatDate.85208f9c.js";import{n as Ga}from"./index.browser.7e542916.js";function qt(t){let e,a,l,r,s;return a=new Lt({props:{icon:Va}}),{c(){e=h("a"),rt(a.$$.fragment),this.h()},l(i){e=v(i,"A",{href:!0,class:!0});var f=b(e);st(a.$$.fragment,f),f.forEach(d),this.h()},h(){u(e,"href","?edit=true"),u(e,"class","pointer-events-auto chip variant-soft-primary hover:variant-filled-primary gap-2 flex-1 p-2")},m(i,f){$(i,e,f),it(a,e,null),l=!0,r||(s=Dt(e,"click",t[9]),r=!0)},p:Vt,i(i){l||(K(a.$$.fragment,i),l=!0)},o(i){Y(a.$$.fragment,i),l=!1},d(i){i&&d(e),nt(a),r=!1,s()}}}function qa(t){let e,a,l=t[0]&&t[1].admin&&qt(t);return{c(){l&&l.c(),e=wt()},l(r){l&&l.l(r),e=wt()},m(r,s){l&&l.m(r,s),$(r,e,s),a=!0},p(r,[s]){r[0]&&r[1].admin?l?(l.p(r,s),s&3&&K(l,1)):(l=qt(r),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Et(),Y(l,1,1,()=>{l=null}),It())},i(r){a||(K(l),a=!0)},o(r){Y(l),a=!1},d(r){r&&d(e),l&&l.d(r)}}}function Na(t,e,a){let l,r,s,i;const{userStore:f}=Fa;lt(t,f,g=>a(1,s=g));const{editStore:n}=Da;lt(t,n,g=>a(2,i=g));const{dbStore:m}=jt;lt(t,m,g=>a(8,r=g));let{file:p=void 0}=e,{game:k=void 0}=e;const E=()=>{Ea(n,i.cache={id:l.id,action:"UPDATE",data:JSON.parse(JSON.stringify(l))},i)};return t.$$set=g=>{"file"in g&&a(6,p=g.file),"game"in g&&a(7,k=g.game)},t.$$.update=()=>{var g;t.$$.dirty&448&&a(0,l=k||((g=p==null?void 0:p.game)!=null&&g.id?r[p.game.id]:void 0))},[l,s,i,f,n,m,p,k,r,E]}class Bt extends ft{constructor(e){super(),ut(this,e,Na,qa,ot,{file:6,game:7})}}function Nt(t,e,a){const l=t.slice();return l[2]=e[a],l}function Xt(t){let e,a=t[2]+"",l;return{c(){e=h("div"),l=A(a),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=b(e);l=S(s,a),s.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(r,s){$(r,e,s),o(e,l)},p(r,s){s&1&&a!==(a=r[2]+"")&&j(l,a)},d(r){r&&d(e)}}}function Xa(t){var H,te;let e,a,l,r,s,i,f,n,m,p,k=((H=t[0].game)==null?void 0:H.name)+"",E,g,w,I,z,R,N=(((te=t[0].authors)==null?void 0:te.join(", "))||"")+"",V,Q,D,P,X=Oe(t[0].features||[]),y=[];for(let C=0;C<X.length;C+=1)y[C]=Xt(Nt(t,X,C));return I=new Bt({props:{file:t[0]}}),{c(){e=h("a"),a=h("img"),s=M(),i=h("hr"),f=M(),n=h("div"),m=h("div"),p=h("p"),E=A(k),g=M();for(let C=0;C<y.length;C+=1)y[C].c();w=M(),rt(I.$$.fragment),z=M(),R=h("h4"),V=A(N),this.h()},l(C){e=v(C,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var L=b(e);a=v(L,"IMG",{src:!0,alt:!0,class:!0}),s=F(L),i=v(L,"HR",{}),f=F(L),n=v(L,"DIV",{class:!0});var U=b(n);m=v(U,"DIV",{class:!0});var ae=b(m);p=v(ae,"P",{class:!0});var J=b(p);E=S(J,k),J.forEach(d),g=F(ae);for(let G=0;G<y.length;G+=1)y[G].l(ae);w=F(ae),st(I.$$.fragment,ae),ae.forEach(d),z=F(U),R=v(U,"H4",{class:!0});var le=b(R);V=S(le,N),le.forEach(d),U.forEach(d),L.forEach(d),this.h()},h(){var C;ce(a.src,l=t[0].imgUrl||Wt)||u(a,"src",l),u(a,"alt",r=t[0].id),u(a,"class","card aspectTable overflow-hidden hover:brightness-125 hover:scale-110 transition-all svelte-1mrpffe"),u(p,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(m,"class","flex gap-2"),u(R,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",Q=t[0].id),u(e,"data-gameid",D=(C=t[0].game)==null?void 0:C.id),u(e,"data-filetype","b2sFiles")},m(C,L){$(C,e,L),o(e,a),o(e,s),o(e,i),o(e,f),o(e,n),o(n,m),o(m,p),o(p,E),o(m,g);for(let U=0;U<y.length;U+=1)y[U]&&y[U].m(m,null);o(m,w),it(I,m,null),o(n,z),o(n,R),o(R,V),P=!0},p(C,[L]){var ae,J,le;if((!P||L&1&&!ce(a.src,l=C[0].imgUrl||Wt))&&u(a,"src",l),(!P||L&1&&r!==(r=C[0].id))&&u(a,"alt",r),(!P||L&1)&&k!==(k=((ae=C[0].game)==null?void 0:ae.name)+"")&&j(E,k),L&1){X=Oe(C[0].features||[]);let G;for(G=0;G<X.length;G+=1){const je=Nt(C,X,G);y[G]?y[G].p(je,L):(y[G]=Xt(je),y[G].c(),y[G].m(m,w))}for(;G<y.length;G+=1)y[G].d(1);y.length=X.length}const U={};L&1&&(U.file=C[0]),I.$set(U),(!P||L&1)&&N!==(N=(((J=C[0].authors)==null?void 0:J.join(", "))||"")+"")&&j(V,N),(!P||L&2)&&u(e,"href",C[1]),(!P||L&1&&Q!==(Q=C[0].id))&&u(e,"id",Q),(!P||L&1&&D!==(D=(le=C[0].game)==null?void 0:le.id))&&u(e,"data-gameid",D)},i(C){P||(K(I.$$.fragment,C),P=!0)},o(C){Y(I.$$.fragment,C),P=!1},d(C){C&&d(e),Ft(y,C),nt(I)}}}function Za(t,e,a){let{file:l=ka}=e,{href:r=""}=e;return t.$$set=s=>{"file"in s&&a(0,l=s.file),"href"in s&&a(1,r=s.href)},[l,r]}class Ja extends ft{constructor(e){super(),ut(this,e,Za,Xa,ot,{file:0,href:1})}}function Ka(t){var X;let e,a,l,r,s=(((X=t[0].game)==null?void 0:X.name)||"???")+"",i,f,n,m,p=(t[0].version||"")+"",k,E,g,w,I,z,R,N,V,Q,D,P;return z=new Bt({props:{file:t[0]}}),{c(){e=h("a"),a=h("div"),l=h("div"),r=h("span"),i=A(s),f=M(),n=h("div"),m=h("span"),k=A(p),E=M(),g=h("div"),w=M(),I=h("div"),rt(z.$$.fragment),R=M(),N=h("img"),this.h()},l(y){e=v(y,"A",{href:!0,id:!0,"data-gameid":!0,"data-filetype":!0,class:!0});var H=b(e);a=v(H,"DIV",{class:!0});var te=b(a);l=v(te,"DIV",{class:!0});var C=b(l);r=v(C,"SPAN",{class:!0});var L=b(r);i=S(L,s),L.forEach(d),f=F(C),n=v(C,"DIV",{class:!0});var U=b(n);m=v(U,"SPAN",{class:!0});var ae=b(m);k=S(ae,p),ae.forEach(d),E=F(U),g=v(U,"DIV",{class:!0}),b(g).forEach(d),w=F(U),I=v(U,"DIV",{class:!0});var J=b(I);st(z.$$.fragment,J),J.forEach(d),U.forEach(d),C.forEach(d),R=F(te),N=v(te,"IMG",{src:!0,class:!0,alt:!0}),te.forEach(d),H.forEach(d),this.h()},h(){var y;u(r,"class","font-bold"),u(m,"class","opacity-60 whitespace-nowrap text-ellipsis overflow-hidden"),u(g,"class","flex-1"),u(I,"class","shrink-0"),u(n,"class","flex justify-between max-w-full"),u(l,"class","p-4 flex flex-col justify-between absolute top-0 left-0 right-0 bottom-0 z-10"),ce(N.src,V=t[3])||u(N,"src",V),u(N,"class","absolute top-0 left-0 right-0 bottom-0 opacity-10"),u(N,"alt",""),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 aspect relative overflow-hidden hover:brightness-125 hover:scale-110 transition-all text-xs md:text-base svelte-22xih4"),u(e,"href",t[1]),u(e,"id",Q=t[0].id),u(e,"data-gameid",D=(y=t[0].game)==null?void 0:y.id),u(e,"data-filetype",t[2]),u(e,"class","aspect svelte-22xih4")},m(y,H){$(y,e,H),o(e,a),o(a,l),o(l,r),o(r,i),o(l,f),o(l,n),o(n,m),o(m,k),o(n,E),o(n,g),o(n,w),o(n,I),it(z,I,null),o(a,R),o(a,N),P=!0},p(y,[H]){var C,L;(!P||H&1)&&s!==(s=(((C=y[0].game)==null?void 0:C.name)||"???")+"")&&j(i,s),(!P||H&1)&&p!==(p=(y[0].version||"")+"")&&j(k,p);const te={};H&1&&(te.file=y[0]),z.$set(te),(!P||H&8&&!ce(N.src,V=y[3]))&&u(N,"src",V),(!P||H&2)&&u(e,"href",y[1]),(!P||H&1&&Q!==(Q=y[0].id))&&u(e,"id",Q),(!P||H&1&&D!==(D=(L=y[0].game)==null?void 0:L.id))&&u(e,"data-gameid",D),(!P||H&4)&&u(e,"data-filetype",y[2])},i(y){P||(K(z.$$.fragment,y),P=!0)},o(y){Y(z.$$.fragment,y),P=!1},d(y){y&&d(e),nt(z)}}}function Qa(t,e,a){let l;const{getGameImage:r}=jt;let{file:s=ya}=e,{href:i=""}=e,{fileType:f}=e;return t.$$set=n=>{"file"in n&&a(0,s=n.file),"href"in n&&a(1,i=n.href),"fileType"in n&&a(2,f=n.fileType)},t.$$.update=()=>{var n;t.$$.dirty&1&&a(3,l=(n=s.game)!=null&&n.id?r(s.game.id):"")},[s,i,f,l]}class Je extends ft{constructor(e){super(),ut(this,e,Qa,Ka,ot,{file:0,href:1,fileType:2})}}/*! Fast Average Color | Â© 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function Ya(t){var e=t.toString(16);return e.length===1?"0"+e:e}function Zt(t){return"#"+t.map(Ya).join("")}function $a(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function xa(t){return t?el(t)?t:[t]:[]}function el(t){return Array.isArray(t[0])}function zt(t,e,a){for(var l=0;l<a.length;l++)if(tl(t,e,a[l]))return!0;return!1}function tl(t,e,a){switch(a.length){case 3:if(al(t,e,a))return!0;break;case 4:if(ll(t,e,a))return!0;break;case 5:if(rl(t,e,a))return!0;break;default:return!1}}function al(t,e,a){return t[e+3]!==255||t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]}function ll(t,e,a){return t[e+3]&&a[3]?t[e]===a[0]&&t[e+1]===a[1]&&t[e+2]===a[2]&&t[e+3]===a[3]:t[e+3]===a[3]}function At(t,e,a){return t>=e-a&&t<=e+a}function rl(t,e,a){var l=a[0],r=a[1],s=a[2],i=a[3],f=a[4],n=t[e+3],m=At(n,i,f);return i?!!(!n&&m||At(t[e],l,f)&&At(t[e+1],r,f)&&At(t[e+2],s,f)&&m):m}function sl(t,e,a){for(var l={},r=24,s=a.ignoredColor,i=a.step,f=[0,0,0,0,0],n=0;n<e;n+=i){var m=t[n],p=t[n+1],k=t[n+2],E=t[n+3];if(!(s&&zt(t,n,s))){var g=Math.round(m/r)+","+Math.round(p/r)+","+Math.round(k/r);l[g]?l[g]=[l[g][0]+m*E,l[g][1]+p*E,l[g][2]+k*E,l[g][3]+E,l[g][4]+1]:l[g]=[m*E,p*E,k*E,E,1],f[4]<l[g][4]&&(f=l[g])}}var w=f[0],I=f[1],z=f[2],R=f[3],N=f[4];return R?[Math.round(w/R),Math.round(I/R),Math.round(z/R),Math.round(R/N)]:a.defaultColor}function il(t,e,a){for(var l=0,r=0,s=0,i=0,f=0,n=a.ignoredColor,m=a.step,p=0;p<e;p+=m){var k=t[p+3],E=t[p]*k,g=t[p+1]*k,w=t[p+2]*k;n&&zt(t,p,n)||(l+=E,r+=g,s+=w,i+=k,f++)}return i?[Math.round(l/i),Math.round(r/i),Math.round(s/i),Math.round(i/f)]:a.defaultColor}function nl(t,e,a){for(var l=0,r=0,s=0,i=0,f=0,n=a.ignoredColor,m=a.step,p=0;p<e;p+=m){var k=t[p],E=t[p+1],g=t[p+2],w=t[p+3];n&&zt(t,p,n)||(l+=k*k*w,r+=E*E*w,s+=g*g*w,i+=w,f++)}return i?[Math.round(Math.sqrt(l/i)),Math.round(Math.sqrt(r/i)),Math.round(Math.sqrt(s/i)),Math.round(i/f)]:a.defaultColor}function Jt(t){return Mt(t,"defaultColor",[0,0,0,0])}function Mt(t,e,a){return t[e]===void 0?a:t[e]}var Kt=10,Ot=100;function ol(t){return t.search(/\.svg(\?|$)/i)!==-1}function fl(t){if(pa(t)){var e=t.naturalWidth,a=t.naturalHeight;return!t.naturalWidth&&ol(t.src)&&(e=a=Ot),{width:e,height:a}}return cl(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function Qt(t){return dl(t)?"canvas":ul(t)?"offscreencanvas":hl(t)?"imagebitmap":t.src}function pa(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var _a=typeof OffscreenCanvas<"u";function ul(t){return _a&&t instanceof OffscreenCanvas}function cl(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function dl(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function hl(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function vl(t,e){var a=Mt(e,"left",0),l=Mt(e,"top",0),r=Mt(e,"width",t.width),s=Mt(e,"height",t.height),i=r,f=s;if(e.mode==="precision")return{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:s,destWidth:i,destHeight:f};var n;return r>s?(n=r/s,i=Ot,f=Math.round(i/n)):(n=s/r,f=Ot,i=Math.round(f/n)),(i>r||f>s||i<Kt||f<Kt)&&(i=r,f=s),{srcLeft:a,srcTop:l,srcWidth:r,srcHeight:s,destWidth:i,destHeight:f}}var ml=typeof window>"u";function gl(){return ml?_a?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var pl="FastAverageColor: ";function He(t){return Error(pl+t)}function Ct(t,e){e||console.error(t)}var ba=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,a){if(!e)return Promise.reject(He("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(He("resource as string is not supported in this environment"));var l=new Image;return l.crossOrigin=a&&a.crossOrigin||"",l.src=e,this.bindImageEvents(l,a)}else{if(pa(e)&&!e.complete)return this.bindImageEvents(e,a);var r=this.getColor(e,a);return r.error?Promise.reject(r.error):Promise.resolve(r)}},t.prototype.getColor=function(e,a){a=a||{};var l=Jt(a);if(!e){var r=He("call .getColor(null) without resource");return Ct(r,a.silent),this.prepareResult(l,r)}var s=fl(e),i=vl(s,a);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var r=He('incorrect sizes for resource "'.concat(Qt(e),'"'));return Ct(r,a.silent),this.prepareResult(l,r)}if(!this.canvas&&(this.canvas=gl(),!this.canvas)){var r=He("OffscreenCanvas is not supported in this browser");return Ct(r,a.silent),this.prepareResult(l,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var r=He("Canvas Context 2D is not supported in this browser");return Ct(r,a.silent),this.prepareResult(l)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var f=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(f,a))}catch(n){var r=He("security error (CORS) for resource ".concat(Qt(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Ct(r,a.silent),!a.silent&&console.error(n),this.prepareResult(l,r)}},t.prototype.getColorFromArray4=function(e,a){a=a||{};var l=4,r=e.length,s=Jt(a);if(r<l)return s;var i=r-r%l,f=(a.step||1)*l,n;switch(a.algorithm||"sqrt"){case"simple":n=il;break;case"sqrt":n=nl;break;case"dominant":n=sl;break;default:throw He("".concat(a.algorithm," is unknown algorithm"))}return n(e,i,{defaultColor:s,ignoredColor:xa(a.ignoredColor),step:f})},t.prototype.prepareResult=function(e,a){var l=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],s=$a(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+l.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Zt(l),hexa:Zt(e),isDark:s,isLight:!s,error:a}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,a){var l=this;return new Promise(function(r,s){var i=function(){m();var p=l.getColor(e,a);p.error?s(p.error):r(p)},f=function(){m(),s(He('Error loading image "'.concat(e.src,'".')))},n=function(){m(),s(He('Image "'.concat(e.src,'" loading aborted')))},m=function(){e.removeEventListener("load",i),e.removeEventListener("error",f),e.removeEventListener("abort",n)};e.addEventListener("load",i),e.addEventListener("error",f),e.addEventListener("abort",n)})},t}();const wa=Wa({width:0,height:0,mobile:!1});function Yt(t,e,a){const l=t.slice();return l[11]=e[a],l}function $t(t,e,a){const l=t.slice();return l[14]=e[a],l}function xt(t,e,a){const l=t.slice();return l[11]=e[a],l}function ea(t){let e,a=t[11]+"",l,r;return{c(){e=h("div"),l=A(a),r=M(),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=b(e);l=S(i,a),r=F(i),i.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){$(s,e,i),o(e,l),o(e,r)},p(s,i){i&32&&a!==(a=s[11]+"")&&j(l,a)},d(s){s&&d(e)}}}function ta(t){let e,a=t[14].toUpperCase()+"",l;return{c(){e=h("div"),l=A(a),this.h()},l(r){e=v(r,"DIV",{class:!0});var s=b(e);l=S(s,a),s.forEach(d),this.h()},h(){u(e,"class","badge variant-filled-surface")},m(r,s){$(r,e,s),o(e,l)},p(r,s){s&1&&a!==(a=r[14].toUpperCase()+"")&&j(l,a)},d(r){r&&d(e)}}}function aa(t){let e,a=t[11]+"",l,r;return{c(){e=h("div"),l=A(a),r=M(),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=b(e);l=S(i,a),r=F(i),i.forEach(d),this.h()},h(){u(e,"class","badge badge-glass my-auto py-0.5 px-1")},m(s,i){$(s,e,i),o(e,l),o(e,r)},p(s,i){i&32&&a!==(a=s[11]+"")&&j(l,a)},d(s){s&&d(e)}}}function _l(t){var kt,yt;let e,a,l,r,s,i,f,n,m,p=t[0].name+"",k,E,g,w,I,z=t[0].manufacturer+"",R,N,V,Q,D=t[0].year+"",P,X,y,H,te=(((kt=t[0].designers)==null?void 0:kt.join(", "))||"-")+"",C,L,U,ae,J,le,G,je="Updated at",me,Te,ge=Rt(t[0].lastCreatedAt??t[0].updatedAt)+"",de,we,Ke,ct,oe,he,dt="Type",ht,x,Pe=(t[0].type||"-")+"",Le,vt,Z,ve,pe,Be,ie,fe,Ee,ze=t[0].name+"",Ie,Ue,Qe,_e,ue=t[0].manufacturer+"",Ce,Ye,We=t[0].year+"",Me,$e,mt,Fe,be=(((yt=t[0].designers)==null?void 0:yt.join(", "))||"")+"",De,Ge,xe,gt,O=Oe(t[5]),ee=[];for(let c=0;c<O.length;c+=1)ee[c]=ea(xt(t,O,c));let qe=Oe(t[0].theme||[]),B=[];for(let c=0;c<qe.length;c+=1)B[c]=ta($t(t,qe,c));let Ne=Oe(t[5]),re=[];for(let c=0;c<Ne.length;c+=1)re[c]=aa(Yt(t,Ne,c));return{c(){e=h("a"),a=h("div"),l=h("img"),i=M(),f=h("div"),n=h("div"),m=h("p"),k=A(p),E=M();for(let c=0;c<ee.length;c+=1)ee[c].c();g=M(),w=h("div"),I=h("p"),R=A(z),N=M(),V=h("p"),Q=A("("),P=A(D),X=A(")"),y=M(),H=h("p"),C=A(te),L=M(),U=h("div");for(let c=0;c<B.length;c+=1)B[c].c();ae=M(),J=h("div"),le=h("div"),G=h("p"),G.textContent=je,me=M(),Te=h("p"),de=A(ge),we=M(),Ke=h("div"),ct=M(),oe=h("div"),he=h("p"),he.textContent=dt,ht=M(),x=h("p"),Le=A(Pe),vt=M(),Z=h("img"),Be=M(),ie=h("div"),fe=h("div"),Ee=h("p"),Ie=A(ze),Ue=M();for(let c=0;c<re.length;c+=1)re[c].c();Qe=M(),_e=h("p"),Ce=A(ue),Ye=A(" ("),Me=A(We),$e=A(")"),mt=M(),Fe=h("p"),De=A(be),this.h()},l(c){e=v(c,"A",{class:!0,href:!0,id:!0});var _=b(e);a=v(_,"DIV",{class:!0,style:!0});var W=b(a);l=v(W,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=F(W),f=v(W,"DIV",{class:!0,style:!0});var q=b(f);n=v(q,"DIV",{class:!0});var T=b(n);m=v(T,"P",{class:!0});var ne=b(m);k=S(ne,p),ne.forEach(d),E=F(T);for(let ye=0;ye<ee.length;ye+=1)ee[ye].l(T);T.forEach(d),g=F(q),w=v(q,"DIV",{class:!0});var Ve=b(w);I=v(Ve,"P",{class:!0});var Ae=b(I);R=S(Ae,z),Ae.forEach(d),N=F(Ve),V=v(Ve,"P",{});var Se=b(V);Q=S(Se,"("),P=S(Se,D),X=S(Se,")"),Se.forEach(d),Ve.forEach(d),y=F(q),H=v(q,"P",{class:!0});var pt=b(H);C=S(pt,te),pt.forEach(d),L=F(q),U=v(q,"DIV",{class:!0});var Tt=b(U);for(let ye=0;ye<B.length;ye+=1)B[ye].l(Tt);Tt.forEach(d),ae=F(q),J=v(q,"DIV",{class:!0});var Xe=b(J);le=v(Xe,"DIV",{class:!0});var Ze=b(le);G=v(Ze,"P",{class:!0,"data-svelte-h":!0}),Ht(G)!=="svelte-g6tq99"&&(G.textContent=je),me=F(Ze),Te=v(Ze,"P",{class:!0});var Pt=b(Te);de=S(Pt,ge),Pt.forEach(d),Ze.forEach(d),we=F(Xe),Ke=v(Xe,"DIV",{class:!0}),b(Ke).forEach(d),ct=F(Xe),oe=v(Xe,"DIV",{class:!0});var ke=b(oe);he=v(ke,"P",{class:!0,"data-svelte-h":!0}),Ht(he)!=="svelte-1h1g7sd"&&(he.textContent=dt),ht=F(ke),x=v(ke,"P",{class:!0});var _t=b(x);Le=S(_t,Pe),_t.forEach(d),ke.forEach(d),Xe.forEach(d),q.forEach(d),W.forEach(d),vt=F(_),Z=v(_,"IMG",{src:!0,alt:!0,class:!0}),Be=F(_),ie=v(_,"DIV",{class:!0});var Re=b(ie);fe=v(Re,"DIV",{class:!0});var bt=b(fe);Ee=v(bt,"P",{class:!0});var et=b(Ee);Ie=S(et,ze),et.forEach(d),Ue=F(bt);for(let ye=0;ye<re.length;ye+=1)re[ye].l(bt);bt.forEach(d),Qe=F(Re),_e=v(Re,"P",{});var tt=b(_e);Ce=S(tt,ue),Ye=S(tt," ("),Me=S(tt,We),$e=S(tt,")"),tt.forEach(d),mt=F(Re),Fe=v(Re,"P",{class:!0});var Ut=b(Fe);De=S(Ut,be),Ut.forEach(d),Re.forEach(d),_.forEach(d),this.h()},h(){ce(l.src,r=t[2])||u(l,"src",r),u(l,"alt",s=t[0].id),at(l,"height","36%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-10"),u(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(n,"class","flex gap-2 max-w-full"),u(I,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(w,"class","flex gap-1 text-center max-w-full"),u(H,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(U,"class","flex gap-2 mt-4 flex-wrap"),u(G,"class","text-xs font-bold uppercase opacity-40"),u(Te,"class",""),u(le,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(Ke,"class","bg-surface-900-50-token h-full w-px opacity-20"),u(he,"class","text-xs font-bold uppercase opacity-40"),u(x,"class",""),u(oe,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(J,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-2 bottom-0"),at(f,"top","calc(90% - 13rem)"),u(a,"class","hoverCard card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center svelte-1jt2e09"),at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[6]?100:900)+")) "+(t[6]?80:60)+"%, "+(t[3]||`rgb(var(--color-surface-${t[6]?100:600})`)+")",1),se(a,"hovered",t[4]),ce(Z.src,ve=t[2])||u(Z,"src",ve),u(Z,"alt",pe=t[0].name),u(Z,"class","card pinImage bg-surface-300-600-token shadow-black svelte-1jt2e09"),se(Z,"hovered",t[4]),se(Z,"shadow-lg",t[4]),u(Ee,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(fe,"class","flex gap-2"),u(Fe,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"),u(ie,"class","info flex flex-col py-4 svelte-1jt2e09"),se(ie,"opacity-0",t[4]),u(e,"class","wrapper relative z-0"),u(e,"href",t[1]),u(e,"id",Ge=t[0].id)},m(c,_){$(c,e,_),o(e,a),o(a,l),o(a,i),o(a,f),o(f,n),o(n,m),o(m,k),o(n,E);for(let W=0;W<ee.length;W+=1)ee[W]&&ee[W].m(n,null);o(f,g),o(f,w),o(w,I),o(I,R),o(w,N),o(w,V),o(V,Q),o(V,P),o(V,X),o(f,y),o(f,H),o(H,C),o(f,L),o(f,U);for(let W=0;W<B.length;W+=1)B[W]&&B[W].m(U,null);o(f,ae),o(f,J),o(J,le),o(le,G),o(le,me),o(le,Te),o(Te,de),o(J,we),o(J,Ke),o(J,ct),o(J,oe),o(oe,he),o(oe,ht),o(oe,x),o(x,Le),o(e,vt),o(e,Z),o(e,Be),o(e,ie),o(ie,fe),o(fe,Ee),o(Ee,Ie),o(fe,Ue);for(let W=0;W<re.length;W+=1)re[W]&&re[W].m(fe,null);o(ie,Qe),o(ie,_e),o(_e,Ce),o(_e,Ye),o(_e,Me),o(_e,$e),o(ie,mt),o(ie,Fe),o(Fe,De),xe||(gt=[Dt(e,"mouseenter",t[7]),Dt(e,"mouseleave",t[8])],xe=!0)},p(c,[_]){var W,q;if(_&4&&!ce(l.src,r=c[2])&&u(l,"src",r),_&1&&s!==(s=c[0].id)&&u(l,"alt",s),_&1&&p!==(p=c[0].name+"")&&j(k,p),_&32){O=Oe(c[5]);let T;for(T=0;T<O.length;T+=1){const ne=xt(c,O,T);ee[T]?ee[T].p(ne,_):(ee[T]=ea(ne),ee[T].c(),ee[T].m(n,null))}for(;T<ee.length;T+=1)ee[T].d(1);ee.length=O.length}if(_&1&&z!==(z=c[0].manufacturer+"")&&j(R,z),_&1&&D!==(D=c[0].year+"")&&j(P,D),_&1&&te!==(te=(((W=c[0].designers)==null?void 0:W.join(", "))||"-")+"")&&j(C,te),_&1){qe=Oe(c[0].theme||[]);let T;for(T=0;T<qe.length;T+=1){const ne=$t(c,qe,T);B[T]?B[T].p(ne,_):(B[T]=ta(ne),B[T].c(),B[T].m(U,null))}for(;T<B.length;T+=1)B[T].d(1);B.length=qe.length}if(_&1&&ge!==(ge=Rt(c[0].lastCreatedAt??c[0].updatedAt)+"")&&j(de,ge),_&1&&Pe!==(Pe=(c[0].type||"-")+"")&&j(Le,Pe),_&72&&at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[6]?100:900)+")) "+(c[6]?80:60)+"%, "+(c[3]||`rgb(var(--color-surface-${c[6]?100:600})`)+")",1),_&16&&se(a,"hovered",c[4]),_&4&&!ce(Z.src,ve=c[2])&&u(Z,"src",ve),_&1&&pe!==(pe=c[0].name)&&u(Z,"alt",pe),_&16&&se(Z,"hovered",c[4]),_&16&&se(Z,"shadow-lg",c[4]),_&1&&ze!==(ze=c[0].name+"")&&j(Ie,ze),_&32){Ne=Oe(c[5]);let T;for(T=0;T<Ne.length;T+=1){const ne=Yt(c,Ne,T);re[T]?re[T].p(ne,_):(re[T]=aa(ne),re[T].c(),re[T].m(fe,null))}for(;T<re.length;T+=1)re[T].d(1);re.length=Ne.length}_&1&&ue!==(ue=c[0].manufacturer+"")&&j(Ce,ue),_&1&&We!==(We=c[0].year+"")&&j(Me,We),_&1&&be!==(be=(((q=c[0].designers)==null?void 0:q.join(", "))||"")+"")&&j(De,be),_&16&&se(ie,"opacity-0",c[4]),_&2&&u(e,"href",c[1]),_&1&&Ge!==(Ge=c[0].id)&&u(e,"id",Ge)},i:Vt,o:Vt,d(c){c&&d(e),Ft(ee,c),Ft(B,c),Ft(re,c),xe=!1,ua(gt)}}}function bl(t,e,a){let l,r,s,i;lt(t,wa,w=>a(9,s=w)),lt(t,ga,w=>a(6,i=w));const f=new ba;let{file:n=ma}=e,{href:m=""}=e,p="",k=!1;const E=()=>{s.mobile||a(4,k=!0)},g=()=>{s.mobile||a(4,k=!1)};return t.$$set=w=>{"file"in w&&a(0,n=w.file),"href"in w&&a(1,m=w.href)},t.$$.update=()=>{t.$$.dirty&1&&a(2,l=Ca(n)),t.$$.dirty&1&&a(5,r=Array.from(new Set((n.tableFiles||[]).map(w=>w.tableFormat).filter(w=>!!w)))),t.$$.dirty&4&&l&&f.getColorAsync(l).then(w=>{w&&a(3,p=w.rgb)})},[n,m,l,p,k,r,i,E,g]}class wl extends ft{constructor(e){super(),ut(this,e,bl,_l,ot,{file:0,href:1})}}const St=""+new URL("../assets/tablePlaceholder.f13766a0.jpg",import.meta.url).href,la={FastFlips:"bg-red-500",SSF:"bg-cyan-500","P-ROC":"bg-bg-yellow-500",FlexDMD:"bg-orange-500",PuP:"bg-sky-500",VR:"bg-cyan-500",Hybrid:"bg-violet-500","Mixed Reality":"bg-cyan-500",Music:"bg-rose-500",FSS:"bg-green-500","4k":"bg-teal-500",MOD:"bg-purple-500",VPX:"bg-emerald-500",VP9:"bg-emerald-500",PM5:"bg-green-500",FX3:"bg-lime-500",FX2:"bg-lime-500",FX:"bg-lime-500",FP:"bg-yellow-500",B2S:"bg-pink-500",ROM:"bg-fuchsia-500",POV:"bg-green-500",Color:"bg-red-500",Sound:"bg-rose-500",Wheel:"bg-purple-500",Rules:"bg-orange-500",MediaPack:"bg-yellow-500",Topper:"bg-red-500","PinX Sound":"bg-sore-500","incl. B2S":"bg-pink-500","incl. ROM":"bg-fuchsia-500","incl. Art":"bg-purple-500","incl. PuP":"bg-sky-500","incl. Video":"bg-sky-500","no ROM":"bg-fuchsia-500",Adult:"bg-slate-500",Kids:"bg-indigo-500",LUT:"bg-gray-500",nFozzy:"bg-blue-500",Scorbit:"bg-indigo-500",Fleep:"bg-yellow-500",VLM:"bg-lime-500"},ra={Hybrid:"Automatically switches between VR and Flat","Mixed Reality":"Table can be played in VR and placed in your environment",VR:"Table can be played with a VR headset",FSS:"Table works well on a single screen in ladscape orientation","4k":"Table has high resolution textures",MOD:"Table is a modification of another table",Retheme:"Table uses a different table with a new theme applied","VPU Patch":"Uses VPURemix to patch an original table file",FastFlips:"Simulates quicker solenoid ramp up on flippers",SSF:"Has audio content for surround sound (positional audio)",FlexDMD:"An external DMD renderer",Music:"Table includes music files","incl. B2S":"Table includes backglass files","incl. ROM":"Table includes ROM files","incl. nvram":"Table includes nvram (settings and scores) file","incl. Art":"Table includes additional artwork","incl. PuP":"Table includes a PuP pack","incl. Video":"Table includes video files","no ROM":"Table does not require ROM emulation",Kids:"Table is geared towards children",Adult:"Table has adult themes",nFozzy:"Table has improved/realistic physics",Fleep:"Table has improve ball sounds",VLM:"VPX Light Mapper -- enhanced lighting",LUT:"Table coloring can be changed",Scorbit:"Table integrates with Scorbit score management",BAM:"Future Pinball table requires BAM (better arcade mode)",FizX:"Future Pinball table with improved physics",DOF:"Table integrates with DOF (solenoids and lights)"};function El(t){let e;const a=t[4].default,l=ca(a,t,t[3],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,s){l&&l.m(r,s),e=!0},p(r,s){l&&l.p&&(!e||s&8)&&da(l,a,r,r[3],e?va(a,r[3],s,null):ha(r[3]),null)},i(r){e||(K(l,r),e=!0)},o(r){Y(l,r),e=!1},d(r){l&&l.d(r)}}}function Il(t){let e,a,l,r,s,i,f,n,m,p;const k=t[4].default,E=ca(k,t,t[3],null);return{c(){e=h("div"),E&&E.c(),a=M(),l=h("div"),r=h("p"),s=A(t[0]),i=M(),f=h("div"),this.h()},l(g){e=v(g,"DIV",{});var w=b(e);E&&E.l(w),w.forEach(d),a=F(g),l=v(g,"DIV",{class:!0,"data-popup":!0});var I=b(l);r=v(I,"P",{});var z=b(r);s=S(z,t[0]),z.forEach(d),i=F(I),f=v(I,"DIV",{class:!0}),b(f).forEach(d),I.forEach(d),this.h()},h(){u(f,"class","arrow variant-filled-surface border-primary-500 border-r border-b"),u(l,"class","card px-2 py-1 variant-filled-surface z-50 border-primary-500 border shadow-md"),u(l,"data-popup",t[1])},m(g,w){$(g,e,w),E&&E.m(e,null),$(g,a,w),$(g,l,w),o(l,r),o(r,s),o(l,i),o(l,f),n=!0,m||(p=Ia(Ma.call(null,e,t[2])),m=!0)},p(g,w){E&&E.p&&(!n||w&8)&&da(E,k,g,g[3],n?va(k,g[3],w,null):ha(g[3]),null),(!n||w&1)&&j(s,g[0])},i(g){n||(K(E,g),n=!0)},o(g){Y(E,g),n=!1},d(g){g&&(d(e),d(a),d(l)),E&&E.d(g),m=!1,p()}}}function kl(t){let e,a,l,r;const s=[Il,El],i=[];function f(n,m){return n[0]?0:1}return e=f(t),a=i[e]=s[e](t),{c(){a.c(),l=wt()},l(n){a.l(n),l=wt()},m(n,m){i[e].m(n,m),$(n,l,m),r=!0},p(n,[m]){let p=e;e=f(n),e===p?i[e].p(n,m):(Et(),Y(i[p],1,1,()=>{i[p]=null}),It(),a=i[e],a?a.p(n,m):(a=i[e]=s[e](n),a.c()),K(a,1),a.m(l.parentNode,l))},i(n){r||(K(a),r=!0)},o(n){Y(a),r=!1},d(n){n&&d(l),i[e].d(n)}}}function yl(t,e,a){let{$$slots:l={},$$scope:r}=e,{content:s=""}=e;const i=Ga(10),f={event:"hover",target:i,placement:"top"};return t.$$set=n=>{"content"in n&&a(0,s=n.content),"$$scope"in n&&a(3,r=n.$$scope)},[s,i,f,r,l]}class Tl extends ft{constructor(e){super(),ut(this,e,yl,kl,ot,{content:0})}}function sa(t,e,a){const l=t.slice();return l[1]=e[a],l}function ia(t){let e,a,l=Oe(t[0]||[]),r=[];for(let i=0;i<l.length;i+=1)r[i]=na(sa(t,l,i));const s=i=>Y(r[i],1,1,()=>{r[i]=null});return{c(){e=h("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var f=b(e);for(let n=0;n<r.length;n+=1)r[n].l(f);f.forEach(d),this.h()},h(){u(e,"class","flex gap-1 flex-wrap")},m(i,f){$(i,e,f);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);a=!0},p(i,f){if(f&1){l=Oe(i[0]||[]);let n;for(n=0;n<l.length;n+=1){const m=sa(i,l,n);r[n]?(r[n].p(m,f),K(r[n],1)):(r[n]=na(m),r[n].c(),K(r[n],1),r[n].m(e,null))}for(Et(),n=l.length;n<r.length;n+=1)s(n);It()}},i(i){if(!a){for(let f=0;f<l.length;f+=1)K(r[f]);a=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)Y(r[f]);a=!1},d(i){i&&d(e),Ft(r,i)}}}function Pl(t){let e,a,l,r=t[1].toUpperCase()+"",s,i;return{c(){e=h("div"),a=h("span"),s=A(r),i=M(),this.h()},l(f){e=v(f,"DIV",{class:!0});var n=b(e);a=v(n,"SPAN",{class:!0}),b(a).forEach(d),s=S(n,r),n.forEach(d),i=F(f),this.h()},h(){u(a,"class",l="rounded-full h-2 w-2 "+(la[t[1]]||"bg-slate-500")+" mr-2"),u(e,"class","badge variant-ringed-surface px-1.5 py-0.5")},m(f,n){$(f,e,n),o(e,a),o(e,s),$(f,i,n)},p(f,n){n&1&&l!==(l="rounded-full h-2 w-2 "+(la[f[1]]||"bg-slate-500")+" mr-2")&&u(a,"class",l),n&1&&r!==(r=f[1].toUpperCase()+"")&&j(s,r)},d(f){f&&(d(e),d(i))}}}function na(t){let e,a;return e=new Tl({props:{content:ra[t[1]],$$slots:{default:[Pl]},$$scope:{ctx:t}}}),{c(){rt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){it(e,l,r),a=!0},p(l,r){const s={};r&1&&(s.content=ra[l[1]]),r&17&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){a||(K(e.$$.fragment,l),a=!0)},o(l){Y(e.$$.fragment,l),a=!1},d(l){nt(e,l)}}}function Cl(t){var r;let e,a,l=((r=t[0])==null?void 0:r.length)&&ia(t);return{c(){l&&l.c(),e=wt()},l(s){l&&l.l(s),e=wt()},m(s,i){l&&l.m(s,i),$(s,e,i),a=!0},p(s,[i]){var f;(f=s[0])!=null&&f.length?l?(l.p(s,i),i&1&&K(l,1)):(l=ia(s),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Et(),Y(l,1,1,()=>{l=null}),It())},i(s){a||(K(l),a=!0)},o(s){Y(l),a=!1},d(s){s&&d(e),l&&l.d(s)}}}function Ml(t,e,a){let{data:l=[]}=e;return t.$$set=r=>{"data"in r&&a(0,l=r.data)},[l]}class Fl extends ft{constructor(e){super(),ut(this,e,Ml,Cl,ot,{data:0})}}function oa(t){let e,a,l=t[0].edition+"",r;return{c(){e=h("div"),a=h("p"),r=A(l),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=b(e);a=v(i,"P",{class:!0});var f=b(a);r=S(f,l),f.forEach(d),i.forEach(d),this.h()},h(){u(a,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(e,"class","flex gap-2 max-w-full")},m(s,i){$(s,e,i),o(e,a),o(a,r)},p(s,i){i&1&&l!==(l=s[0].edition+"")&&j(r,l)},d(s){s&&d(e)}}}function Dl(t){var Ne,re,kt,yt;let e,a,l,r,s,i,f,n,m,p=((Ne=t[0].game)==null?void 0:Ne.name)+"",k,E,g,w=t[0].tableFormat+"",I,z,R,N,V,Q,D,P=t[4].manufacturer+"",X,y,H,te,C=t[4].year+"",L,U,ae,J,le=(((re=t[0].authors)==null?void 0:re.join(", "))||"-")+"",G,je,me,Te,ge,de,we,Ke="Updated at",ct,oe,he=Rt(t[0].createdAt??t[0].updatedAt)+"",dt,ht,x,Pe,Le,vt,Z,ve,pe,Be=((kt=t[0].game)==null?void 0:kt.name)+"",ie,fe=t[0].edition?` ${t[0].edition}`:"",Ee,ze,Ie,Ue=t[0].tableFormat+"",Qe,_e,ue,Ce=t[4].manufacturer+"",Ye,We,Me=t[4].year+"",$e,mt,Fe,be,De=((yt=t[0].authors)==null?void 0:yt.join(", "))+"",Ge,xe,gt,O,ee,qe;R=new Bt({props:{game:t[4]}});let B=t[0].edition&&oa(t);return me=new Fl({props:{data:t[0].features}}),{c(){e=h("a"),a=h("div"),l=h("img"),i=M(),f=h("div"),n=h("div"),m=h("p"),k=A(p),E=M(),g=h("div"),I=A(w),z=M(),rt(R.$$.fragment),N=M(),B&&B.c(),V=M(),Q=h("div"),D=h("p"),X=A(P),y=M(),H=h("p"),te=A("("),L=A(C),U=A(")"),ae=M(),J=h("p"),G=A(le),je=M(),rt(me.$$.fragment),Te=M(),ge=h("div"),de=h("div"),we=h("p"),we.textContent=Ke,ct=M(),oe=h("p"),dt=A(he),ht=M(),x=h("img"),vt=M(),Z=h("div"),ve=h("div"),pe=h("p"),ie=A(Be),Ee=A(fe),ze=M(),Ie=h("div"),Qe=A(Ue),_e=M(),ue=h("p"),Ye=A(Ce),We=A(" ("),$e=A(Me),mt=A(")"),Fe=M(),be=h("p"),Ge=A(De),this.h()},l(c){e=v(c,"A",{class:!0,href:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var _=b(e);a=v(_,"DIV",{style:!0,class:!0});var W=b(a);l=v(W,"IMG",{src:!0,alt:!0,style:!0,class:!0}),i=F(W),f=v(W,"DIV",{class:!0,style:!0});var q=b(f);n=v(q,"DIV",{class:!0});var T=b(n);m=v(T,"P",{class:!0});var ne=b(m);k=S(ne,p),ne.forEach(d),E=F(T),g=v(T,"DIV",{class:!0});var Ve=b(g);I=S(Ve,w),Ve.forEach(d),z=F(T),st(R.$$.fragment,T),T.forEach(d),N=F(q),B&&B.l(q),V=F(q),Q=v(q,"DIV",{class:!0});var Ae=b(Q);D=v(Ae,"P",{class:!0});var Se=b(D);X=S(Se,P),Se.forEach(d),y=F(Ae),H=v(Ae,"P",{});var pt=b(H);te=S(pt,"("),L=S(pt,C),U=S(pt,")"),pt.forEach(d),Ae.forEach(d),ae=F(q),J=v(q,"P",{class:!0});var Tt=b(J);G=S(Tt,le),Tt.forEach(d),je=F(q),st(me.$$.fragment,q),Te=F(q),ge=v(q,"DIV",{class:!0});var Xe=b(ge);de=v(Xe,"DIV",{class:!0});var Ze=b(de);we=v(Ze,"P",{class:!0,"data-svelte-h":!0}),Ht(we)!=="svelte-g6tq99"&&(we.textContent=Ke),ct=F(Ze),oe=v(Ze,"P",{class:!0});var Pt=b(oe);dt=S(Pt,he),Pt.forEach(d),Ze.forEach(d),Xe.forEach(d),q.forEach(d),W.forEach(d),ht=F(_),x=v(_,"IMG",{src:!0,alt:!0,class:!0}),vt=F(_),Z=v(_,"DIV",{class:!0});var ke=b(Z);ve=v(ke,"DIV",{class:!0});var _t=b(ve);pe=v(_t,"P",{class:!0});var Re=b(pe);ie=S(Re,Be),Ee=S(Re,fe),Re.forEach(d),ze=F(_t),Ie=v(_t,"DIV",{class:!0});var bt=b(Ie);Qe=S(bt,Ue),bt.forEach(d),_t.forEach(d),_e=F(ke),ue=v(ke,"P",{});var et=b(ue);Ye=S(et,Ce),We=S(et," ("),$e=S(et,Me),mt=S(et,")"),et.forEach(d),Fe=F(ke),be=v(ke,"P",{class:!0});var tt=b(be);Ge=S(tt,De),tt.forEach(d),ke.forEach(d),_.forEach(d),this.h()},h(){var c;ce(l.src,r=t[0].imgUrl||St)||u(l,"src",r),u(l,"alt",s=t[0].id),at(l,"height","35%"),u(l,"class","absolute top-0 left-0 right-0 w-full bgImage z-0 object-cover opacity-60 svelte-gfpzxg"),u(m,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(g,"class","badge badge-glass my-auto py-0.5 px-1"),u(n,"class","flex gap-2 max-w-full"),u(D,"class","text-ellipsis whitespace-nowrap overflow-hidden"),u(Q,"class","flex gap-1 text-center"),u(J,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden max-w-full mb-4"),u(we,"class","text-xs font-bold uppercase opacity-40"),u(oe,"class",""),u(de,"class","flex flex-col items-center justify-center flex-1 gap-1"),u(ge,"class","flex mt-auto w-full"),u(f,"class","flex flex-col max-w-full w-full absolute items-center p-4 gap-0.5 bottom-0"),at(f,"top","calc(88.5% - 14rem)"),at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(t[5]?100:900)+")) "+(t[5]?80:60)+"%, "+(t[2]||`rgb(var(--color-surface-${t[5]?100:600})`)+")",1),u(a,"class","card !bg-surface-100 dark:!bg-surface-600 shadow-2xl shadow-black absolute top-0 -left-4 -right-4 bottom-0 -z-1 flex flex-col p-4 gap-0.5 items-center hoverCard svelte-gfpzxg"),se(a,"hovered",t[3]),ce(x.src,Pe=t[0].imgUrl||St)||u(x,"src",Pe),u(x,"alt",Le=t[0].id),u(x,"class","card pinImage bg-surface-300-600-token shadow-black svelte-gfpzxg"),se(x,"hovered",t[3]),se(x,"shadow-lg",t[3]),u(pe,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden"),u(Ie,"class","badge badge-glass my-auto py-0.5 px-1"),u(ve,"class","flex gap-2"),u(be,"class","opacity-60 text-ellipsis whitespace-nowrap overflow-hidden"),u(Z,"class","flex flex-col py-4 info svelte-gfpzxg"),se(Z,"opacity-0",t[3]),u(e,"class","wrapper relative z-0 inline-block max-w-full min-w-0 w-full"),u(e,"href",t[1]),u(e,"id",xe=t[0].id),u(e,"data-gameid",gt=(c=t[0].game)==null?void 0:c.id),u(e,"data-filetype","tableFiles")},m(c,_){$(c,e,_),o(e,a),o(a,l),o(a,i),o(a,f),o(f,n),o(n,m),o(m,k),o(n,E),o(n,g),o(g,I),o(n,z),it(R,n,null),o(f,N),B&&B.m(f,null),o(f,V),o(f,Q),o(Q,D),o(D,X),o(Q,y),o(Q,H),o(H,te),o(H,L),o(H,U),o(f,ae),o(f,J),o(J,G),o(f,je),it(me,f,null),o(f,Te),o(f,ge),o(ge,de),o(de,we),o(de,ct),o(de,oe),o(oe,dt),o(e,ht),o(e,x),o(e,vt),o(e,Z),o(Z,ve),o(ve,pe),o(pe,ie),o(pe,Ee),o(ve,ze),o(ve,Ie),o(Ie,Qe),o(Z,_e),o(Z,ue),o(ue,Ye),o(ue,We),o(ue,$e),o(ue,mt),o(Z,Fe),o(Z,be),o(be,Ge),O=!0,ee||(qe=[Dt(e,"mouseenter",t[7]),Dt(e,"mouseleave",t[8])],ee=!0)},p(c,[_]){var T,ne,Ve,Ae,Se;(!O||_&1&&!ce(l.src,r=c[0].imgUrl||St))&&u(l,"src",r),(!O||_&1&&s!==(s=c[0].id))&&u(l,"alt",s),(!O||_&1)&&p!==(p=((T=c[0].game)==null?void 0:T.name)+"")&&j(k,p),(!O||_&1)&&w!==(w=c[0].tableFormat+"")&&j(I,w);const W={};_&16&&(W.game=c[4]),R.$set(W),c[0].edition?B?B.p(c,_):(B=oa(c),B.c(),B.m(f,V)):B&&(B.d(1),B=null),(!O||_&16)&&P!==(P=c[4].manufacturer+"")&&j(X,P),(!O||_&16)&&C!==(C=c[4].year+"")&&j(L,C),(!O||_&1)&&le!==(le=(((ne=c[0].authors)==null?void 0:ne.join(", "))||"-")+"")&&j(G,le);const q={};_&1&&(q.data=c[0].features),me.$set(q),(!O||_&1)&&he!==(he=Rt(c[0].createdAt??c[0].updatedAt)+"")&&j(dt,he),(!O||_&36)&&at(a,"background","color-mix(in lch, rgb(var(--color-surface-"+(c[5]?100:900)+")) "+(c[5]?80:60)+"%, "+(c[2]||`rgb(var(--color-surface-${c[5]?100:600})`)+")",1),(!O||_&8)&&se(a,"hovered",c[3]),(!O||_&1&&!ce(x.src,Pe=c[0].imgUrl||St))&&u(x,"src",Pe),(!O||_&1&&Le!==(Le=c[0].id))&&u(x,"alt",Le),(!O||_&8)&&se(x,"hovered",c[3]),(!O||_&8)&&se(x,"shadow-lg",c[3]),(!O||_&1)&&Be!==(Be=((Ve=c[0].game)==null?void 0:Ve.name)+"")&&j(ie,Be),(!O||_&1)&&fe!==(fe=c[0].edition?` ${c[0].edition}`:"")&&j(Ee,fe),(!O||_&1)&&Ue!==(Ue=c[0].tableFormat+"")&&j(Qe,Ue),(!O||_&16)&&Ce!==(Ce=c[4].manufacturer+"")&&j(Ye,Ce),(!O||_&16)&&Me!==(Me=c[4].year+"")&&j($e,Me),(!O||_&1)&&De!==(De=((Ae=c[0].authors)==null?void 0:Ae.join(", "))+"")&&j(Ge,De),(!O||_&8)&&se(Z,"opacity-0",c[3]),(!O||_&2)&&u(e,"href",c[1]),(!O||_&1&&xe!==(xe=c[0].id))&&u(e,"id",xe),(!O||_&1&&gt!==(gt=(Se=c[0].game)==null?void 0:Se.id))&&u(e,"data-gameid",gt)},i(c){O||(K(R.$$.fragment,c),K(me.$$.fragment,c),O=!0)},o(c){Y(R.$$.fragment,c),Y(me.$$.fragment,c),O=!1},d(c){c&&d(e),nt(R),B&&B.d(),nt(me),ee=!1,ua(qe)}}}function Vl(t,e,a){let l,r,s,i;lt(t,wa,I=>a(10,r=I)),lt(t,ga,I=>a(5,i=I));const f=new ba,{dbStore:n}=jt;lt(t,n,I=>a(9,s=I));let{file:m=Ta}=e,{href:p=""}=e,k="",E=!1;const g=()=>{r.mobile||a(3,E=!0)},w=()=>{r.mobile||a(3,E=!1)};return t.$$set=I=>{"file"in I&&a(0,m=I.file),"href"in I&&a(1,p=I.href)},t.$$.update=()=>{var I;t.$$.dirty&513&&a(4,l=(I=m==null?void 0:m.game)!=null&&I.id?s[m.game.id]:ma),t.$$.dirty&1&&m.imgUrl&&f.getColorAsync(m.imgUrl).then(z=>{z&&a(2,k=z.rgb)})},[m,p,k,E,l,i,n,g,w,s]}class Al extends ft{constructor(e){super(),ut(this,e,Vl,Dl,ot,{file:0,href:1})}}function Sl(t){let e,a;return e=new Lt({props:{icon:Sa,title:t[0].title,class:"aspectTable hover:brightness-125 hover:scale-110 transition-all text-[146px]"}}),{c(){rt(e.$$.fragment)},l(l){st(e.$$.fragment,l)},m(l,r){it(e,l,r),a=!0},p(l,r){const s={};r&1&&(s.title=l[0].title),e.$set(s)},i(l){a||(K(e.$$.fragment,l),a=!0)},o(l){Y(e.$$.fragment,l),a=!1},d(l){nt(e,l)}}}function Rl(t){let e,a,l,r;return{c(){e=h("img"),this.h()},l(s){e=v(s,"IMG",{alt:!0,title:!0,class:!0,width:!0,src:!0}),this.h()},h(){u(e,"alt",a=t[0].youtubeId),u(e,"title",l=t[0].title),u(e,"class","card aspectTable hover:brightness-125 hover:scale-110 transition-all svelte-cprdlx"),u(e,"width","352"),ce(e.src,r=`https://img.youtube.com/vi/${t[0].youtubeId}/0.jpg`)||u(e,"src",r),se(e,"glow",t[2])},m(s,i){$(s,e,i)},p(s,i){i&1&&a!==(a=s[0].youtubeId)&&u(e,"alt",a),i&1&&l!==(l=s[0].title)&&u(e,"title",l),i&1&&!ce(e.src,r=`https://img.youtube.com/vi/${s[0].youtubeId}/0.jpg`)&&u(e,"src",r),i&4&&se(e,"glow",s[2])},i:Vt,o:Vt,d(s){s&&d(e)}}}function fa(t){let e,a,l,r;return a=new Lt({props:{icon:Aa}}),{c(){e=h("a"),rt(a.$$.fragment),this.h()},l(s){e=v(s,"A",{href:!0,target:!0});var i=b(e);st(a.$$.fragment,i),i.forEach(d),this.h()},h(){u(e,"href",l=t[0].url),u(e,"target","_blank")},m(s,i){$(s,e,i),it(a,e,null),r=!0},p(s,i){(!r||i&1&&l!==(l=s[0].url))&&u(e,"href",l)},i(s){r||(K(a.$$.fragment,s),r=!0)},o(s){Y(a.$$.fragment,s),r=!1},d(s){s&&d(e),nt(a)}}}function Hl(t){var Q;let e,a,l,r,s,i,f=t[0].title+"",n,m,p,k,E=((Q=t[0].authors)==null?void 0:Q.join(", "))+"",g,w,I;const z=[Rl,Sl],R=[];function N(D,P){return D[0].youtubeId?0:1}a=N(t),l=R[a]=z[a](t);let V=t[0].youtubeId&&t[0].url&&fa(t);return{c(){e=h("a"),l.c(),r=M(),s=h("div"),i=h("p"),n=A(f),m=M(),p=h("p"),V&&V.c(),k=M(),g=A(E),this.h()},l(D){e=v(D,"A",{href:!0,class:!0,id:!0,"data-gameid":!0,"data-filetype":!0});var P=b(e);l.l(P),r=F(P),s=v(P,"DIV",{class:!0});var X=b(s);i=v(X,"P",{class:!0});var y=b(i);n=S(y,f),y.forEach(d),m=F(X),p=v(X,"P",{class:!0});var H=b(p);V&&V.l(H),k=F(H),g=S(H,E),H.forEach(d),X.forEach(d),P.forEach(d),this.h()},h(){u(i,"class","font-bold text-ellipsis whitespace-nowrap overflow-hidden leading-4"),u(p,"class","flex items-center gap-1 text-ellipsis whitespace-nowrap overflow-hidden opacity-60 pb-1"),u(s,"class","flex flex-col py-4"),u(e,"href",t[1]),u(e,"class","flex flex-col"),u(e,"id",w=t[0].id),u(e,"data-gameid",t[3]),u(e,"data-filetype","b2sFiles")},m(D,P){$(D,e,P),R[a].m(e,null),o(e,r),o(e,s),o(s,i),o(i,n),o(s,m),o(s,p),V&&V.m(p,null),o(p,k),o(p,g),I=!0},p(D,[P]){var y;let X=a;a=N(D),a===X?R[a].p(D,P):(Et(),Y(R[X],1,1,()=>{R[X]=null}),It(),l=R[a],l?l.p(D,P):(l=R[a]=z[a](D),l.c()),K(l,1),l.m(e,r)),(!I||P&1)&&f!==(f=D[0].title+"")&&j(n,f),D[0].youtubeId&&D[0].url?V?(V.p(D,P),P&1&&K(V,1)):(V=fa(D),V.c(),K(V,1),V.m(p,k)):V&&(Et(),Y(V,1,1,()=>{V=null}),It()),(!I||P&1)&&E!==(E=((y=D[0].authors)==null?void 0:y.join(", "))+"")&&j(g,E),(!I||P&2)&&u(e,"href",D[1]),(!I||P&1&&w!==(w=D[0].id))&&u(e,"id",w),(!I||P&8)&&u(e,"data-gameid",D[3])},i(D){I||(K(l),K(V),I=!0)},o(D){Y(l),Y(V),I=!1},d(D){D&&d(e),R[a].d(),V&&V.d()}}}function Ol(t,e,a){let{file:l=Pa}=e,{href:r=""}=e,{active:s=!1}=e,{gameId:i}=e;return t.$$set=f=>{"file"in f&&a(0,l=f.file),"href"in f&&a(1,r=f.href),"active"in f&&a(2,s=f.active),"gameId"in f&&a(3,i=f.gameId)},[l,r,s,i]}class jl extends ft{constructor(e){super(),ut(this,e,Ol,Hl,ot,{file:0,href:1,active:2,gameId:3})}}const Kl={game:{route:"games",name:"Games",component:wl},tableFiles:{route:"tables",name:"Tables",component:Al},b2sFiles:{route:"b2s",name:"Backglasses",component:Ja},tutorialFiles:{route:"tutorials",name:"Tutorials",component:jl,icon:Gt},pupPackFiles:{route:"puppacks",name:"PuP Packs",component:Je,icon:Ra},romFiles:{route:"roms",name:"Roms",component:Je,icon:Ha},altColorFiles:{route:"coloredroms",name:"Colored Roms",component:Je,icon:Oa},altSoundFiles:{route:"altsounds",name:"Alt. Sounds",component:Je,icon:ja},topperFiles:{route:"toppers",name:"Toppers",component:Je,icon:La},povFiles:{route:"pov",name:"POVs",component:Je,icon:Ba},mediaPackFiles:{route:"mediapacks",name:"Media Packs",component:Je,icon:za},wheelArtFiles:{route:"wheelart",name:"Wheelart",component:Je,icon:Ua},ruleFiles:{route:"rules",name:"Rules",component:Je,icon:Gt}};export{Fl as F,St as P,Tl as T,wa as a,ba as b,Al as c,Kl as m};
